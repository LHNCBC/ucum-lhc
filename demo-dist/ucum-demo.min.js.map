{"version":3,"sources":["node_modules/browser-pack/_prelude.js","demo/demoConfig.js","demo/main.js","demo/ucumDemo.js","demo/ucumFileValidator.js","node_modules/abstract-leveldown/abstract-chained-batch.js","node_modules/abstract-leveldown/abstract-iterator.js","node_modules/abstract-leveldown/abstract-leveldown.js","node_modules/abstract-leveldown/index.js","node_modules/assert/assert.js","node_modules/assert/node_modules/inherits/inherits_browser.js","node_modules/assert/node_modules/util/support/isBufferBrowser.js","node_modules/assert/node_modules/util/util.js","node_modules/base64-js/index.js","node_modules/browser-resolve/empty.js","node_modules/browserify-fs/index.js","node_modules/buffer-from/index.js","node_modules/buffer/index.js","node_modules/clone/clone.js","node_modules/concat-stream/index.js","node_modules/core-util-is/lib/util.js","node_modules/csv-parse/lib/ResizeableBuffer.js","node_modules/csv-parse/lib/index.js","node_modules/csv-stringify/lib/index.js","node_modules/deferred-leveldown/deferred-iterator.js","node_modules/deferred-leveldown/deferred-leveldown.js","node_modules/errno/custom.js","node_modules/errno/errno.js","node_modules/escape-html/index.js","node_modules/events/events.js","node_modules/foreach/index.js","node_modules/fwd-stream/index.js","node_modules/fwd-stream/node_modules/isarray/index.js","node_modules/fwd-stream/node_modules/readable-stream/duplex.js","node_modules/fwd-stream/node_modules/readable-stream/lib/_stream_duplex.js","node_modules/fwd-stream/node_modules/readable-stream/lib/_stream_passthrough.js","node_modules/fwd-stream/node_modules/readable-stream/lib/_stream_readable.js","node_modules/fwd-stream/node_modules/readable-stream/lib/_stream_transform.js","node_modules/fwd-stream/node_modules/readable-stream/lib/_stream_writable.js","node_modules/fwd-stream/node_modules/readable-stream/readable.js","node_modules/fwd-stream/node_modules/readable-stream/writable.js","node_modules/fwd-stream/node_modules/string_decoder/index.js","node_modules/ieee754/index.js","node_modules/immediate/lib/index.js","node_modules/immediate/lib/messageChannel.js","node_modules/immediate/lib/mutation.js","node_modules/immediate/lib/nextTick.js","node_modules/immediate/lib/stateChange.js","node_modules/immediate/lib/timeout.js","node_modules/inherits/inherits_browser.js","node_modules/is-buffer/index.js","node_modules/is-typedarray/index.js","node_modules/is/index.js","node_modules/isarray/index.js","node_modules/level-blobs/index.js","node_modules/level-blobs/node_modules/readable-stream/lib/_stream_duplex.js","node_modules/level-blobs/node_modules/readable-stream/lib/_stream_readable.js","node_modules/level-blobs/node_modules/readable-stream/lib/_stream_transform.js","node_modules/level-blobs/node_modules/readable-stream/lib/_stream_writable.js","node_modules/level-blobs/node_modules/readable-stream/readable.js","node_modules/level-errors/errors.js","node_modules/level-filesystem/errno.js","node_modules/level-filesystem/index.js","node_modules/level-filesystem/node_modules/xtend/has-keys.js","node_modules/level-filesystem/node_modules/xtend/index.js","node_modules/level-filesystem/paths.js","node_modules/level-filesystem/stat.js","node_modules/level-filesystem/watchers.js","node_modules/level-fix-range/index.js","node_modules/level-hooks/index.js","node_modules/level-iterator-stream/index.js","node_modules/level-js/index.js","node_modules/level-js/iterator.js","node_modules/level-js/util/immediate-browser.js","node_modules/level-js/util/mixed-to-buffer.js","node_modules/level-js/util/support.js","node_modules/level-peek/index.js","node_modules/level-sublevel/batch.js","node_modules/level-sublevel/index.js","node_modules/level-sublevel/node_modules/level-fix-range/index.js","node_modules/level-sublevel/node_modules/object-keys/index.js","node_modules/level-sublevel/node_modules/object-keys/shim.js","node_modules/level-sublevel/node_modules/xtend/index.js","node_modules/level-sublevel/sub.js","node_modules/levelup/lib/batch.js","node_modules/levelup/lib/common.js","node_modules/levelup/lib/levelup.js","node_modules/levelup/lib/promisify.js","node_modules/lodash.get/index.js","node_modules/ltgt/index.js","node_modules/object-assign/index.js","node_modules/octal/index.js","node_modules/once/once.js","node_modules/path-browserify/index.js","node_modules/process-nextick-args/index.js","node_modules/process/browser.js","node_modules/prr/prr.js","node_modules/readable-stream/duplex-browser.js","node_modules/readable-stream/lib/_stream_duplex.js","node_modules/readable-stream/lib/_stream_passthrough.js","node_modules/readable-stream/lib/_stream_readable.js","node_modules/readable-stream/lib/_stream_transform.js","node_modules/readable-stream/lib/_stream_writable.js","node_modules/readable-stream/lib/internal/streams/BufferList.js","node_modules/readable-stream/lib/internal/streams/destroy.js","node_modules/readable-stream/lib/internal/streams/stream-browser.js","node_modules/readable-stream/passthrough.js","node_modules/readable-stream/readable-browser.js","node_modules/readable-stream/transform.js","node_modules/readable-stream/writable-browser.js","node_modules/safe-buffer/index.js","node_modules/stream-browserify/index.js","node_modules/stream-transform/lib/index.js","node_modules/string-range/index.js","node_modules/string-to-stream/index.js","node_modules/string_decoder/lib/string_decoder.js","node_modules/timers-browserify/main.js","node_modules/typedarray-to-buffer/index.js","node_modules/typedarray/index.js","node_modules/util-deprecate/browser.js","node_modules/util/util.js","node_modules/wrappy/wrappy.js","node_modules/xtend/immutable.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","demoPkg","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","UcumDemoConfig","defCategories_","categories_","categoryValues_","Clinical Use","Nonclinical Use","Constants","Obsolete","defDisplayFlds_","displayFlds_","baseSearchURL_","defCols_","baseSearchOpts_","nonMatchSuggestions","tableFormat","valueCols","tokens","decDigits_","maxDecDigits_","defaultPrecision_","UcumDemo","UcumFileValidator","getInstance","escapeHtml","Ucum","ucumPkg","UcumLhcUtils","UnitTables","_classCallCheck","utils_","utabs_","urlValCats_","urlValDispFlds_","urlOpts","buildUrlAndOpts","valAuto_","Def","Autocompleter","Search","Event","observeListSelections","demoInstance","reportUnitStringValidity","urlConvCats_","urlConvDispFlds_","fromAuto_","toAuto_","convFrom_","convFromNum_","convTo_","convToNum_","firstConvEntry_","lastResultFld_","lastResult_","blockLocationChangeHandler","holdThis","prototype","tab","urlString","opts","catsArray","dispArray","catLen","qString","dispLen","colHdrs","dString","join","buildTabSettings","document","getElementById","value","valFld","innerHTML","setAttribute","location","hash","click","divName","boxSuffix","settingsDiv","limitPara","createElement","limitLine","createTextNode","appendChild","buildCheckBoxes","dispPara","className","lineBreak","dispLine","namesArray","defBox","namesLen","theVal","theBox","checked","id","addEventListener","updateSetting","theSpan","theText","convertTab","validateTab","fromField","classList","remove","fromNumField","toField","toNumField","_sizeNameDivs","style","visibility","codeField","msgField","ckBoxId","tabSuffix","ckBox","clsName","boxVal","boxChecked","idx","indexOf","push","splice","_idx","tabName","clearCachedResults","destroy","elementID","msgElementID","useHTMLInMessages","useBraceMsgForEachString","valConv","retMsg","valMsg","parseResp","suggsField","display","clrFld","_clrFld","resFld","lastDispMsg","valMsgFld","height","uStr","setConvertValues","escVal","theStatus","validateUnitString","theUnit","add","concat","name","_multipleReplace","unshift","_suggSetOutput","console","log","err","message","pMsgLen","m","includes","valid","clear","undefined","sourceField","resultSide","toNumFld","convertUnit","numField","checkFld","checkVal","resultString","parsedNum","isNaN","parseFloat","msgFieldName","prec","precDigits","parseInt","_templateObject","numVal","NaN","toFixed","resultMsg","decDigits","fromName","escFromName","fromVal","toName","escToName","weightField","moleWeightVal","resultObj","convertUnitTo","toVal","precVal","toPrecision","needMoleWeightMsg_","_requestMolecularWeight","suggsSetString","resultField","setList","hypIdx","codeSep_","substr","commensurablesList","commUnits","commText","cLen","commNames","getProperty","sort","compareCodes","buttonID","blockText","noneText","theElement","theButton","innerText","replace","colName","dia","validateFile","files","initiateDownload","fileValidationError","bUrl","windowFocus","removeEventListener","URL","revokeObjectURL","an","parentElement","removeChild","href","download","body","src","aMsg","alert","suggSet","suggString","s","targetString","toReplace","replaceWith","RegExp","left","leftHeight","offsetHeight","right","rightHeight","stream","parse","transform","stringify","str","inputFile","sourceCol","fileSaveFunction","msgHandler","pipeFunc","reader","readyState","FileReader","DONE","clearInterval","intSet","result","on","pipe","parser","transformer","stringifier","outStream","readAsText","utils","columns","record","emit","_parseResp","header","Writable","objectMode","data","bracesMsg_","_write","encoding","done","blob","Blob","type","createObjectURL","setInterval","AbstractChainedBatch","db","_db","_operations","_written","_serializeKey","key","_serializeValue","_checkWritten","put","_checkKey","_put","del","_del","_clear","write","options","callback","_typeof","_batch","process","nextTick","AbstractIterator","_ended","_nexting","next","_next","apply","arguments","end","_end","AbstractLevelDOWN","status","cleanRangeOptions","k","hasOwnProperty","isRangeOption","isEmptyRangeOption","rangeOptions","v","isEmptyBuffer","Buffer","isBuffer","xtend","Object","split","open","oldStatus","createIfMissing","errorIfExists","_open","close","_close","get","asBuffer","_get","batch","array","_chainedBatch","Array","isArray","serialized","_setupIteratorOptions","reverse","keys","values","limit","keyAsBuffer","valueAsBuffer","iterator","_iterator","String","browser","obj","compare","b","x","y","len","Math","min","_isBuffer","pToString","toString","isView","arrbuf","ArrayBuffer","DataView","buffer","getName","func","util","isFunction","functionsHaveNames","match","regex","truncate","slice","inspect","something","rawname","getMessage","actual","operator","expected","fail","stackStartFunction","assert","AssertionError","ok","_deepEqual","strict","memos","isDate","getTime","isRegExp","source","multiline","lastIndex","ignoreCase","Float32Array","Float64Array","Uint8Array","actualIndex","objEquiv","isArguments","object","actualVisitedObjects","isPrimitive","getPrototypeOf","aIsArgs","bIsArgs","pSlice","ka","objectKeys","kb","notDeepStrictEqual","expectedException","test","isPrototypeOf","_tryBlock","block","error","_throws","shouldThrow","TypeError","userProvidedMessage","isUnwantedException","isError","isUnexpectedException","objectAssign","hasOwn","generatedMessage","captureStackTrace","stack","out","fn_name","next_line","substring","inherits","equal","notEqual","deepEqual","deepStrictEqual","notDeepEqual","strictEqual","notStrictEqual","throws","doesNotThrow","ifError","create","ctor","superCtor","super_","constructor","enumerable","writable","configurable","TempCtor","arg","copy","fill","readUInt8","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","styles","arrayToHash","forEach","val","recurseTimes","ret","isString","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","formatError","Date","base","braces","toUTCString","output","formatArray","map","formatProperty","pop","reduceToSingleString","simple","JSON","isNumber","isNull","l","desc","getOwnPropertyDescriptor","set","line","numLinesEst","reduce","prev","cur","ar","isNullOrUndefined","isSymbol","re","isObject","objectToString","d","pad","timestamp","time","getHours","getMinutes","getSeconds","getDate","months","getMonth","prop","formatRegExp","format","objects","args","Number","_","deprecate","fn","msg","deprecated","warned","throwDeprecation","traceDeprecation","trace","noDeprecation","debugEnviron","debugs","debuglog","env","NODE_DEBUG","toUpperCase","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","null","string","date","regexp","origin","getLens","b64","validLen","byteLength","lens","placeHoldersLen","_byteLength","toByteArray","tmp","arr","Arr","curByte","revLookup","charCodeAt","tripletToBase64","num","lookup","encodeChunk","uint8","start","fromByteArray","extraBytes","parts","len2","leveljs","levelup","fs","isArrayBuffer","input","fromArrayBuffer","byteOffset","maxLength","RangeError","isModern","from","fromString","isEncoding","bufferFrom","encodingOrOffset","alloc","allocUnsafe","createBuffer","K_MAX_LENGTH","buf","setPrototypeOf","fromArrayLike","isInstance","valueOf","fromObject","Symbol","toPrimitive","assertSize","size","numberIsNaN","SlowBuffer","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","read","indexSize","readUInt16BE","arrLength","valLength","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","base64","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","max","checkIEEE754","writeFloat","littleEndian","noAssert","ieee754","writeDouble","base64clean","trim","INVALID_BASE64_RE","units","Infinity","leadSurrogate","byteArray","hi","lo","dst","customInspectSymbol","for","INSPECT_MAX_BYTES","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","defineProperty","species","poolSize","allocUnsafeSlow","list","pos","swap16","swap32","swap64","toLocaleString","equals","target","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","newBuf","subarray","readUIntLE","mul","readUIntBE","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","table","i16","clone","parent","circular","_clone","child","getRegExpFlags","useBuffer","index","allParents","allChildren","attrs","flags","clonePrototype","ConcatStream","cb","shouldInferEncoding","getBody","isArrayish","isBufferish","stringConcat","strings","bufferConcat","bufs","arrayConcat","u8Concat","u8","U8","part","chunk","enc","inferEncoding","buff","firstBuffer","ResizeableBuffer","resize","Transform","bom_utf8","Parser","_this","_possibleConstructorReturn","_getPrototypeOf","_objectSpread","readableObjectMode","opt","underscore","bom","fnCastField","cast","cast_date","fnFirstLineToHeaders","normalizeColumnsArray","comment","delimiter","escape","isInteger","from_line","info","max_record_size","objname","quote","raw","record_delimiter","rd","relax","relax_column_count","skip_empty_lines","skip_lines_with_empty_values","skip_lines_with_error","rtrim","ltrim","to","to_line","comment_lines","empty_lines","invalid_field_length","lines","records","state","bomSkipped","castField","commenting","enabled","escaping","escapeIsQuote","expectedRecordLength","field","firstLineToHeaders","assign","previousBuf","quoting","stop","rawBuffer","recordHasError","record_length","recordDelimiterMaxLength","_toConsumableArray","trimChars","wasQuoting","wasRowDelimiter","__parse","nextBuf","_this$options","_this$state","bufLen","__needMoreData","__autoDiscoverRowDelimiter","chr","append","nextChr","isNextChrTrimable","__isCharTrimable","isNextChrComment","__compareBytes","isNextChrDelimiter","__isDelimiter","isNextChrRowDelimiter","__isRecordDelimiter","__error","prepend","_err","recordDelimiterLength","__resetField","__resetRow","errField","__onField","errRecord","__onRow","delimiterLength","_errField","_err2","lappend","rappend","_err3","_err4","_errField2","_errRecord","_this$options2","_this$state2","__firstLineToColumns","recordLength","_err5","disabled","headers","normalizedHeaders","reset","_this$options3","_this$state3","trimRight","_this$__cast","__cast","_this$__cast2","_slicedToArray","isColumns","context","column","__isFloat","sourceBuf","targetBuf","firtByte","sourceLength","_this$options4","_this$state4","delLength","loop1","rdLength","argument","normalizedColumns","Stringifier","chunks","results","base1","base10","base11","base12","base13","base2","base3","base4","base5","base6","base7","base8","base9","quoted","quotedEmpty","quotedString","eof","formatters","bool","rowDelimiter","countWriten","label","labels","preserve","_transform","_line","containsEscape","containsLinebreak","containsQuote","containsdelimiter","newLine","ref","ref1","shouldQuote","DeferredIterator","_options","setDb","it","op","method","_operation","DeferredLevelDOWN","_iterators","closed","deferrables","approximateSize","init","cause","prr","CustomError","createError","errno","path","description","ce","FilesystemError","all","custom","matchHtmlRegExp","exec","html","EventEmitter","_events","objectCreate","_eventsCount","_maxListeners","$getMaxListeners","that","defaultMaxListeners","emitNone","handler","isFn","listeners","arrayClone","emitOne","arg1","emitTwo","arg2","emitThree","arg3","emitMany","_addListener","listener","events","existing","newListener","w","emitter","count","warn","onceWrapper","fired","removeListener","wrapFn","_onceWrap","wrapped","bind","_listeners","unwrap","evlistener","unwrapListeners","listenerCount","spliceOne","objectCreatePolyfill","F","objectKeysPolyfill","functionBindPolyfill","Function","hasDefineProperty","setMaxListeners","getMaxListeners","er","doError","addListener","prependListener","once","prependOnceListener","position","originalListener","shift","removeAllListeners","rawListeners","eventNames","Reflect","ownKeys","Readable","Duplex","DUMMY","noop","toFunction","onreadable","rs","reading","destroyed","_read","fwd","onwritable","ws","ready","readable","duplex","initWritable","initReadable","dupl","allowHalfOpen","onend","_writableState","ended","xs","PassThrough","ReadableState","hwm","highWaterMark","pipes","pipesCount","flowing","endEmitted","calledRead","sync","needReadable","emittedReadable","readableListening","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","StringDecoder","_readableState","Stream","readableAddChunk","addToFront","chunkInvalid","onEofChunk","emitReadable","maybeReadMore","needMoreData","roundUpToNextPowerOf2","MAX_HWM","howMuchToRead","endReadable","emitReadable_","maybeReadMore_","pipeOnDrain","flow","dest","EE","emitDataEvents","pipeOnReadable","startPaused","paused","pause","resume","fromList","stringMode","cpy","setEncoding","nOrig","doRead","pipeOpts","onunpipe","cleanup","onclose","onfinish","ondrain","onerror","needDrain","unpipe","doEnd","stdout","stderr","endFn","dests","ev","wrap","_fromList","TransformState","afterTransform","needTransform","transforming","writecb","writechunk","ts","_transformState","_flush","writeencoding","WriteReq","WritableState","ending","finished","noDecode","decodeStrings","writing","bufferProcessing","onwrite","writelen","errorEmitted","writeAfterEnd","validChunk","decodeChunk","writeOrBuffer","doWrite","onwriteError","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","finishMaybe","entry","need","endWritable","READABLE_STREAM","assertEncoding","isBufferEncoding","passThroughWrite","utf16DetectIncompleteChar","charReceived","charLength","base64DetectIncompleteChar","surrogateSize","detectIncompleteChar","charBuffer","charStr","available","charCode","cr","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","abs","floor","LN2","cleanUpNextTick","draining","currentQueue","queue","queueIndex","scheduled","timeout","setTimeout","run","clearTimeout","Item","fun","immediate","task","scheduleDrain","types","install","setImmediate","MessageChannel","channel","port1","onmessage","port2","postMessage","Mutation","MutationObserver","WebKitMutationObserver","handle","called","observer","element","observe","characterData","scriptEl","onreadystatechange","parentNode","documentElement","isSlowBuffer","isTypedArray","isStrictTypedArray","isLooseTypedArray","Int8Array","Int16Array","Int32Array","Uint8ClampedArray","Uint16Array","Uint32Array","names","loose","[object Int8Array]","[object Int16Array]","[object Int32Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Uint16Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","objProto","owns","isActualNaN","NON_HOST_TYPES","is","defined","empty","other","hosted","host","instance","isStandardArguments","isOldArguments","arraylike","callee","HTMLElement","nodeType","infinite","decimal","divisibleBy","isDividendInfinite","isDivisorInfinite","isNonZeroNumber","int","maximum","others","minimum","nan","even","odd","ge","gt","le","lt","within","finish","peek","EMPTY","ENCODER","encode","decode","expand","blobs","blockSize","maxBatch","blank","reservations","mutateBlock","release","locks","onreservation","valueEncoding","notFound","WriteStream","blocks","bytesWritten","_shouldInitAppend","_destroyed","_init","blockIndex","blockOffset","blockLength","_truncate","dels","createKeyStream","_writeBlock","force","_initAppend","overflow","free","ReadStream","_missing","_paused","_reader","createReadStream","onblock","_pause","last","latest","createWriteStream","defaultHwm","debug","resumeScheduled","resume_","ondata","writableObjectMode","corked","pendingcb","prefinished","writev","_writev","cbs","prefinish","cork","uncork","LevelUPError","NotFoundError","InitializationError","OpenError","ReadError","WriteError","EncodingError","sublevel","octal","paths","watchers","bl","ps","links","fds","now","inc","mkdir","mode","follow","stat","EEXIST","rmdir","readdir","ENOTEMPTY","isDirectory","ENOTDIR","ENOENT","isFile","lstat","exists","chmod","update","lchmod","chown","uid","gid","lchown","utimes","atime","mtime","upd","rename","statFrom","statTo","EISDIR","realpath","cache","writeFile","ctime","appendFile","unlink","clean","onlink","link","readFile","flag","change","watchFile","watch","normalize","unwatchFile","unwatch","watcher","notify","fl","plus","writePos","onready","fd","ontruncate","EBADF","off","readPos","fsync","ftruncate","fchown","fchmod","futimes","fstat","symlink","readlink","EINVAL","st","hasKeys","extend","ROOT","prefix","doc","EPERM","dirname","file","resolve","root","loop","toDate","Stat","isBlockDevice","isCharacterDevice","isSymbolicLink","isFIFO","isSocket","onchange","range","ranges","getPrefix","getKeyEncoding","_getKeyEncoding","getValueEncoding","_getValueEncoding","remover","item","each","posthooks","h","hook","callHooks","isBatch","prehooks","ch","safe","ke","keyEncoding","ve","veto","filter","hooks","post","checker","pre","ary","_destroy","err2","Level","DEFAULT_PREFIX","version","Iterator","mixedToBuffer","support","binaryKeys","indexedDB","arrayKeys","req","onsuccess","onupgradeneeded","objectStoreNames","contains","createObjectStore","store","transaction","objectStore","await","request","onabort","oncomplete","delete","operations","abort","deleteDatabase","_limit","_count","_callback","_cache","_completed","_aborted","_error","_transaction","_keyAsBuffer","_valueAsBuffer","keyRange","createKeyRange","createIterator","ltgt","lower","lowerBound","upper","upperBound","lowerOpen","lowerBoundExclusive","upperOpen","upperBoundExclusive","IDBKeyRange","bound","openCursor","cursor","onItem","onAbort","onComplete","maybeNext","toBuffer","impl","cmp","onEvent","event","first","fixRange","_start","_key","addOperation","operation","Batch","sdb","_sdb","B","SubDb","Hooks","DB","safeRange","sep","sublevels","methods","readStream","keyStream","valuesStream","createValueStream","changes","keysShim","has","hasDontEnumBug","propertyIsEnumerable","dontEnums","theKeys","dontEnum","Keys","SubDB","_parent","_prefix","_root","selectivelyMerge","_opts","SDB","_getOptsAndCb","valueStream","writeStream","nocheck","_p","_levelup","ops","promisify","getCallback","getOptions","promise","LevelUP","maybeError","_isOpening","isOpen","IteratorStream","errors","isClosed","default","Promise","reject","getValue","isHostObject","Hash","entries","hashClear","__data__","nativeCreate","hashDelete","hashGet","HASH_UNDEFINED","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","Map","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","eq","baseGet","isKey","castPath","toKey","baseIsNative","isMasked","reIsNative","reIsHostCtor","toSource","baseToString","symbolToString","INFINITY","stringToPath","isKeyable","getNative","reIsPlainProp","reIsDeepProp","maskSrcKey","funcToString","memoize","resolver","FUNC_ERROR_TEXT","memoized","Cache","tag","funcTag","genTag","isObjectLike","symbolTag","defaultValue","reLeadingDot","rePropName","reRegExpChar","reEscapeChar","freeGlobal","freeSelf","arrayProto","funcProto","objectProto","coreJsData","IE_PROTO","_Symbol","symbolProto","isDef","hasKey","lowerBoundKey","def","lowerBoundInclusive","upperBoundInclusive","upperBoundKey","startInclusive","endInclusive","toLtgt","_range","defaults","lb","ub","gte","lte","toObject","getOwnPropertySymbols","propIsEnumerable","test1","test2","test3","letter","symbols","onceStrict","onceError","wrappy","normalizeArray","allowAboveRoot","up","basename","matchedSlash","resolvedPath","resolvedAbsolute","cwd","charAt","isAbsolute","trailingSlash","relative","fromParts","toParts","samePartsLength","outputParts","hasRoot","extname","startDot","startPart","preDotState","defaultSetTimout","defaultClearTimeout","runTimeout","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","drainQueue","title","argv","versions","binding","chdir","umask","definition","setProperty","makeOptions","oo","os","pna","onEndNT","_uint8ArrayToBuffer","_isUint8Array","OurUint8Array","isDuplex","readableHwm","readableHighWaterMark","BufferList","skipChunkCheck","addChunk","computeNewHighWaterMark","head","EElistenerCount","nReadingNextTick","fromListPartial","hasStrings","copyFromBufferString","copyFromBuffer","nb","tail","endReadableNT","debugUtil","destroyImpl","kProxyEvents","_undestroy","undestroy","isPaused","unpipeInfo","hasUnpiped","cleanedUp","increasedAwaitDrain","flush","_this2","CorkedRequest","onCorkedFinish","nop","writableHwm","writableHighWaterMark","finalCalled","bufferedRequest","lastBufferedRequest","bufferedRequestCount","corkedRequestsFree","realHasInstance","final","_final","isBuf","newChunk","asyncWrite","holder","allBuffers","callFinal","corkReq","internalUtil","getBuffer","current","hasInstance","setDefaultEncoding","Constructor","copyBuffer","readableDestroyed","writableDestroyed","emitErrorNT","copyProps","SafeBuffer","didOnEnd","_isStdio","Transformer","len1","row","consume","options1","transform1","parallel","running","started","params","_done","_ending","term","inner","satisfies","StringStream","_str","_normalizeEncoding","retried","normalizeEncoding","nenc","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckIncomplete","utf8CheckExtraBytes","utf8Text","total","utf8End","Timeout","clearFn","_id","_clearFn","immediateIds","nextImmediateId","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","configureProperties","getOwnPropNames","defineProp","props","makeArrayAccessors","MAX_ARRAY_LENGTH","_getter","_setter","as_signed","bits","as_unsigned","packI8","unpackI8","packU8","unpackU8","packU8Clamped","round","packI16","unpackI16","packU16","unpackU16","packI32","unpackI32","packU32","unpackU32","packIEEE754","ebits","fbits","roundToEven","bias","unpackIEEE754","unpackF64","packF64","unpackF32","packF32","ECMAScript","ophop","Class","HasProperty","HasOwnProperty","IsCallable","ToInt32","ToUint32","__defineGetter__","__defineSetter__","makeConstructor","bytesPerElement","pack","unpack","_ctor","sequence","BYTES_PER_ELEMENT","ArrayBufferView","_pack","_unpack","SyntaxError","_bytes","clamp","makeGetter","arrayType","uint8Array","Boolean","IS_BIG_ENDIAN","makeSetter","byteView","typeArray","u16array","getUint8","getInt8","getUint16","getInt16","getUint32","getInt32","getFloat32","getFloat64","setUint8","setInt8","setUint16","setInt16","setUint32","setInt32","setFloat32","setFloat64","config","localStorage","wrapper"],"mappings":"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","file":"ucum-demo.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/*\n * The license for the UCUM LHC code (demo and library code) is located at\n * https://github.com/lhncbc/ucum-lhc/blob/master/LICENSE.md\n *\n * This defines the UCUM demo-specific global variables and constants.\n * See the config.js file for UCUM global definitions that are not specific\n * to the demo.\n *\n * The javascript for this UCUM implementation uses syntax as\n * defined by the ECMAScript 6 standard\n */\n\nexport var UcumDemoConfig = {\n\n   /**\n   * Categories that can be used to limit units listed by the autocompleter\n   * in the Demo Unit Conversions page.   Separated into two arrays, with\n   * the default categories in defCategories_ .\n   */\n  defCategories_ : ['Clinical Use'],\n  categories_ : ['Nonclinical Use', 'Constants', 'Obsolete'],\n\n  /**\n   * Hash that matches category display names with the corresponding\n   * values used in the data\n   */\n  categoryValues_ : {'Clinical Use' : 'Clinical',\n    'Nonclinical Use' : 'Nonclinical',\n    'Constants' : 'Constant',\n    'Obsolete' : 'Obsolete'},\n\n  /**\n   * Fields that the user can select for display in the autocompleter list\n   * that displays units in the Demo Unit Conversions page.   Separated into\n   * two arrays, with the default categories in defDisplayFlds_ .\n   */\n  defDisplayFlds_ : ['cs_code', 'name', 'guidance'],\n  displayFlds_ : ['category', 'synonyms', 'loinc_property', 'source'],\n\n  /**\n   * Base URL for an autocompleter search query on the clinical tables search\n   * service for extended UCUM data\n   */\n  baseSearchURL_ : 'https://clin-table-search.lhc.nlm.nih.gov/api/ucum/v3/' +\n                   'search?q=is_simple:true',\n\n  /**\n   * Default column headers for an autocompleter search query when no display\n   * fields are specified.  If no display fields are specified, these are the\n   * columns that are displayed.  Once the user specifies columns to display,\n   * the column headers are built from those column names.\n   */\n  defCols_ : ['cs_code','name', 'guidance'],\n\n  /**\n   * Basic search opts used for all autocompleter search queries\n   */\n  baseSearchOpts_ : {'nonMatchSuggestions': false,\n                     'tableFormat': true,\n                     'valueCols': [0],\n                     'tokens': ['/', '.']},\n\n  /**\n   *  The default number of decimal digits to be displayed for a unit amount\n   */\n  decDigits_ : 2,\n\n  /**\n   *  The maximum number of decimal digits to be displayed for a unit amount.\n   */\n  maxDecDigits_ : 20,\n\n  /**\n   *  The default precision to be used\n   */\n  defaultPrecision_ : 15\n} ;\n\n\n","\n\n/**\n * This is the code entry point for the demo web page.  It coordinates the\n * loading of the prefix and unit objects from the json definitions file and\n * populating the autocompleter unit lists.\n */\n\n\nexport var UcumDemoConfig = require(\"./demoConfig.js\").UcumDemoConfig;\nexport var UcumDemo = require(\"./ucumDemo.js\").UcumDemo;\nexport var UcumFileValidator = require(\"./ucumFileValidator.js\").UcumFileValidator;\nvar demo = UcumDemo.getInstance();\n\n","\n/**\n * This is the code entry point for the demo web page.  It coordinates the\n * loading of the prefix and unit objects from the json definitions file and\n * populating the autocompleter unit lists.\n */\n\nvar fs = require('browserify-fs');\nvar escapeHtml = require('escape-html');\n\nvar Ucum = ucumPkg.Ucum;\nvar UcumDemoConfig = require('./demoConfig.js').UcumDemoConfig;\nvar UcumLhcUtils = ucumPkg.UcumLhcUtils;\nvar UnitTables = ucumPkg.UnitTables;\nvar UcumFileValidator = require('./ucumFileValidator.js').UcumFileValidator;\n\nexport class UcumDemo {\n\n  constructor () {\n\n    // run the constructors for the utils and unitTables classes to get\n    // things initialized and data loaded.\n    this.utils_ = UcumLhcUtils.getInstance();\n    this.utabs_ = UnitTables.getInstance();\n\n    // Set up the category and display column defaults for the validator\n    // tab and call buildUrlAndOpts to build them\n    this.urlValCats_ = UcumDemoConfig.defCategories_ ;\n    this.urlValDispFlds_ = UcumDemoConfig.defCols_ ;\n    urlOpts = this.buildUrlAndOpts('validate');\n\n    // Set up the search autocompleter for the unit expression field\n    // on the validator tab\n    this.valAuto_ = new Def.Autocompleter.Search('valString',\n      urlOpts[0], urlOpts[1]);\n    Def.Autocompleter.Event.observeListSelections('valString',\n      (function(demoInstance) {\n        return function () {\n          demoInstance.reportUnitStringValidity('valString',\n            'Validator', 'validationString');\n        }\n      })(this));\n\n    // Set up the default category and display column defaults for the\n    // converter tab and call buildUrlAndOpts to build them\n    this.urlConvCats_ = UcumDemoConfig.defCategories_ ;\n    this.urlConvDispFlds_ = UcumDemoConfig.defCols_ ;\n    let urlOpts = this.buildUrlAndOpts('convert');\n\n    // Set up the search autocompleters for the \"from\" and \"to\" unit code input\n    // fields on the Converter tab section\n    this.fromAuto_ = new Def.Autocompleter.Search('convertFrom',\n                     urlOpts[0], urlOpts[1]);\n    Def.Autocompleter.Event.observeListSelections('convertFrom',\n      (function(demoInstance) {\n        return function () {\n          demoInstance.reportUnitStringValidity('convertFrom',\n            'Converter', 'convMsg');\n        }\n      })(this));\n\n    this.toAuto_ = new Def.Autocompleter.Search('convertTo',\n                     urlOpts[0], urlOpts[1]);\n    Def.Autocompleter.Event.observeListSelections('convertTo',\n      (function(demoInstance) {\n        return function () {\n          demoInstance.reportUnitStringValidity('convertTo',\n            'Converter', 'convMsg');\n        }\n      })(this));\n\n    // Flags indicating validity of the \"from\" and \"to\" unit code and number\n    // fields on the conversion tab.\n    this.convFrom_ = false ;\n    this.convFromNum_ = true ;\n    this.convTo_ = false ;\n    this.convToNum_ = true ;\n\n    // Flag used to track a first entry on the converter tab.   This is needed\n    // to know when to blank out the \"to\" number field if the user first enters\n    // a unit code when the converter tab is displayed.   After that point\n    // blanking out a numeric field as appropriate is taken care of.\n    this.firstConvEntry_ = true ;\n\n    // Remember which numeric value was last reported as the conversion result\n    // and what field it was reported in\n    this.lastResultFld_ = null ;\n    this.lastResult_ = 0;\n\n    // Flag used to block execution of the location change event handler when\n    // location is changed in the url as the result of the user clicking on\n    // one of the tabs (validator or converter tabs) by the checkTabsSwitch\n    // function.\n    this.blockLocationChangeHandler = false ;\n\n    // Set up the prefetch autocompleter for the \"to\" conversion field.  It will\n    // be populated with commensurable units in based on what the user enters\n    // in the \"from\" field.  Changed to search autocompleter per Clem\n    // this.toAuto_ = new Def.Autocompleter.Prefetch('convertTo', []);\n\n    // Because this code is loaded with the page, there is no danger in\n    // this being a singleton.\n    let holdThis = UcumDemo.prototype;\n    UcumDemo = function () {\n      throw (new Error('UcumDemo is a Singleton.  ' +\n                       'Use UcumDemo.getInstance() instead.'));\n    };\n    if (exports)\n      exports.UcumDemo = UcumDemo;\n    UcumDemo.prototype = holdThis;\n\n    let self = this ;\n    UcumDemo.getInstance = function(){return self} ;\n  }\n\n  /**\n   * This method builds the URL and options array used by the search autocompleter\n   * used for the \"convert from\" field on the converter tab and the\n   * \"unit expression to be validated\" field on the validator tab.\n   *\n   * This uses the urlCategories_ and urlDisplayFlds_ arrays built in the\n   * constructor to get the list of categories to be included and fields\n   * to be displayed in the autocompleter list.\n   *\n   * This is called from the constructor, to build the initial url, and then\n   * each time the user clicks on one of the checkboxes assigned to the\n   * categories and display fields listed in the advanced settings of the\n   * converter and validator tabs.\n   *\n   * This adds a minChars: 1 option to the end of options hash, to allow\n   * searching to start as soon as the operator enters 1 character.\n   *\n   * @param tab the tab that the autocompleter is on - either 'convert' or\n   *  'validate'\n   * @return an array containing the new url [0] and a new options hash [1]\n   */\n  buildUrlAndOpts(tab){\n    let urlString = UcumDemoConfig.baseSearchURL_;\n    let opts = UcumDemoConfig.baseSearchOpts_ ;\n    let catsArray = (tab === 'convert' ? this.urlConvCats_ : this.urlValCats_);\n    let dispArray = (tab === 'convert' ? this.urlConvDispFlds_ : this.urlValDispFlds_);\n    let catLen = catsArray.length;\n    if (catLen > 0) {\n      let qString = '';\n      for (let c = 0; c < catLen; c++) {\n        if (c > 0)\n          qString += ' OR ';\n        qString += UcumDemoConfig.categoryValues_[catsArray[c]] ;\n      }\n      if (catLen > 1)\n        qString = '(' + qString + ')';\n      urlString += ' AND category:' + qString ;\n    }\n    let dispLen = dispArray.length ;\n    let colHdrs = UcumDemoConfig.defCols_;\n    if (dispLen > 0){\n      colHdrs = dispArray ;\n      let dString = 'df=' + dispArray.join(',') ;\n      if (catLen > 0)\n        dString = '&' + dString;\n      else\n        dString = '?' + dString ;\n      urlString += dString ;\n    }\n    opts['colHeaders'] = colHdrs ;\n    opts['minChars'] = 1;\n    return [urlString, opts];\n\n  } // end buildUrlAndOpts\n\n\n  /* This method controls the building of the \"Advanced Settings\" section that\n   * appears on each tab of the demo page.  It is called when the page is\n   * loaded.   The settings consist of configuration data from the config.js\n   * file, so must be built whenever the page is built.\n   *\n   * This is called on the body onload event from the page html.\n   */\n  buildAdvancedSettings() {\n    this.buildTabSettings('advancedSearchVal', 'val') ;\n    this.buildTabSettings('advancedSearchCnv', 'cnv') ;\n    let prec = document.getElementById(\"precision\");\n    prec.value = UcumDemoConfig.defaultPrecision_ ;\n\n    // Clear the validator tab input field to avoid having a previous value\n    // displayed when the form is reloaded.   This should not be necessary,\n    // because the input field is defined with an attribute of\n    // autocomplete=\"off\".   But, Edge doesn't seem to feel like paying\n    // attention to that.  So this is a workaround.  BAH!\n    let valFld = document.getElementById(\"valString\");\n    valFld.innerHTML = \"\";\n    valFld.setAttribute(\"autocomplete\", \"false\");\n\n    // Check to see if the URL specified that the converter tab be\n    // displayed first.\n    if (window.location.hash === '#converter') {\n      let convertTab = document.getElementById(\"conversion-link\");\n      convertTab.click();\n    }\n  } // end buildAdvancedSettings\n\n\n  /**\n   * This method builds the \"Advanced Settings\" section for one tab of the\n   * demo page/site.  The settings consist of configuration data\n   * from the config.js file, so must be built whenever the page is built.\n   *\n   * This is called once for each tab by the buildAdvancedSettings function.\n   *\n   * @param divName name of the div element to receive the settings html\n   * @param boxSuffix suffix for the tab ('val' or 'cnv') that is included\n   *  in the checkbox ids for the sections built, and is used to determine\n   *  which tab is the target for the current call\n   */\n  buildTabSettings(divName, boxSuffix) {\n\n    // get the division that contains the advanced settings stuff\n    let settingsDiv = document.getElementById(divName);\n\n    // build the categories section\n    let limitPara = document.createElement(\"P\");\n    let limitLine = document.createTextNode(\"Limit search to units in selected categories:\");\n    limitPara.appendChild(limitLine);\n    settingsDiv.appendChild(limitPara);\n\n    this.buildCheckBoxes(settingsDiv, UcumDemoConfig.defCategories_, true,\n                         'category', boxSuffix) ;\n    this.buildCheckBoxes(settingsDiv, UcumDemoConfig.categories_, false,\n                         'category', boxSuffix) ;\n\n    // build display fields section\n    let dispPara = document.createElement(\"P\");\n    dispPara.className = 'topMargin20' ;\n    let lineBreak = document.createElement('BR');\n    dispPara.appendChild(lineBreak);\n    let dispLine = document.createTextNode(\"Select unit fields to display:\");\n    dispPara.appendChild(dispLine);\n    settingsDiv.appendChild(dispPara);\n\n    this.buildCheckBoxes(settingsDiv, UcumDemoConfig.defDisplayFlds_, true,\n                         'displayField', boxSuffix);\n    this.buildCheckBoxes(settingsDiv, UcumDemoConfig.displayFlds_, false,\n                         'displayField', boxSuffix);\n  } // buildTabSettings\n\n\n  /**\n   * This method builds one set of checkboxes for the advanced settings section\n   * on both tabs of the form.  The checkboxes are either checked as defaults or\n   * are not.\n   *\n   * This is called on the body onload event.\n   *\n   * @param settingsDiv the element that contains the settings\n   * @param namesArray the array that contains the names for the checkboxes\n   *  to be created\n   * @param defBox a flag indicating whether or not these boxes are to be\n   *  checked as defaults\n   * @param className a class name to be applied to the boxes.   Used to indicate\n   *  the type of checkbox (category or display)\n   * @param boxSuffix applied to the checkbox name to distinguish which tab\n   *  the checkbox is on ('val' or 'cnv')\n   * @return nothing\n   */\n  buildCheckBoxes(settingsDiv, namesArray, defBox, className, boxSuffix){\n\n    let namesLen = namesArray.length;\n    for (let i = 0; i < namesLen; i++) {\n      let theVal = namesArray[i];\n      let theBox = document.createElement(\"INPUT\");\n      theBox.setAttribute(\"type\", \"checkbox\");\n      theBox.checked = defBox;\n      theBox.id = theVal + \"_\" + boxSuffix + \"box\";\n      theBox.value = theVal ;\n      theBox.setAttribute(\"class\", className);\n      theBox.setAttribute(\"style\", \"margin-left: 10px; margin-right: 3px;\");\n      theBox.addEventListener(\"click\", function() {\n        demoPkg.UcumDemo.getInstance().updateSetting(theBox.id, boxSuffix);});\n      let theSpan = document.createElement('label');\n      theSpan.setAttribute(\"style\", \"display: inline-block\");\n      theSpan.appendChild(theBox);\n\n      let theText = document.createTextNode(theVal);\n      theText.className = 'checkboxText' ;\n      theSpan.appendChild(theText) ;\n      settingsDiv.appendChild(theSpan);\n    }\n  }  // end buildCheckBoxes\n\n\n  /**\n   * This method checks the location value of the current URL to see if it\n   * matched the current tab being displayed (or the one about to be\n   * displayed).  This is here to make sure that when the user clicks on\n   * the Validator or Converter tab, the \"#converter\" portion of the\n   * url, if specified, is removed if the user clicked on the validator tab.\n   *\n   * This is called on the body onhashchange event.\n   */\n  checkTabSwitch() {\n    if (this.blockLocationChangeHandler === false) {\n      if (window.location.hash === '#converter') {\n        let convertTab = document.getElementById(\"conversion-link\");\n        convertTab.click();\n      }\n      else {\n        let validateTab = document.getElementById(\"validation-link\");\n        validateTab.click();\n      }\n    }\n    else\n      this.blockLocationChangeHandler = false ;\n\n  } // end checkTabSwitch\n\n\n  /**\n   * This method is run when the Converter tab is displayed, to reset the\n   * variables that track the validity of the three inputs (\"from\" unit code,\n   * \"from\" value, and \"to\" unit code) that must be correct to attempt a\n   * conversion as well as to reset the molecular weight division to hidden\n   * status and the associated moleWeight input field to null.\n   */\n  showConvertTab(){\n    this.convFrom_ = false ;\n    let fromField = document.getElementById('convertFrom');\n    fromField.value = null;\n    fromField.classList.remove(\"invalid\");\n\n    let fromNameField = document.getElementById('convertFromName');\n    fromNameField.innerHTML = '';\n\n    this.convFromNum_ = true ;\n    let fromNumField = document.getElementById('convertFromNum');\n    fromNumField.value = 1;\n    fromNumField.classList.remove(\"invalid\");\n\n    this.convTo_ = false ;\n    let toField = document.getElementById('convertTo');\n    toField.value = null;\n    toField.classList.remove(\"invalid\");\n\n    let toNameField = document.getElementById('convertToName');\n    toNameField.innerHTML = '';\n\n    this.convToNum_ = true;\n    let toNumField = document.getElementById('convertToNum');\n    toNumField.value = 1;\n    toNumField.classList.remove(\"invalid\");\n\n    let msgField = document.getElementById('convMsg');\n    msgField.innerHTML = '';\n\n    // Make sure the number/code boxes are aligned properly and set the\n    // first entry flag to true.\n    this._sizeNameDivs();\n    this.firstConvEntry_ = true ;\n\n    let mWeightDiv = document.getElementById('molecular-weight');\n    mWeightDiv.style.visibility = 'hidden';\n\n    let mWeightFld = document.getElementById('moleWeight');\n    mWeightFld.value = null ;\n\n    if (window.location.hash !== '#converter' &&\n        window.location.hash !== '') {\n      this.blockLocationChangeHandler = true;\n      window.location.hash = '';\n    }\n  } // end showConvertTab\n\n\n  /**\n   * This method is run when the Validator tab is displayed, to reset the\n   * ucum expression input field and the message field.  Otherwise they\n   * retain their values when switching to the Converter tab and back.\n   */\n  showValidateTab(){\n\n    let codeField = document.getElementById('valString');\n    codeField.value = null;\n    codeField.classList.remove(\"invalid\");\n\n    let msgField = document.getElementById('validationString');\n    msgField.innerHTML = '';\n    msgField.classList.remove(\"invalid\");\n\n    if (window.location.hash === '#converter') {\n      this.blockLocationChangeHandler = true;\n      window.location.hash = '';\n      this.blockLocationChangeHandler = false ;\n    }\n  } // end showValidateTab\n\n\n  /**\n   * This method updates one of the autocompleter URLs and options based advanced\n   * search options selected by the user.  It is called on a click event\n   * for each setting option (category selections as well as display field\n   * selections).\n   *\n   * The autocompleter for the appropriate field on the one of the tabs of\n   * the demo page is recreated each time this is called.\n   *\n   * @param ckBoxId id of the checkbox on which the click event occurred\n   * @param tabSuffix suffix ('val' or 'cnv') used to determine which\n   *  autocompleter needs to be updated\n   */\n  updateSetting(ckBoxId, tabSuffix) {\n    let ckBox = document.getElementById(ckBoxId);\n    let clsName = ckBox.className ;\n    let boxVal = ckBox.value;\n    let boxChecked = ckBox.checked ;\n\n    if (clsName === 'category') {\n      let catsArray = (tabSuffix === 'cnv' ? this.urlConvCats_ :\n                                             this.urlValCats_);\n      let idx = catsArray.indexOf(boxVal) ;\n      // if the box is checked and the value is not already in the\n      // categories array, add it to the array.\n      if (boxChecked && idx < 0) {\n        catsArray.push(boxVal);\n        // if the box is unchecked and the value is in the array, remove\n        // it from the array.\n      }\n      else if (!boxChecked && idx >= 0) {\n        catsArray.splice(idx, 1) ;\n      }\n    }\n    else if (clsName === 'displayField') {\n      let dispArray = (tabSuffix === 'cnv' ? this.urlConvDispFlds_ :\n                                             this.urlValDispFlds_);\n      let idx = dispArray.indexOf(boxVal);\n      if (boxChecked && idx < 0) {\n        dispArray.push(boxVal);\n      }\n      else if (!boxChecked && idx >= 0) {\n        dispArray.splice(idx, 1);\n      }\n    }\n    else\n      throw(new Error('An error occurred while specifying your choice.'));\n\n    // call buildUrlAndOpts to build the url and options from the updated url\n    // arrays (category and display field arrays).\n    let tabName = (tabSuffix === 'cnv' ? 'convert' : 'validate') ;\n    let urlOpts = this.buildUrlAndOpts(tabName) ;\n\n    // Call setOptions and setUrl to update the the autocompleter.\n    // -- no, there is no setOptions at this point.  Leaving these lines in to remind\n    // me to update this if/when a setOptions (or equivalent) function\n    // becomes available.\n    //this.fromAuto_.setOptions(urlOpts[1]);\n    //this.fromAuto_.setURL(urlOpts[0]);\n\n    // So, instead, we clear the cache and recreate the autocompleter(s).\n    if (tabSuffix === 'cnv') {\n      this.fromAuto_.clearCachedResults();\n      this.fromAuto_.destroy();\n      this.fromAuto_ = new Def.Autocompleter.Search('convertFrom',\n          urlOpts[0], urlOpts[1]);\n      this.toAuto_.clearCachedResults();\n      this.toAuto_.destroy();\n      this.toAuto_ = new Def.Autocompleter.Search('convertTo',\n          urlOpts[0], urlOpts[1]);\n    } else {\n      this.valAuto_.clearCachedResults();\n      this.valAuto_.destroy();\n      this.valAuto_ = new Def.Autocompleter.Search('valString',\n          urlOpts[0], urlOpts[1]);\n    }\n  } // end updateSetting\n\n\n  /**\n   * This method validates a string that is supposed to be representing a valid\n   * unit. It indicates whether or not the string translates to a valid unit.\n   *\n   * @param elementID the ID of the web page element that contains the\n   *  string to be validated\n   * @param tabName the name of the tab ('Converter' or 'Validator') that\n   *  contains the input field\n   * @param msgElementID the ID of the web page element to receive messages\n   *  (success and error).\n   * @returns nothing directly; return is the success/error message\n   */\n  reportUnitStringValidity(elementID, tabName, msgElementID) {\n\n    this.utils_.useHTMLInMessages(true);\n    this.utils_.useBraceMsgForEachString(true);\n\n    let valConv = tabName === 'Validator' ? 'validate' : 'convert' ;\n\n    let retMsg = '';\n    let valMsg = '';\n    let parseResp = {};\n    let suggsField = null ;\n    if (tabName === 'Converter') {\n      suggsField = document.getElementById(\"convSuggestions\");\n      suggsField.innerHTML = '';\n      suggsField.style.display = 'none';\n      // This is called by a change to one of the unit fields, so\n      // hide the molecular weight division, clear the moleWeight input\n      // value, and clear the value of the last result field, if any\n      let mWeightDiv = document.getElementById('molecular-weight');\n      mWeightDiv.style.visibility = 'hidden';\n      let mWeightFld = document.getElementById('moleWeight');\n      mWeightFld.value = null ;\n      /*\n      if (this.lastResultFld_) {\n        let rf = document.getElementById(this.lastResultFld_);\n        rf.value = '';\n      }\n      */\n\n      // If the user entered a unit code as soon as the converter tab was\n      // displayed, blank out the number field of the opposite number/code set.\n      if (this.firstConvEntry_) {\n        this.firstConvEntry_ = false ;\n        if (elementID === 'convertFrom') {\n          let clrFld = document.getElementById('convertToNum');\n          clrFld.value = '';\n        }\n        else {\n          let clrFld = document.getElementById('convertFromNum');\n          clrFld.value = '';\n        }\n      }\n    }\n\n    // Clear the message field, but first hold onto the last message displayed.\n    // This is used at the end of this function to make sure we don't redisplay\n    // the same message.  This can happen if, for example, the user enters a\n    // unit code that requires a substitution, e.g., 2mg instead of 2.mg, and\n    // then enters another unit code in the other code field on the converter\n    // tab.   When the 2mg unit code is checked for validity, a substitution\n    // message is displayed.   When the second unit code is entered and the\n    // conversion is performed, the substitution message gets repeated because\n    // the conversion process will re-evaluate the 2mg unit code.  This avoids\n    // that second display of the same, and no longer needed, message.\n    let resFld = document.getElementById(msgElementID);\n    let lastDispMsg = resFld.innerHTML ;\n    resFld.innerHTML = '';\n    let valFld = document.getElementById(elementID);\n    let valMsgFld = document.getElementById(elementID + 'Name') ;\n    if (valMsgFld) {\n       valMsgFld.innerHTML = '';\n       valMsgFld.style.height = 'auto';\n    }\n    let uStr = valFld.value;\n\n    // If the field was blanked out and we're on the converter tab, call\n    // setConvertValues to set the validity flag for that field to false but not\n    // designate it as an error (no error message, no red border around the field)\n    if (uStr === '') {\n      if (tabName === 'Converter')\n        this.setConvertValues(elementID, false, true);\n    }\n    // Otherwise create a safe (to redisplay) copy of the field and\n    // try to validate it\n    else {\n      let escVal = escapeHtml(valFld.value);\n      let theStatus = '';\n      try {\n        parseResp = this.utils_.validateUnitString(uStr, true, valConv);\n        theStatus = parseResp['status'];\n        let theUnit = parseResp['unit'];\n        // If we got a unit back and the status isn't 'error', we found a\n        // unit (whether or not it matches the original string).\n        if (theStatus !== 'error' && theUnit) {\n\n          if (tabName === 'Converter') {\n            this.setConvertValues(elementID, true);\n\n            // If the last displayed message was displayed again, remove it here.\n            // See above for description of how that can happen.\n            if (resFld.innerHTML === lastDispMsg) {\n              resFld.innerHTML = '';\n            }\n            else {\n              retMsg = resFld.innerHTML ;\n            }\n          }\n          // If the status returned was 'invalid' it means we had to do a\n          // substitution to get a unit.  Set the class on the output\n          // strings to invalid.\n          if (theStatus === 'invalid') {\n            valFld.classList.add(\"invalid\");\n            resFld.classList.add(\"invalid\");\n            resFld.classList.remove(\"valid\");\n            valMsg = `${parseResp['ucumCode']} was substituted for ${escVal}.` ;\n            valMsgFld.classList.add(\"invalid\");\n          }\n          // Otherwise the status is valid.  If we're on the validator tab\n          // set the appropriate classes for the output fields.  This has\n          // already been done for the converter tab fields, in setConvertValues\n          else {\n            if (tabName === 'Validator') {\n              valFld.classList.remove('invalid');\n              resFld.classList.remove('invalid');\n              resFld.classList.add('valid');\n            }\n            // Assemble the valid value message.  If there is a unit name,\n            // use that.  If there's no name, just say that the code is valid.\n            valMsg = `${parseResp['ucumCode']} `;\n            if (theUnit.name) {\n              valMsg += `(${theUnit.name}) `;\n            }\n            valMsg += ' is a valid unit expression.';\n            // If there might be something that needs to be escaped in\n            // the message, do it now.\n            if (uStr !== escVal && uStr !== '') {\n              valMsg = this._multipleReplace(valMsg, uStr, escVal);\n            }\n            // For the validator tab, make sure the valid unit message\n            // is the first one that is displayed.  It may be followed\n            // by a message about substitutions, but it should be first.\n            if (tabName === 'Validator') {\n              if (parseResp['msg'].length > 0)\n                parseResp['msg'].unshift(valMsg);\n              else\n                parseResp['msg'] = [valMsg];\n            } // end if this is for the validator tab\n          }  // end if the status is 'valid'\n        } // end if we have a unit and the status is not 'error'\n        // Else the status returned is 'error' OR no unit was returned\n        // (status could still be invalid)\n        else {\n          if (tabName === 'Converter') {\n            this.setConvertValues(elementID, false);\n            valMsg = `${escVal} `;\n            if (theUnit && theUnit.name) {\n              valMsg += `(${theUnit.name}) `;\n            }\n            valMsg += ' is NOT a valid unit expression.';\n          }\n          else {\n            valFld.classList.add(\"invalid\");\n            resFld.classList.add(\"invalid\");\n            resFld.classList.remove(\"valid\");\n          }\n          // If the status is invalid and we have suggestions, put the suggestion\n          // output in the return message.   This include a starting line\n          // stating that the unit expression was invalid but we have\n          // suggestions.  If we don't have suggestions there\n          // should be an \"invalid\" message in the parse response's 'msg'\n          // element which will be transferred to the retMsg below.\n          if (parseResp['suggestions']) {\n            if (tabName === 'Validator') {\n              retMsg = this._suggSetOutput(parseResp['suggestions']);\n            }\n            else {\n              suggsField.innerHTML = this._suggSetOutput(parseResp['suggestions']);\n              suggsField.style.display = 'block';\n            }\n          }\n\n          if (theStatus === 'error') {\n            console.log(retMsg.concat(parseResp['msg']));\n            retMsg = `Sorry - an error occurred while trying to validate ${escVal}`;\n          }\n        } // end if parsing returned an error status\n      } // end try\n      catch (err) {\n        console.log(err.message);\n        retMsg = `Sorry - an error occurred while trying to validate ${escVal}`;\n        valFld.classList.add(\"invalid\");\n        resFld.classList.add(\"invalid\");\n        if (tabName === 'Converter') {\n          this.setConvertValues(elementID, false);\n        }\n      } // end catch\n\n      if (parseResp['msg'] && parseResp['msg'].length > 0) {\n        let pMsgLen = parseResp['msg'].length;\n        for (let m = 0; m < pMsgLen; m++) {\n          if (!retMsg.includes(parseResp['msg'][m])) {\n            if (retMsg != '')\n              retMsg += '<BR>';\n            retMsg += parseResp['msg'][m];\n          }\n        }\n      } // end if there's a message from the parse request\n\n      // If there's a message to be displayed (and it's not a repeat of\n      // the last displayed message) do it now\n      if (retMsg !== '' && retMsg !== lastDispMsg) {\n        if (uStr !== escVal && uStr !== '') {\n          retMsg = this._multipleReplace(retMsg, uStr, escVal);\n        }\n        resFld.innerHTML = retMsg;\n      }\n\n      // If we're on the converter tab, display any pending valid/invalid\n      // message for the code just entered and set the class of the field\n      // that gets that message (under the input field for the code)\n      if (tabName === 'Converter') {\n        valMsgFld.innerHTML = valMsg;\n        if (theStatus === 'valid')\n          valMsgFld.classList.remove('invalid');\n        else\n          valMsgFld.classList.add('invalid');\n      }\n\n    } // end if a value was specified\n\n    // Make sure the number/code blocks are aligned\n    if (tabName === 'Converter') {\n      this._sizeNameDivs();\n    }\n  } // end reportUnitStringValidity\n\n\n  /**\n   * This method sets the appropriate validity variable and display attributes\n   * (via the \"invalid\" class attribute) for one of the three inputs that\n   * must be correct to allow the user to request conversion.\n   *\n   * This also checks to see if all three are correct and if they are, it\n   * invokes the convertUnit function.\n   *\n   * @param elementID ID of the field that caused this to be called.\n   * @param valid true indicates that the value is valid; false means it's not.\n   * @param clear an optional boolean that signals a request to remove\n   *   highlighting (currently a red border) of the form element being updated.\n   *   This should be passed as true when the user clears the contents of a\n   *   field.  The input is not a valid value, but no message or highlighting\n   *   is required.  Default value is false.\n   *\n   */\n  setConvertValues(elementID, valid, clear) {\n\n    if (clear === undefined) {\n      clear = false ;\n    }\n    let msgField = document.getElementById('convMsg');\n    let sourceField = document.getElementById(elementID) ;\n    let resultSide = null ;\n    if (elementID === 'convertFrom') {\n      this.convFrom_ = valid;\n      let fromNumFld = document.getElementById('convertFromNum');\n      if (fromNumFld.value == '')\n        resultSide = 'from';\n      else\n        resultSide = 'to';\n    }\n    else if (elementID === 'convertTo') {\n      this.convTo_ = valid;\n      let toNumFld = document.getElementById('convertToNum');\n      if (toNumFld.value === '')\n        resultSide = 'to';\n      else\n        resultSide = 'from';\n    }\n    else if (elementID === 'convertFromNum') {\n      this.convFromNum_ = valid ;\n      resultSide = 'to';\n    }\n    else if (elementID === 'convertToNum') {\n      this.convToNum_ = valid;\n      resultSide = 'from';\n    }\n    else { // assume moleWeight\n      if (this.lastResultFld_ === 'convertFromNum')\n        resultSide = 'from';\n      else\n        resultSide = 'to';\n    }\n\n    // set or remove the indicator (currently a red border) on the invalid field\n    if (valid === false && !clear) {\n      sourceField.classList.add(\"invalid\");\n      msgField.classList.add(\"invalid\");\n    }\n    else {\n      sourceField.classList.remove(\"invalid\");\n      msgField.classList.remove(\"invalid\");\n    }\n\n    // if both code fields are valid, and the number field that is not\n    // being calculated is valid, perform the conversion\n    if (this.convFrom_ === true && this.convTo_ === true) {\n      if (resultSide === 'from' && this.convToNum_) {\n        this.convertUnit('convertTo',\n                         'convertToNum',\n                         'convertFrom',\n                         'convertFromNum');\n      }\n      else if (resultSide === 'to' && this.convFromNum_) {\n        this.convertUnit('convertFrom',\n                         'convertFromNum',\n                         'convertTo',\n                         'convertToNum');\n      }\n    }\n  } // end setConvertValues\n\n\n  /**\n   * This method checks a number of units value or the moleWeight value to make\n   * it's a valid number.  It calls setConvertValues to set the validity state\n   * flag for the number of units field as appropriate.\n   *\n   * @param numField the name of the input field to check\n   *\n   */\n  checkNumVal(numField) {\n\n    let checkFld = document.getElementById(numField);\n    let checkVal = escapeHtml(checkFld.value);\n    if (numField === 'moleWeight')\n      var resFld = document.getElementById(this.lastResultFld_) ;\n    else {\n      resFld = numField === 'convertFromNum' ?\n        document.getElementById('convertToNum') :\n        document.getElementById('convertFromNum');\n    }\n    let resultString = document.getElementById('convMsg');\n    resultString.innerHTML = '';\n\n    if (checkVal !== '') {\n      resFld.value = '';\n      let parsedNum = \"\" + checkVal;\n      if (isNaN(parsedNum) || isNaN(parseFloat(parsedNum))) {\n        resultString.innerHTML = `${checkVal} is not a valid number.`;\n        this.setConvertValues(numField, false);\n      }\n      else {\n        this.setConvertValues(numField, true);\n      }\n    } // end if a value was specified\n\n    // Else the value is blank. call setConvertValues to set the validity\n    // indicator to false and remove any red highlighting that might be there.\n    else {\n      this.setConvertValues(numField, false, true);\n    }\n\n    // Clear the first entry flag, make sure the number/code blocks are aligned\n    if (this.firstConvEntry_) {\n      this.firstConvEntry_ = false ;\n    }\n    this._sizeNameDivs();\n\n  } // end checkNumVal\n\n\n  /**\n   * This checks the value specified for number of decimal digits on the\n   * Converter tab.  If the number is invalid it issues a message and resets\n   * the value to the default.\n   *\n   * If the number is valid it resets both the\n   * convert \"from\" and convert \"to\" numbers to the appropriate value, using\n   * the stored values for those fields.  It does not reset a value for a\n   * field that is blank.\n   *\n   * @param numField the name of the number of units field\n   *\n   */\n  updatePrecision(msgFieldName) {\n\n    let msgField = document.getElementById(msgFieldName);\n    msgField.innerHTML = '';\n    let prec = document.getElementById(\"precision\");\n    let precDigits = parseInt(prec.value);\n    if (isNaN(precDigits) || (precDigits < 0)) {\n      msgField.innerHTML = `Decimal digits must be specified as a number `+\n                           `between 0 and ${UcumDemoConfig.maxDecDigits_}.  ` +\n                           `It has been reset to the default value.`;\n      msgField.classList.add(\"invalid\");\n      precDigits = UcumDemoConfig.defaultPrecision_;\n      prec.value = precDigits;\n    }\n    else if (precDigits > UcumDemoConfig.maxDecDigits_) {\n      msgField.innerHTML = `${escapeHtml(prec.value)} is not a valid value for `\n        `decimal digits.  It has been reset to the maximum number of digits ` +\n        `allowed.`;\n      msgField.classList.add(\"invalid\");\n      precDigits = UcumDemoConfig.maxDecDigits_;\n      prec.value = precDigits;\n    }\n    // Update the result field\n    let numField = document.getElementById(this.lastResultFld_);\n    let numVal = parseFloat(numField.value);\n    if (numVal !== NaN) {\n      numVal = this.lastResult_.toFixed(precDigits);\n      numField.value = numVal;\n    }\n\n  } // end updatePrecision\n\n\n  /**\n   * This method converts one unit to another\n   *\n   * @param fromField the ID of the field containing the name of the unit to\n   *  be converted\n   * @param fromNumField the ID of the field containing the number of \"from\" units\n   *  to be converted to \"to\" units\n   * @param toField the ID of the field containing the name of the unit that\n   *  the from field is to be converted to\n   * @param toNumField the ID of the field to receive the number of \"to\" units\n   */\n  convertUnit(fromField, fromNumField, toField, toNumField) {\n\n    this.utils_.useHTMLInMessages(true);\n    this.utils_.useBraceMsgForEachString(true);\n\n    let resultMsg = '';\n    let prec = document.getElementById(\"precision\");\n    let decDigits = parseInt(escapeHtml(prec.value));\n    if (isNaN(decDigits)) {\n      decDigits = Ucum.decDigits_;\n      prec.value = decDigits;\n    }\n    // Start out with the precision not displayed\n    let precLine = document.getElementById('precision-line');\n    precLine.style.display = \"none\";\n\n    // Store the name of the result field so that we have it if a larger number\n    // of digits is subsequently requested AND (for the result field name)\n    // when a molecular weight is requested.\n    this.lastResultFld_ = toNumField ;\n\n    let fromName = document.getElementById(fromField).value ;\n    let escFromName = escapeHtml(fromName);\n    let fromVal = parseFloat(escapeHtml(document.getElementById(fromNumField).value));\n    let toName = document.getElementById(toField).value;\n    let escToName = escapeHtml(toName);\n\n    // Get the field to hold an error message and the one to hold suggestions\n    let msgField = document.getElementById(\"convMsg\");\n    msgField.innerHTML = '';\n    let suggsField = document.getElementById(\"convSuggestions\");\n    suggsField.innerHTML = '';\n    suggsField.style.display = 'none';\n\n    let weightField = document.getElementById(\"moleWeight\");\n    let moleWeightVal = weightField.value ;\n\n    let resultObj = this.utils_.convertUnitTo(fromName, fromVal, toName,\n                                                true, moleWeightVal);\n\n    if (resultObj['status'] === 'succeeded') {\n      let toVal = resultObj['toVal'];\n      let toNumFld = document.getElementById(toNumField);\n      if (toNumField === 'convertToNum')\n        this.convToNum_ = true ;\n      else\n        this.convFromNum_ = true;\n      // Store the full result value number received so that we have it if a\n      // larger number of digits is subsequently requested.\n      this.lastResult_ = toVal;\n\n      // convert the value to a fixed value with the specified number of\n      // decimal digits.  Remove trailing zeroes\n      //toVal = toVal.toFixed(decDigits).replace(/\\.?0+$/, \"\");\n      // ----- OR ----\n      // convert the value to a fixed value with the specified number of\n      // decimal digits.  Do not remove trailing zeroes\n      // toVal = toVal.toFixed(decDigits);\n      // ----- OR ----\n      // convert the value to a value with 16 significant digits.  Use\n      // 16 to avoid floating point rounding errors\n      // if before/after parseFloat are not equal, show precision chooser\n      // otherwise don't.   Only modify last result value\n      let precVal = parseFloat(toVal.toPrecision(UcumDemoConfig.defaultPrecision_)) ;\n      toNumFld.value = precVal;\n\n      // The precision chooser is on hold.  Don't display.\n      //if (precVal !== toVal) {\n      //  precLine.style.visibility = \"visible\";\n      //}\n\n      // If a message was returned, write that to the message area.  For a\n      // successful conversion this might be a message about a substitution,\n      // e.g., \"2m is not a valid UCUM code.  We assumed you meant 2.m\"\n\n      if (resultObj['msg'].length > 0) {\n        resultMsg = resultObj['msg'].join('<BR>');\n      }\n    }\n    // Else if an error was signalled, transfer the error message to\n    // the result field\n    else if (resultObj['status'] === 'error') {\n      resultMsg = 'Sorry - an error occurred while trying to ' +\n        'perform the conversion.';\n    }\n\n    // Else result status was failed.  Either a molecular weight is needed\n    // for a mass<->moles conversion or 1 or more invalid unit expressions\n    // were found (status = 'failed')\n    else {\n      if (resultObj['msg']) {\n        let idx = resultObj['msg'].indexOf(Ucum.needMoleWeightMsg_);\n        if (idx >= 0) {\n          this._requestMolecularWeight();\n          resultObj['msg'].splice(idx, 1);\n          if (resultObj['msg'].length > 0)\n            resultMsg = resultObj['msg'].join('<BR>');\n          else\n            resultMsg = '';\n        } else {\n          resultMsg = resultObj['msg'].join('<BR>');\n        }\n      }\n      // if suggestions were found, output the suggestions to the suggestions\n      // field\n      if (resultObj['suggestions']) {\n        let suggsSetString = this._suggSetOutput(resultObj['suggestions']);\n        if (fromName !== escFromName && fromName !== '') {\n          suggsSetString = this._multipleReplace(suggsSetString,\n                                                 fromName, escFromName);\n        }\n        if (toName !== escToName && toName !== '') {\n          suggsSetString = this._multipleReplace(suggsSetString,\n                                                 toName, escToName);\n        }\n        suggsField.innerHTML = suggsSetString;\n        suggsField.style.display = 'block';\n      } // end if there were suggestions\n    } // end if conversion did/didn't succeed\n\n    if (resultMsg !== '') {\n      if (fromName !== escFromName && fromName !== '') {\n        resultMsg = this._multipleReplace(resultMsg, fromName, escFromName);\n      }\n      if (toName !== escToName && toName !== '') {\n        resultMsg = this._multipleReplace(resultMsg, toName, escToName);\n      }\n      msgField.innerHTML = resultMsg;\n    }\n  } // end convertUnit\n\n\n  /**\n   * This method retrieves a list of unit commensurable, i.e., that can be\n   * converted from and to, a specified unit.  Throws an error if the \"from\"\n   * unit cannot be found or if no commensurable units are found.\n   *\n   * @param fromField the ID of the field where the \"from\" unit is specified\n   * @param toField the ID of the field to receive the list of commensurable\n   *  units\n   * @param resultField the ID of the field to receive an error message if one\n   *  is thrown\n   * @returns nothing but sets the autocompleter list in the \"toField\" to the\n   *   commensurable units if any were found.  If an error from one of the\n   *   functions called by this is caught, fills the result field with the error\n   */\n  getCommensurables(fromField, toField, resultField) {\n\n    this.utils_.useHTMLInMessages(true);\n    this.utils_.useBraceMsgForEachString(true);\n    let resultMsg = [];\n\n    let toFld = document.getElementById(toField);\n    toFld.innerHTML = '';\n    this.toAuto_.setList('');\n    let resultString = document.getElementById(resultField);\n    resultString.innerHTML = '';\n\n    let fromName = document.getElementById(fromField).value;\n    let escFromName = escapeHtml(fromName);\n    if (fromName === '' || fromName === null) {\n      resultMsg.push('Please specify a code for the units you want to convert.');\n    }\n    else {\n      let hypIdx = fromName.indexOf(Ucum.codeSep_);\n      if (hypIdx > 0)\n        fromName = fromName.substr(0, hypIdx);\n\n      let parseResp = [];\n\n      try {\n        parseResp = this.utils_.commensurablesList(fromName);\n        let commUnits = parseResp[0];\n        resultMsg = parseResp[1];\n        // If we can't find any, don't panic.  The user could still enter one\n        // that's not on our list but is commensurable.  So if none are found,\n        // just make sure the text about commensurable units is hidden.\n        let commText = document.getElementById('convertRight');\n        if (commUnits) {\n          let cLen = commUnits.length;\n          let commNames = [];\n          for (let i = 0; i < cLen; i++)\n            commNames[i] = commUnits[i].getProperty('csCode_') + Ucum.codeSep_ +\n                commUnits[i].getProperty('name_');\n          commNames.sort(this.utabs_.compareCodes);\n          this.toAuto_.setList(commNames);\n          commText.style.visibility = \"visible\";\n        }\n        else\n          commText.style.visibility = \"hidden\";\n      }\n      catch (err) {\n        resultMsg.push(err.message);\n      }\n    }\n    if (resultMsg.length > 0) {\n      resultMsg = resultMsg.join('<BR>');\n      if (fromName !== escFromName && fromName !== '') {\n        resultMsg = this._multipleReplace(resultMsg, fromName, escFromName);\n      }\n      resultString.innerHTML = resultMsg ;\n    }\n  } // end getCommensurables\n\n\n  /**\n   *  This toggles the display of a given form element.  It changes the\n   *  style display state from \"none\" to \"block\" or \"block\" to \"none\"\n   *  depending on its current state.\n   *\n   *  It also can change the text on the button specified.  This is optional.\n   *\n   * @param elementID the ID of the target element\n   * @param buttonID the ID of the button whose text is to be changed.  This\n   *  is optional, but if specified the following 2 text parameters must be\n   *  supplied\n   * @param blockText the text that shows on the button when the target element\n   *  is currently not displayed (before being toggled).\n   * @param noneText the text that shows on the button when the target element\n   *  is currently displayed (before being toggled).\n   *\n   */\n  toggleDisplay(elementID, buttonID, blockText, noneText) {\n\n    this.utils_.useHTMLInMessages(true);\n    this.utils_.useBraceMsgForEachString(true);\n\n    let theElement = document.getElementById(elementID);\n    let theButton = null;\n    if (buttonID)\n      theButton = document.getElementById(buttonID);\n    if (theElement) {\n      if (theElement.style.display === \"none\") {\n        theElement.style.display = \"block\";\n        if (theButton)\n          theButton.innerText = theButton.innerText.replace(noneText, blockText);\n      }\n      else {\n        theElement.style.display = \"none\";\n        if (theButton)\n          theButton.innerText = theButton.innerText.replace(blockText, noneText);\n      }\n    } // end if we got the target element\n  } // end toggleDisplay\n\n\n  /**\n   *  This method responds to the user's request to validate unit strings in\n   *  a file.  When the user clicks on the inputfile button on the demo page,\n   *  a file selector box is displayed.  When the user selects a file and clicks\n   *  on the \"Open\" button, this method is called to display the column name\n   *  division, which is hidden until the file is selected.\n   */\n  fileSelected() {\n    let colDiv = document.getElementById('colNameDiv') ;\n    colDiv.setAttribute('style', 'display:block');\n  }\n\n\n  /**\n   *  This method responds to the user's click on the Validate File button.\n   *\n   *  It calls the file validator validateFile method, passing it the file\n   *  selected, the column name specified, the initiateDownload function in\n   *  this object to be called when file validation is complete, and the\n   *  fileValidationError function in this object to be called on an error.\n   *\n   *  It also disables the column name input field.\n   */\n  columnSpecified() {\n    let colName = document.getElementById('colName').value;\n    this.utils_.useHTMLInMessages(false);\n    this.utils_.useBraceMsgForEachString(false);\n\n    let dia = document.getElementById(\"inputfile\");\n    let ufv = UcumFileValidator.getInstance();\n    ufv.validateFile(dia.files[0], colName, this.initiateDownload,\n        this.fileValidationError) ;\n  }\n\n  /**\n   *  This is called when validation of unit strings in a file is complete.\n   *  It controls display (and disposal) of the download dialog box that\n   *  lets the user choose where to store the output file and to change\n   *  the name of the file to be stored if desired.\n   *\n   *  It also clears the file name from input file field and blocks display\n   *  of the column name division.\n   *\n   * @param bUrl the object url of the blob that contains the validated file\n   *  contents\n   */\n  initiateDownload(bUrl){\n\n    // create the download element,  give it the default file name to\n    // create, and append it to the document.\n    let a = document.createElement('a') ;\n    a.id = 'downlink';\n    a.href = bUrl ;\n    a.download = 'UnitStringValidations.csv';\n    document.body.appendChild(a);\n\n    // add a listener that gets rid of the download link once the\n    // user clicks save or cancel\n    function windowFocus(){\n      window.removeEventListener('focus', windowFocus, false);\n      URL.revokeObjectURL(bUrl);\n      let an = document.getElementById('downlink');\n      an.parentElement.removeChild(an);\n      let dia = document.getElementById(\"inputfile\");\n      dia.value = null;\n      let colDiv = document.getElementById('colNameDiv');\n      colDiv.setAttribute('style', 'display:none');\n    }\n    window.addEventListener('focus', windowFocus, false);\n\n    // Click on the download link to initiate display of the box and\n    // then download (if the user selects SAVE).\n    a.click();\n\n  } // end initiate download\n\n\n  /**\n   * This method is called when an error occurs during the validation process,\n   * by the code doing the validation.\n   *\n   * It writes the error, including the name of the stream in which the error\n   * occurred, to the console.  It displays the error text to the user in an\n   * alert box and lets the user know that the validation file was not written.\n   *\n   * It also re-enables the input file field and clears the file name from\n   * that field.  The display of the column name division is also blocked.\n   *\n   * @param src the source of the error - which should be the stream in which\n   *  the error was encountered\n   * @param err the error text\n   *\n  */\n  fileValidationError(src, err) {\n    console.log(src + ' error; err = ' + err);\n    let aMsg = err + \"\\n\\nSorry - your validation file could not be written.\";\n    alert(aMsg);\n    let dia = document.getElementById(\"inputfile\");\n    dia.value = '';\n    let colDiv = document.getElementById('colNameDiv');\n    colDiv.setAttribute('style', 'display:none');\n  }\n\n\n  /**\n   * This method is called when the user clicks on the Cancel button for a\n   * file validation request.  This clears out the file name chosen in the\n   * input file field and hides the column stuff (request for column name,\n   * validate file button, and cancel button).\n   *\n   * These cleanup steps are also used in the fileValidationError method and\n   * the window_focus function defined in the initiateDownload method.  I tried\n   * to reference this method from those but for some reason this method\n   * could not been seen when called from those.  I'm not sure if it has to\n   * do with a different context, where the fileValidationError is called\n   * from the ucumFileValidator validateFile event emitter and the\n   * window_focus method in the initiateDownload method is also an event, but\n   * no matter what I tried it wouldn't work.   Sigh.\n   */\n  resetFileInput() {\n    let dia = document.getElementById(\"inputfile\");\n    dia.value = '';\n    let colDiv = document.getElementById('colNameDiv');\n    colDiv.setAttribute('style', 'display:none');\n  }\n\n\n  /**\n   * This creates HTML output text for an array of suggestion sets.  A\n   * suggestion set is returned by the parsing code for each suggestion\n   * found (when suggestions were requested for unit strings found to be\n   * invalid).  Each set is a hash object that includes two elements:\n   *   'msg' - which is a message identifying the problem string; and\n   *   'units' - which is an array of arrays, where each inner array is\n   *             created for each suggestion.  The inner arrays contain\n   *             the unit code, name and guidance text (if any) for a\n   *             suggested unit.\n   *\n   * @param suggSet the array of sets for which to create HTML output text\n   * @returns {string} the string containing the HTML\n   * @private\n   */\n  _suggSetOutput(suggSet) {\n\n    let suggString = '';\n    for (let s = 0; s < suggSet.length; s++) {\n      suggString += suggSet[s]['msg'] + '<ul>';\n      for (let u = 0; u < suggSet[s]['units'].length; u++) {\n        suggString += '<li>' + suggSet[s]['units'][u].join(', ') + '</li>';\n      } // end do for each unit\n      suggString += '</ul>';\n    }\n    return suggString ;\n  } // end suggSetOutput\n\n\n  /**\n   * This replaces multiple occurrences of a string within a string.\n   * This was created at Paul Lynch's request.\n   *\n   * @param targetString the string containing the value to be replaced\n   * @param toReplace the value to be replaced\n   * @param replaceWith the value to replace toReplace\n   * @returns {string} the string containing the replaced values\n   * @private\n   */\n  _multipleReplace(targetString, toReplace, replaceWith) {\n\n    return targetString.replace(new RegExp(\n      toReplace.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\"), \"g\"),\n      replaceWith);\n\n  } // end _multipleReplace\n\n\n  /**\n   * This makes sure that the unit name areas on the unit\n   * conversion tab (under the unit code input fields) are\n   * the same heights).\n   *\n   * @private\n   */\n  _sizeNameDivs() {\n\n    let left = document.getElementById(\"convertFromName\");\n    let leftHeight = left.offsetHeight;\n\n    let right = document.getElementById(\"convertToName\");\n    let rightHeight = right.offsetHeight;\n\n    if (right.innerHTML === '' && left.innerHTML === '') {\n      right.style.height = '0px';\n      left.style.height = '0px';\n    }\n    else {\n      if (leftHeight > rightHeight) {\n        right.style.height = leftHeight + 'px' ;\n      }\n      else if (rightHeight > leftHeight) {\n        left.style.height = rightHeight + 'px';\n      }\n    }\n  } // end _sizeNameDivs\n\n\n  /**\n   * This makes the division with the request for molecular weight\n   * visible.\n   *\n   * @private\n   */\n  _requestMolecularWeight() {\n    let weightDiv = document.getElementById('molecular-weight');\n    weightDiv.style.visibility = 'visible';\n  }\n\n} // end class UcumDemo\n\n\n/**\n *  This function exists ONLY until the original UcumDemo constructor\n *  is called for the first time.  It's defined here in case getInstance\n *  is called before the constructor.   This calls the constructor.\n *\n *  The constructor redefines the getInstance function to return the\n *  singleton UcumDemo object.  This is based on the UnitTables singleton\n *  implementation; see more detail in the UnitTables constructor description.\n *\n *  @return the singleton UcumDemo object.\n */\nUcumDemo.getInstance = function(){\n  return new UcumDemo();\n}\n\n// Perform the first request for the demo object, to get the\n// getInstance method set.\nUcumDemo.getInstance();\n","/**\n * This validates unit strings found in a column in a csv (comma separated values)\n * file and returns the validation result in specified columns added to the\n * file.  This uses the node-csv package (https://github.com/wdavidw/node-csv)\n * to handle the input and output processing.\n *\n */\nvar fs = require('browserify-fs');\n\nvar stream = require('stream');\nvar parse = require('csv-parse') ;\nvar transform = require('stream-transform');\nvar stringify = require('csv-stringify');\nvar str = require('string-to-stream') ;\n\nvar UcumLhcUtils = ucumPkg.UcumLhcUtils;\nvar Ucum = ucumPkg.Ucum;\n\n\nexport class UcumFileValidator {\n\n  constructor() {\n    // Make this a singleton.  See UnitTables constructor for details.\n\n    let holdThis = UcumFileValidator.prototype;\n    UcumFileValidator = function () {\n      throw (new Error('UcumFileValidator is a Singleton.  ' +\n          'Use UcumFileValidator.getInstance() instead.'));\n    };\n    if (exports)\n      exports.UcumFileValidator = UcumFileValidator;\n    UcumFileValidator.prototype = holdThis;\n\n    let self = this ;\n    UcumFileValidator.getInstance = function(){return self} ;\n  }\n\n  /**\n   * This method reads the rows of the input csv file, checks the validity\n   * of the unit string in the identified column, and outputs the result of\n   * the test as well as any notes.  New columns are added to the rows, at\n   * the end of each row, to contain confirmation of the unit string tested,\n   * the result of the test, and any notes from the test.\n   *\n   * @param inputFile this is the input file obtained from the HTML file type\n   *  input field\n   * @param sourceCol this is the name of the column containing the unit\n   *  string to be tested.\n   * @param fileSaveFunction the function to be called that will save the\n   *  file.  It will be passed one parameter, which will be the Ojbect URL\n   *  for the data to be written.\n   * @param msgHandler the function to be called on errors.  This function\n   *  should handle error reporting.  It should take 2 parameters - source,\n   *  which receives the name of the stream throwing the error, and err,\n   *  which should be the error text.   See UcumDemo.fileValidationError for\n   *  an example.\n   *\n   * @returns nothing\n   */\n  validateFile(inputFile, sourceCol, fileSaveFunction, msgHandler) {\n\n    var unitTestedCol = 'Unit String Tested';\n    var resultCol = 'Validation Result';\n    var commentCol = 'Notes';\n\n    // The file reader reads the input file into the str readable stream\n    var reader = new FileReader();\n    reader.readAsText(inputFile);\n\n    var utils = UcumLhcUtils.getInstance();\n\n    // The parser pulls each row out of the readable stream and passes it\n    // along the pipeline to the transformer as a hash\n    var parser = parse({columns: true});\n\n    // The transformer receives each row from the parser.  It calls the code\n    // to validate the string found in the specified source\n    // column and places the results in the specified result columns.  The\n    // updated hash is passed along the pipeline to the stringifier.\n    var transformer = transform(function (record) {\n\n      if (record[sourceCol] === undefined) {\n        transformer.emit('error', 'The ' + sourceCol + ' column was not ' +\n                  'found in the file.  Validation is not possible.');\n      }\n      else {\n        let uStr = record[sourceCol];\n        let parseResp = [];\n        record[unitTestedCol] = uStr;\n\n        try {\n          let parseResp = utils.validateUnitString(uStr, true);\n          if (parseResp['status'] === 'valid')\n            record[resultCol] = parseResp['ucumCode'] + \" is a valid UCUM unit.\";\n          else\n            record[resultCol] = uStr + \" is not a valid UCUM unit.\";\n          record[commentCol] = '';\n          if (parseResp['msg'] && parseResp['msg'].length > 0) {\n            record[commentCol] = parseResp['msg'].join('; ');\n            if (parseResp['suggestions'])\n              record[commentCol] += '\\n';\n          }\n          if (parseResp['suggestions']) {\n            let suggSet = parseResp['suggestions'];\n            let suggString = '';\n            for (let s = 0; s < suggSet.length; s++) {\n              suggString += suggSet[s]['msg'] + '\\n';\n              for (let u = 0; u < suggSet[s]['units'].length; u++) {\n                suggString += suggSet[s]['units'][u].join(', ') + '\\n';\n              } // end do for each unit\n            }\n            record[commentCol] = suggString ;\n          }\n        }\n        catch (err) {\n          record[resultCol] = 'ERROR';\n          record[commentCol] = err.message;\n        }\n      }\n      return record;\n    }); // end transform function\n\n    // The stringifier gets the updated hash from the transformer and\n    // puts it into csv format, then passes it along the pipeline to the\n    // output stream.\n    var stringifier = stringify({header: true});\n\n    // The output stream gets the csv formatted row and writes it to the\n    // stream's data buffer.\n    var outStream = new stream.Writable({objectMode: true});\n    outStream.data = '*' + Ucum.bracesMsg_ + '\\r\\n';\n    outStream._write = function (record, encoding, done) {\n      this.data += record;\n      done();\n    };\n\n    // When all the data has been written to the output stream, create a Blob\n    // object from the data string and an Object URL for the Blob.  Then pass\n    // the URL to the function that will actually save the blob to a file.\n    var blob = '';\n    var bUrl = null;\n    outStream.on('finish', function () {\n      blob = new Blob([this.data], {type: 'text/csv'});\n      bUrl = URL.createObjectURL(blob);\n      fileSaveFunction(bUrl);\n    });\n\n    // Start the data moving once the file reader is ready (has read in all\n    // the data).\n    var intSet = setInterval(pipeFunc, 10);\n    function pipeFunc() {\n      if (reader.readyState == FileReader.DONE) {\n        clearInterval(intSet);\n        str(reader.result)\n            .on('error', function (err){msgHandler('inputStream', err)})\n            .pipe(parser).on('error', function (err){msgHandler('parser', err)})\n            .pipe(transformer).on('error', function (err){msgHandler('transformer', err)})\n            .pipe(stringifier).on('error', function (err){msgHandler('stringifier', err)})\n            .pipe(outStream).on('error', function (err){msgHandler('outStream', err)});\n      }\n    }; // end pipeFunc\n  } // end validateFile\n\n} // end UcumFileValidator\n\n\n/**\n *  This function exists ONLY until the original UcumFileValidator constructor\n *  is called for the first time.  It's defined here in case getInstance\n *  is called before the constructor.   This calls the constructor.\n *\n *  The constructor redefines the getInstance function to return the\n *  singleton UcumFileValidator object.  This is based on the UnitTables singleton\n *  implementation; see more detail in the UnitTables constructor description.\n *\n *  @return the singleton UcumFileValidator object.\n */\nUcumFileValidator.getInstance = function(){\n  return new UcumFileValidator();\n}\n\n// Perform the first request for the validator object, to get the\n// getInstance method set.\nUcumFileValidator.getInstance();","/* Copyright (c) 2017 Rod Vagg, MIT License */\n\nfunction AbstractChainedBatch (db) {\n  this._db = db\n  this._operations = []\n  this._written = false\n}\n\nAbstractChainedBatch.prototype._serializeKey = function (key) {\n  return this._db._serializeKey(key)\n}\n\nAbstractChainedBatch.prototype._serializeValue = function (value) {\n  return this._db._serializeValue(value)\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written) {\n    throw new Error('write() already called on this batch')\n  }\n}\n\nAbstractChainedBatch.prototype.put = function (key, value) {\n  this._checkWritten()\n\n  var err = this._db._checkKey(key, 'key')\n  if (err) { throw err }\n\n  key = this._serializeKey(key)\n  value = this._serializeValue(value)\n\n  this._put(key, value)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._put = function (key, value) {\n  this._operations.push({ type: 'put', key: key, value: value })\n}\n\nAbstractChainedBatch.prototype.del = function (key) {\n  this._checkWritten()\n\n  var err = this._db._checkKey(key, 'key')\n  if (err) { throw err }\n\n  key = this._serializeKey(key)\n  this._del(key)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._del = function (key) {\n  this._operations.push({ type: 'del', key: key })\n}\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten()\n  this._operations = []\n  this._clear()\n\n  return this\n}\n\nAbstractChainedBatch.prototype._clear = function noop () {}\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten()\n\n  if (typeof options === 'function') { callback = options }\n  if (typeof callback !== 'function') {\n    throw new Error('write() requires a callback argument')\n  }\n  if (typeof options !== 'object') { options = {} }\n\n  this._written = true\n\n  // @ts-ignore\n  if (typeof this._write === 'function') { return this._write(callback) }\n\n  if (typeof this._db._batch === 'function') {\n    return this._db._batch(this._operations, options, callback)\n  }\n\n  process.nextTick(callback)\n}\n\nmodule.exports = AbstractChainedBatch\n","/* Copyright (c) 2017 Rod Vagg, MIT License */\n\nfunction AbstractIterator (db) {\n  this.db = db\n  this._ended = false\n  this._nexting = false\n}\n\nAbstractIterator.prototype.next = function (callback) {\n  var self = this\n\n  if (typeof callback !== 'function') {\n    throw new Error('next() requires a callback argument')\n  }\n\n  if (self._ended) {\n    process.nextTick(callback, new Error('cannot call next() after end()'))\n    return self\n  }\n\n  if (self._nexting) {\n    process.nextTick(callback, new Error('cannot call next() before previous next() has completed'))\n    return self\n  }\n\n  self._nexting = true\n  self._next(function () {\n    self._nexting = false\n    callback.apply(null, arguments)\n  })\n\n  return self\n}\n\nAbstractIterator.prototype._next = function (callback) {\n  process.nextTick(callback)\n}\n\nAbstractIterator.prototype.end = function (callback) {\n  if (typeof callback !== 'function') {\n    throw new Error('end() requires a callback argument')\n  }\n\n  if (this._ended) {\n    return process.nextTick(callback, new Error('end() already called on iterator'))\n  }\n\n  this._ended = true\n  this._end(callback)\n}\n\nAbstractIterator.prototype._end = function (callback) {\n  process.nextTick(callback)\n}\n\nmodule.exports = AbstractIterator\n","/* Copyright (c) 2017 Rod Vagg, MIT License */\n\nvar xtend = require('xtend')\nvar AbstractIterator = require('./abstract-iterator')\nvar AbstractChainedBatch = require('./abstract-chained-batch')\nvar hasOwnProperty = Object.prototype.hasOwnProperty\nvar rangeOptions = 'start end gt gte lt lte'.split(' ')\n\nfunction AbstractLevelDOWN (location) {\n  if (!arguments.length || location === undefined) {\n    throw new Error('constructor requires at least a location argument')\n  }\n\n  if (typeof location !== 'string') {\n    throw new Error('constructor requires a location string argument')\n  }\n\n  this.location = location\n  this.status = 'new'\n}\n\nAbstractLevelDOWN.prototype.open = function (options, callback) {\n  var self = this\n  var oldStatus = this.status\n\n  if (typeof options === 'function') { callback = options }\n\n  if (typeof callback !== 'function') {\n    throw new Error('open() requires a callback argument')\n  }\n\n  if (typeof options !== 'object') { options = {} }\n\n  options.createIfMissing = options.createIfMissing !== false\n  options.errorIfExists = !!options.errorIfExists\n\n  this.status = 'opening'\n  this._open(options, function (err) {\n    if (err) {\n      self.status = oldStatus\n      return callback(err)\n    }\n    self.status = 'open'\n    callback()\n  })\n}\n\nAbstractLevelDOWN.prototype._open = function (options, callback) {\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.close = function (callback) {\n  var self = this\n  var oldStatus = this.status\n\n  if (typeof callback !== 'function') {\n    throw new Error('close() requires a callback argument')\n  }\n\n  this.status = 'closing'\n  this._close(function (err) {\n    if (err) {\n      self.status = oldStatus\n      return callback(err)\n    }\n    self.status = 'closed'\n    callback()\n  })\n}\n\nAbstractLevelDOWN.prototype._close = function (callback) {\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.get = function (key, options, callback) {\n  if (typeof options === 'function') { callback = options }\n\n  if (typeof callback !== 'function') {\n    throw new Error('get() requires a callback argument')\n  }\n\n  var err = this._checkKey(key, 'key')\n  if (err) return process.nextTick(callback, err)\n\n  key = this._serializeKey(key)\n\n  if (typeof options !== 'object') { options = {} }\n\n  options.asBuffer = options.asBuffer !== false\n\n  this._get(key, options, callback)\n}\n\nAbstractLevelDOWN.prototype._get = function (key, options, callback) {\n  process.nextTick(function () { callback(new Error('NotFound')) })\n}\n\nAbstractLevelDOWN.prototype.put = function (key, value, options, callback) {\n  if (typeof options === 'function') { callback = options }\n\n  if (typeof callback !== 'function') {\n    throw new Error('put() requires a callback argument')\n  }\n\n  var err = this._checkKey(key, 'key')\n  if (err) return process.nextTick(callback, err)\n\n  key = this._serializeKey(key)\n  value = this._serializeValue(value)\n\n  if (typeof options !== 'object') { options = {} }\n\n  this._put(key, value, options, callback)\n}\n\nAbstractLevelDOWN.prototype._put = function (key, value, options, callback) {\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.del = function (key, options, callback) {\n  if (typeof options === 'function') { callback = options }\n\n  if (typeof callback !== 'function') {\n    throw new Error('del() requires a callback argument')\n  }\n\n  var err = this._checkKey(key, 'key')\n  if (err) return process.nextTick(callback, err)\n\n  key = this._serializeKey(key)\n\n  if (typeof options !== 'object') { options = {} }\n\n  this._del(key, options, callback)\n}\n\nAbstractLevelDOWN.prototype._del = function (key, options, callback) {\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype.batch = function (array, options, callback) {\n  if (!arguments.length) { return this._chainedBatch() }\n\n  if (typeof options === 'function') { callback = options }\n\n  if (typeof array === 'function') { callback = array }\n\n  if (typeof callback !== 'function') {\n    throw new Error('batch(array) requires a callback argument')\n  }\n\n  if (!Array.isArray(array)) {\n    return process.nextTick(callback, new Error('batch(array) requires an array argument'))\n  }\n\n  if (!options || typeof options !== 'object') { options = {} }\n\n  var serialized = new Array(array.length)\n\n  for (var i = 0; i < array.length; i++) {\n    if (typeof array[i] !== 'object' || array[i] === null) {\n      return process.nextTick(callback, new Error('batch(array) element must be an object and not `null`'))\n    }\n\n    var e = xtend(array[i])\n\n    if (e.type !== 'put' && e.type !== 'del') {\n      return process.nextTick(callback, new Error(\"`type` must be 'put' or 'del'\"))\n    }\n\n    var err = this._checkKey(e.key, 'key')\n    if (err) return process.nextTick(callback, err)\n\n    e.key = this._serializeKey(e.key)\n\n    if (e.type === 'put') { e.value = this._serializeValue(e.value) }\n\n    serialized[i] = e\n  }\n\n  this._batch(serialized, options, callback)\n}\n\nAbstractLevelDOWN.prototype._batch = function (array, options, callback) {\n  process.nextTick(callback)\n}\n\nAbstractLevelDOWN.prototype._setupIteratorOptions = function (options) {\n  options = cleanRangeOptions(options)\n\n  options.reverse = !!options.reverse\n  options.keys = options.keys !== false\n  options.values = options.values !== false\n  options.limit = 'limit' in options ? options.limit : -1\n  options.keyAsBuffer = options.keyAsBuffer !== false\n  options.valueAsBuffer = options.valueAsBuffer !== false\n\n  return options\n}\n\nfunction cleanRangeOptions (options) {\n  var result = {}\n\n  for (var k in options) {\n    if (!hasOwnProperty.call(options, k)) continue\n    if (isRangeOption(k) && isEmptyRangeOption(options[k])) continue\n\n    result[k] = options[k]\n  }\n\n  return result\n}\n\nfunction isRangeOption (k) {\n  return rangeOptions.indexOf(k) !== -1\n}\n\nfunction isEmptyRangeOption (v) {\n  return v === '' || v == null || isEmptyBuffer(v)\n}\n\nfunction isEmptyBuffer (v) {\n  return Buffer.isBuffer(v) && v.length === 0\n}\n\nAbstractLevelDOWN.prototype.iterator = function (options) {\n  if (typeof options !== 'object') { options = {} }\n  options = this._setupIteratorOptions(options)\n  return this._iterator(options)\n}\n\nAbstractLevelDOWN.prototype._iterator = function (options) {\n  return new AbstractIterator(this)\n}\n\nAbstractLevelDOWN.prototype._chainedBatch = function () {\n  return new AbstractChainedBatch(this)\n}\n\nAbstractLevelDOWN.prototype._serializeKey = function (key) {\n  return Buffer.isBuffer(key) ? key : String(key)\n}\n\nAbstractLevelDOWN.prototype._serializeValue = function (value) {\n  if (value == null) return ''\n  return Buffer.isBuffer(value) || process.browser ? value : String(value)\n}\n\nAbstractLevelDOWN.prototype._checkKey = function (obj, type) {\n  if (obj === null || obj === undefined) {\n    return new Error(type + ' cannot be `null` or `undefined`')\n  }\n\n  if (Buffer.isBuffer(obj) && obj.length === 0) {\n    return new Error(type + ' cannot be an empty Buffer')\n  }\n\n  if (String(obj) === '') {\n    return new Error(type + ' cannot be an empty String')\n  }\n}\n\nmodule.exports = AbstractLevelDOWN\n","exports.AbstractLevelDOWN = require('./abstract-leveldown')\nexports.AbstractIterator = require('./abstract-iterator')\nexports.AbstractChainedBatch = require('./abstract-chained-batch')\n","'use strict';\n\nvar objectAssign = require('object-assign');\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZXNDb250ZW50IjpbXX0=","var leveljs = require('level-js');\nvar levelup = require('levelup');\nvar fs = require('level-filesystem');\n\nvar db = levelup(leveljs('level-filesystem'));\nmodule.exports = fs(db);","var toString = Object.prototype.toString\n\nvar isModern = (\n  typeof Buffer.alloc === 'function' &&\n  typeof Buffer.allocUnsafe === 'function' &&\n  typeof Buffer.from === 'function'\n)\n\nfunction isArrayBuffer (input) {\n  return toString.call(input).slice(8, -1) === 'ArrayBuffer'\n}\n\nfunction fromArrayBuffer (obj, byteOffset, length) {\n  byteOffset >>>= 0\n\n  var maxLength = obj.byteLength - byteOffset\n\n  if (maxLength < 0) {\n    throw new RangeError(\"'offset' is out of bounds\")\n  }\n\n  if (length === undefined) {\n    length = maxLength\n  } else {\n    length >>>= 0\n\n    if (length > maxLength) {\n      throw new RangeError(\"'length' is out of bounds\")\n    }\n  }\n\n  return isModern\n    ? Buffer.from(obj.slice(byteOffset, byteOffset + length))\n    : new Buffer(new Uint8Array(obj.slice(byteOffset, byteOffset + length)))\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  return isModern\n    ? Buffer.from(string, encoding)\n    : new Buffer(string, encoding)\n}\n\nfunction bufferFrom (value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (isArrayBuffer(value)) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  return isModern\n    ? Buffer.from(value)\n    : new Buffer(value)\n}\n\nmodule.exports = bufferFrom\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol.for === 'function')\n    ? Symbol.for('nodejs.util.inspect.custom')\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\n// Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\nif (typeof Symbol !== 'undefined' && Symbol.species != null &&\n    Buffer[Symbol.species] === Buffer) {\n  Object.defineProperty(Buffer, Symbol.species, {\n    value: null,\n    configurable: true,\n    enumerable: false,\n    writable: false\n  })\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayLike(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      buf = Buffer.from(buf)\n    }\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n        : (firstByte > 0xBF) ? 2\n          : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (var i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","'use strict';\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n// shim for Node's 'util' package\n// DO NOT REMOVE THIS! It is required for compatibility with EnderJS (http://enderjs.com/).\nvar util = {\n  isArray: function (ar) {\n    return Array.isArray(ar) || (typeof ar === 'object' && objectToString(ar) === '[object Array]');\n  },\n  isDate: function (d) {\n    return typeof d === 'object' && objectToString(d) === '[object Date]';\n  },\n  isRegExp: function (re) {\n    return typeof re === 'object' && objectToString(re) === '[object RegExp]';\n  },\n  getRegExpFlags: function (re) {\n    var flags = '';\n    re.global && (flags += 'g');\n    re.ignoreCase && (flags += 'i');\n    re.multiline && (flags += 'm');\n    return flags;\n  }\n};\n\n\nif (typeof module === 'object')\n  module.exports = clone;\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\n\nfunction clone(parent, circular, depth, prototype) {\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (util.isArray(parent)) {\n      child = [];\n    } else if (util.isRegExp(parent)) {\n      child = new RegExp(parent.source, util.getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (util.isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n      \n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n","var Writable = require('readable-stream').Writable\nvar inherits = require('inherits')\nvar bufferFrom = require('buffer-from')\n\nif (typeof Uint8Array === 'undefined') {\n  var U8 = require('typedarray').Uint8Array\n} else {\n  var U8 = Uint8Array\n}\n\nfunction ConcatStream(opts, cb) {\n  if (!(this instanceof ConcatStream)) return new ConcatStream(opts, cb)\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n  if (!opts) opts = {}\n\n  var encoding = opts.encoding\n  var shouldInferEncoding = false\n\n  if (!encoding) {\n    shouldInferEncoding = true\n  } else {\n    encoding =  String(encoding).toLowerCase()\n    if (encoding === 'u8' || encoding === 'uint8') {\n      encoding = 'uint8array'\n    }\n  }\n\n  Writable.call(this, { objectMode: true })\n\n  this.encoding = encoding\n  this.shouldInferEncoding = shouldInferEncoding\n\n  if (cb) this.on('finish', function () { cb(this.getBody()) })\n  this.body = []\n}\n\nmodule.exports = ConcatStream\ninherits(ConcatStream, Writable)\n\nConcatStream.prototype._write = function(chunk, enc, next) {\n  this.body.push(chunk)\n  next()\n}\n\nConcatStream.prototype.inferEncoding = function (buff) {\n  var firstBuffer = buff === undefined ? this.body[0] : buff;\n  if (Buffer.isBuffer(firstBuffer)) return 'buffer'\n  if (typeof Uint8Array !== 'undefined' && firstBuffer instanceof Uint8Array) return 'uint8array'\n  if (Array.isArray(firstBuffer)) return 'array'\n  if (typeof firstBuffer === 'string') return 'string'\n  if (Object.prototype.toString.call(firstBuffer) === \"[object Object]\") return 'object'\n  return 'buffer'\n}\n\nConcatStream.prototype.getBody = function () {\n  if (!this.encoding && this.body.length === 0) return []\n  if (this.shouldInferEncoding) this.encoding = this.inferEncoding()\n  if (this.encoding === 'array') return arrayConcat(this.body)\n  if (this.encoding === 'string') return stringConcat(this.body)\n  if (this.encoding === 'buffer') return bufferConcat(this.body)\n  if (this.encoding === 'uint8array') return u8Concat(this.body)\n  return this.body\n}\n\nvar isArray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]'\n}\n\nfunction isArrayish (arr) {\n  return /Array\\]$/.test(Object.prototype.toString.call(arr))\n}\n\nfunction isBufferish (p) {\n  return typeof p === 'string' || isArrayish(p) || (p && typeof p.subarray === 'function')\n}\n\nfunction stringConcat (parts) {\n  var strings = []\n  var needsToString = false\n  for (var i = 0; i < parts.length; i++) {\n    var p = parts[i]\n    if (typeof p === 'string') {\n      strings.push(p)\n    } else if (Buffer.isBuffer(p)) {\n      strings.push(p)\n    } else if (isBufferish(p)) {\n      strings.push(bufferFrom(p))\n    } else {\n      strings.push(bufferFrom(String(p)))\n    }\n  }\n  if (Buffer.isBuffer(parts[0])) {\n    strings = Buffer.concat(strings)\n    strings = strings.toString('utf8')\n  } else {\n    strings = strings.join('')\n  }\n  return strings\n}\n\nfunction bufferConcat (parts) {\n  var bufs = []\n  for (var i = 0; i < parts.length; i++) {\n    var p = parts[i]\n    if (Buffer.isBuffer(p)) {\n      bufs.push(p)\n    } else if (isBufferish(p)) {\n      bufs.push(bufferFrom(p))\n    } else {\n      bufs.push(bufferFrom(String(p)))\n    }\n  }\n  return Buffer.concat(bufs)\n}\n\nfunction arrayConcat (parts) {\n  var res = []\n  for (var i = 0; i < parts.length; i++) {\n    res.push.apply(res, parts[i])\n  }\n  return res\n}\n\nfunction u8Concat (parts) {\n  var len = 0\n  for (var i = 0; i < parts.length; i++) {\n    if (typeof parts[i] === 'string') {\n      parts[i] = bufferFrom(parts[i])\n    }\n    len += parts[i].length\n  }\n  var u8 = new U8(len)\n  for (var i = 0, offset = 0; i < parts.length; i++) {\n    var part = parts[i]\n    for (var j = 0; j < part.length; j++) {\n      u8[offset++] = part[j]\n    }\n  }\n  return u8\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","\n\nclass ResizeableBuffer{\n  constructor(size=100){\n    this.size = size\n    this.length = 0\n    this.buf = Buffer.alloc(size)\n  }\n  prepend(val){\n    const length = this.length++\n    if(length === this.size){\n      this.resize()\n    }\n    const buf = this.clone()\n    this.buf[0] = val\n    buf.copy(this.buf,1, 0, length)\n  }\n  append(val){\n    const length = this.length++\n    if(length === this.size){\n      this.resize()\n    }\n    this.buf[length] = val\n  }\n  clone(){\n    return Buffer.from(this.buf.slice(0, this.length))\n  }\n  resize(){\n    const length = this.length\n    this.size = this.size * 2\n    const buf = Buffer.alloc(this.size)\n    this.buf.copy(buf,0, 0, length)\n    this.buf = buf\n  }\n  toString(){\n    return this.buf.slice(0, this.length).toString()\n  }\n  reset(){\n    this.length = 0\n  }\n}\n\nmodule.exports = ResizeableBuffer\n","\n/*\nCSV Parse\n\nPlease look at the [project documentation](https://csv.js.org/parse/) for additional\ninformation.\n*/\n\nconst { Transform } = require('stream')\nconst ResizeableBuffer = require('./ResizeableBuffer')\n\nconst cr = 13\nconst nl = 10\nconst space = 32\nconst tab = 9\nconst bom_utf8 = Buffer.from([239, 187, 191])\n\nclass Parser extends Transform {\n  constructor(opts = {}){\n    super({...{readableObjectMode: true}, ...opts})\n    const options = {}\n    // Merge with user options\n    for(let opt in opts){\n      options[underscore(opt)] = opts[opt]\n    }\n    // Normalize option `bom`\n    if(options.bom === undefined || options.bom === null || options.bom === false){\n      options.bom = false\n    }else if(options.bom !== true){\n      throw new Error(`Invalid Option: bom must be true, got ${JSON.stringify(options.bom)}`)\n    }\n    // Normalize option `cast`\n    let fnCastField = null\n    if(options.cast === undefined || options.cast === null || options.cast === false || options.cast === ''){\n      options.cast = undefined\n    }else if(typeof options.cast === 'function'){\n      fnCastField = options.cast\n      options.cast = true\n    }else if(options.cast !== true){\n      throw new Error('Invalid Option: cast must be true or a function')\n    }\n    // Normalize option `cast_date`\n    if(options.cast_date === undefined || options.cast_date === null || options.cast_date === false || options.cast_date === ''){\n      options.cast_date = false\n    }else if(options.cast_date === true){\n      options.cast_date = function(value){\n        const date = Date.parse(value)\n        return !isNaN(date) ? new Date(date) : value\n      }\n    }else if(typeof options.cast_date !== 'function'){\n      throw new Error('Invalid Option: cast_date must be true or a function')\n    }\n    // Normalize option `columns`\n    let fnFirstLineToHeaders = null\n    if(options.columns === true){\n      // Fields in the first line are converted as-is to columns\n      fnFirstLineToHeaders = undefined\n    }else if(typeof options.columns === 'function'){\n      fnFirstLineToHeaders = options.columns\n      options.columns = true\n    }else if(Array.isArray(options.columns)){\n      options.columns = normalizeColumnsArray(options.columns)\n    }else if(options.columns === undefined || options.columns === null || options.columns === false){\n      options.columns = false\n    }else{\n      throw new Error(`Invalid Option columns: expect an object or true, got ${JSON.stringify(options.columns)}`)\n    }\n    // Normalize option `comment`\n    if(options.comment === undefined || options.comment === null || options.comment === false || options.comment === ''){\n      options.comment = null\n    }else{\n      if(typeof options.comment === 'string'){\n        options.comment = Buffer.from(options.comment)\n      }\n      if(!Buffer.isBuffer(options.comment)){\n        throw new Error(`Invalid Option: comment must be a buffer or a string, got ${JSON.stringify(options.comment)}`)\n      }\n    }\n    // Normalize option `delimiter`\n    if(options.delimiter === undefined || options.delimiter === null || options.delimiter === false){\n      options.delimiter = Buffer.from(',')\n    }else if(Buffer.isBuffer(options.delimiter)){\n      if(options.delimiter.length === 0){\n        throw new Error(`Invalid Option: delimiter must be a non empty buffer`)\n      }\n      // Great, nothing to do\n    }else if(typeof options.delimiter === 'string'){\n      if(options.delimiter.length === 0){\n        throw new Error(`Invalid Option: delimiter must be a non empty string`)\n      }\n      options.delimiter = Buffer.from(options.delimiter)\n    }else{\n      throw new Error(`Invalid Option: delimiter must be a string or a buffer, got ${options.delimiter}`)\n    }\n    // Normalize option `escape`\n    if(options.escape === undefined || options.escape === null){\n      options.escape = Buffer.from('\"')\n    }else if(typeof options.escape === 'string'){\n      options.escape = Buffer.from(options.escape)\n    }\n    if(!Buffer.isBuffer(options.escape)){\n      throw new Error(`Invalid Option: escape must be a buffer or a string, got ${JSON.stringify(options.escape)}`)\n    }else if(options.escape.length !== 1){\n      throw new Error(`Invalid Option Length: escape must be one character, got ${options.escape.length}`)\n    }else{\n      options.escape = options.escape[0]\n    }\n    // Normalize option `from`\n    if(options.from === undefined || options.from === null){\n      options.from = 1\n    }else{\n      if(typeof options.from === 'string' && /\\d+/.test(options.from)){\n        options.from = parseInt(options.from)\n      }\n      if(Number.isInteger(options.from)){\n        if(options.from < 0){\n          throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(opts.from)}`)\n        }\n      }else{\n        throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(options.from)}`)\n      }\n    }\n    // Normalize option `from_line`\n    if(options.from_line === undefined || options.from_line === null){\n      options.from_line = 1\n    }else{\n      if(typeof options.from_line === 'string' && /\\d+/.test(options.from_line)){\n        options.from_line = parseInt(options.from_line)\n      }\n      if(Number.isInteger(options.from_line)){\n        if(options.from_line <= 0){\n          throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(opts.from_line)}`)\n        }\n      }else{\n        throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(opts.from_line)}`)\n      }\n    }\n    // Normalize option `info`\n    if(options.info === undefined || options.info === null || options.info === false){\n      options.info = false\n    }else if(options.info !== true){\n      throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(options.info)}`)\n    }\n    // Normalize option `max_record_size`\n    if(options.max_record_size === undefined || options.max_record_size === null || options.max_record_size === false){\n      options.max_record_size = 0\n    }else if(Number.isInteger(options.max_record_size) && options.max_record_size >= 0){\n      // Great, nothing to do\n    }else if(typeof options.max_record_size === 'string' && /\\d+/.test(options.max_record_size)){\n      options.max_record_size = parseInt(options.max_record_size)\n    }else{\n      throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(options.max_record_size)}`)\n    }\n    // Normalize option `objname`\n    if(options.objname === undefined || options.objname === null || options.objname === false){\n      options.objname = undefined\n    }else if(Buffer.isBuffer(options.objname)){\n      if(options.objname.length === 0){\n        throw new Error(`Invalid Option: objname must be a non empty buffer`)\n      }\n      options.objname = options.objname.toString()\n    }else if(typeof options.objname === 'string'){\n      if(options.objname.length === 0){\n        throw new Error(`Invalid Option: objname must be a non empty string`)\n      }\n      // Great, nothing to do\n    }else{\n      throw new Error(`Invalid Option: objname must be a string or a buffer, got ${options.objname}`)\n    }\n    // Normalize option `quote`\n    if(options.quote === null || options.quote === false || options.quote === ''){\n      options.quote = null\n    }else{\n      if(options.quote === undefined || options.quote === true){\n        options.quote = Buffer.from('\"')\n      }else if(typeof options.quote === 'string'){\n        options.quote = Buffer.from(options.quote)\n      }\n      if(!Buffer.isBuffer(options.quote)){\n        throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(options.quote)}`)\n      }else if(options.quote.length !== 1){\n        throw new Error(`Invalid Option Length: quote must be one character, got ${options.quote.length}`)\n      }else{\n        options.quote = options.quote[0]\n      }\n    }\n    // Normalize option `raw`\n    if(options.raw === undefined || options.raw === null || options.raw === false){\n      options.raw = false\n    }else if(options.raw !== true){\n      throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(options.raw)}`)\n    }\n    // Normalize option `record_delimiter`\n    if(!options.record_delimiter){\n      options.record_delimiter = []\n    }else if(!Array.isArray(options.record_delimiter)){\n      options.record_delimiter = [options.record_delimiter]\n    }\n    options.record_delimiter = options.record_delimiter.map( function(rd){\n      if(typeof rd === 'string'){\n        rd = Buffer.from(rd)\n      }\n      return rd\n    })\n    // Normalize option `relax`\n    if(typeof options.relax === 'boolean'){\n      // Great, nothing to do\n    }else if(options.relax === undefined || options.relax === null){\n      options.relax = false\n    }else{\n      throw new Error(`Invalid Option: relax must be a boolean, got ${JSON.stringify(options.relax)}`)\n    }\n    // Normalize option `relax_column_count`\n    if(typeof options.relax_column_count === 'boolean'){\n      // Great, nothing to do\n    }else if(options.relax_column_count === undefined || options.relax_column_count === null){\n      options.relax_column_count = false\n    }else{\n      throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(options.relax_column_count)}`)\n    }\n    // Normalize option `skip_empty_lines`\n    if(typeof options.skip_empty_lines === 'boolean'){\n      // Great, nothing to do\n    }else if(options.skip_empty_lines === undefined || options.skip_empty_lines === null){\n      options.skip_empty_lines = false\n    }else{\n      throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(options.skip_empty_lines)}`)\n    }\n    // Normalize option `skip_lines_with_empty_values`\n    if(typeof options.skip_lines_with_empty_values === 'boolean'){\n      // Great, nothing to do\n    }else if(options.skip_lines_with_empty_values === undefined || options.skip_lines_with_empty_values === null){\n      options.skip_lines_with_empty_values = false\n    }else{\n      throw new Error(`Invalid Option: skip_lines_with_empty_values must be a boolean, got ${JSON.stringify(options.skip_lines_with_empty_values)}`)\n    }\n    // Normalize option `skip_lines_with_error`\n    if(typeof options.skip_lines_with_error === 'boolean'){\n      // Great, nothing to do\n    }else if(options.skip_lines_with_error === undefined || options.skip_lines_with_error === null){\n      options.skip_lines_with_error = false\n    }else{\n      throw new Error(`Invalid Option: skip_lines_with_error must be a boolean, got ${JSON.stringify(options.skip_lines_with_error)}`)\n    }\n    // Normalize option `rtrim`\n    if(options.rtrim === undefined || options.rtrim === null || options.rtrim === false){\n      options.rtrim = false\n    }else if(options.rtrim !== true){\n      throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(options.rtrim)}`)\n    }\n    // Normalize option `ltrim`\n    if(options.ltrim === undefined || options.ltrim === null || options.ltrim === false){\n      options.ltrim = false\n    }else if(options.ltrim !== true){\n      throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(options.ltrim)}`)\n    }\n    // Normalize option `trim`\n    if(options.trim === undefined || options.trim === null || options.trim === false){\n      options.trim = false\n    }else if(options.trim !== true){\n      throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(options.trim)}`)\n    }\n    // Normalize options `trim`, `ltrim` and `rtrim`\n    if(options.trim === true && opts.ltrim !== false){\n      options.ltrim = true\n    }else if(options.ltrim !== true){\n      options.ltrim = false\n    }\n    if(options.trim === true && opts.rtrim !== false){\n      options.rtrim = true\n    }else if(options.rtrim !== true){\n      options.rtrim = false\n    }\n    // Normalize option `to`\n    if(options.to === undefined || options.to === null){\n      options.to = -1\n    }else{\n      if(typeof options.to === 'string' && /\\d+/.test(options.to)){\n        options.to = parseInt(options.to)\n      }\n      if(Number.isInteger(options.to)){\n        if(options.to <= 0){\n          throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(opts.to)}`)\n        }\n      }else{\n        throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(opts.to)}`)\n      }\n    }\n    // Normalize option `to_line`\n    if(options.to_line === undefined || options.to_line === null){\n      options.to_line = -1\n    }else{\n      if(typeof options.to_line === 'string' && /\\d+/.test(options.to_line)){\n        options.to_line = parseInt(options.to_line)\n      }\n      if(Number.isInteger(options.to_line)){\n        if(options.to_line <= 0){\n          throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(opts.to_line)}`)\n        }\n      }else{\n        throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(opts.to_line)}`)\n      }\n    }\n    this.info = {\n      comment_lines: 0,\n      empty_lines: 0,\n      invalid_field_length: 0,\n      lines: 1,\n      records: 0\n    }\n    this.options = options\n    this.state = {\n      bomSkipped: false,\n      castField: fnCastField,\n      commenting: false,\n      enabled: options.from_line === 1,\n      escaping: false,\n      escapeIsQuote: options.escape === options.quote,\n      expectedRecordLength: options.columns === null ? 0 : options.columns.length,\n      field: new ResizeableBuffer(20),\n      firstLineToHeaders: fnFirstLineToHeaders,\n      info: Object.assign({}, this.info),\n      previousBuf: undefined,\n      quoting: false,\n      stop: false,\n      rawBuffer: new ResizeableBuffer(100),\n      record: [],\n      recordHasError: false,\n      record_length: 0,\n      recordDelimiterMaxLength: options.record_delimiter.length === 0 ? 2 : Math.max(...options.record_delimiter.map( (v) => v.length)),\n      trimChars: [Buffer.from(' ')[0], Buffer.from('\\t')[0]],\n      wasQuoting: false,\n      wasRowDelimiter: false\n    }\n  }\n  // Implementation of `Transform._transform`\n  _transform(buf, encoding, callback){\n    if(this.state.stop === true){\n      return\n    }\n    const err = this.__parse(buf, false)\n    if(err !== undefined){\n      this.state.stop = true\n    }\n    callback(err)\n  }\n  // Implementation of `Transform._flush`\n  _flush(callback){\n    if(this.state.stop === true){\n      return\n    }\n    const err = this.__parse(undefined, true)\n    callback(err)\n  }\n  // Central parser implementation\n  __parse(nextBuf, end){\n    const {bom, comment, escape, from, from_line, info, ltrim, max_record_size, quote, raw, relax, rtrim, skip_empty_lines, to, to_line} = this.options\n    let {record_delimiter} = this.options\n    const {bomSkipped, previousBuf, rawBuffer, escapeIsQuote, trimChars} = this.state\n    let buf\n    if(previousBuf === undefined){\n      if(nextBuf === undefined){\n        // Handle empty string\n        this.push(null)\n        return\n      }else{\n        buf = nextBuf\n      }\n    }else if(previousBuf !== undefined && nextBuf === undefined){\n      buf = previousBuf\n    }else{\n      buf = Buffer.concat([previousBuf, nextBuf])\n    }\n    // Handle UTF BOM\n    if(bomSkipped === false){\n      if(bom === false){\n        this.state.bomSkipped = true\n      }else if(buf.length < 3){\n        // No enough data\n        if(end === false){\n          // Wait for more data\n          this.state.previousBuf = buf\n          return\n        }\n        // skip BOM detect because data length < 3\n      }else{\n        if(bom_utf8.compare(buf, 0, 3) === 0){\n          // Skip BOM\n          buf = buf.slice(3)\n        }\n        this.state.bomSkipped = true\n      }\n    }\n    const bufLen = buf.length\n    let pos\n    for(pos = 0; pos < bufLen; pos++){\n      // Ensure we get enough space to look ahead\n      // There should be a way to move this out of the loop\n      if(this.__needMoreData(pos, bufLen, end)){\n        break\n      }\n      if(this.state.wasRowDelimiter === true){\n        this.info.lines++\n        if(info === true && this.state.record.length === 0 && this.state.field.length === 0 && this.state.wasQuoting === false){\n          this.state.info = Object.assign({}, this.info)\n        }\n        this.state.wasRowDelimiter = false\n      }\n      if(to_line !== -1 && this.info.lines > to_line){\n        this.state.stop = true\n        this.push(null)\n        return\n      }\n      // Auto discovery of record_delimiter, unix, mac and windows supported\n      if(this.state.quoting === false && record_delimiter.length === 0){\n        const record_delimiterCount = this.__autoDiscoverRowDelimiter(buf, pos)\n        if(record_delimiterCount){\n          record_delimiter = this.options.record_delimiter\n        }\n      }\n      const chr = buf[pos]\n      if(raw === true){\n        rawBuffer.append(chr)\n      }\n      if((chr === cr || chr === nl) && this.state.wasRowDelimiter === false ){\n        this.state.wasRowDelimiter = true\n      }\n      // Previous char was a valid escape char\n      // treat the current char as a regular char\n      if(this.state.escaping === true){\n        this.state.escaping = false\n      }else{\n        // Escape is only active inside quoted fields\n        if(this.state.quoting === true && chr === escape && pos + 1 < bufLen){\n          // We are quoting, the char is an escape chr and there is a chr to escape\n          if(escapeIsQuote){\n            if(buf[pos+1] === quote){\n              this.state.escaping = true\n              continue\n            }\n          }else{\n            this.state.escaping = true\n            continue\n          }\n        }\n        // Not currently escaping and chr is a quote\n        // TODO: need to compare bytes instead of single char\n        if(this.state.commenting === false && chr === quote){\n          if(this.state.quoting === true){\n            const nextChr = buf[pos+1]\n            const isNextChrTrimable = rtrim && this.__isCharTrimable(nextChr)\n            // const isNextChrComment = nextChr === comment\n            const isNextChrComment = comment !== null && this.__compareBytes(comment, buf, pos+1, nextChr)\n            const isNextChrDelimiter = this.__isDelimiter(nextChr, buf, pos+1)\n            const isNextChrRowDelimiter = record_delimiter.length === 0 ? this.__autoDiscoverRowDelimiter(buf, pos+1) : this.__isRecordDelimiter(nextChr, buf, pos+1)\n            // Escape a quote\n            // Treat next char as a regular character\n            // TODO: need to compare bytes instead of single char\n            if(chr === escape && nextChr === quote){\n              pos++\n            }else if(!nextChr || isNextChrDelimiter || isNextChrRowDelimiter || isNextChrComment || isNextChrTrimable){\n              this.state.quoting = false\n              this.state.wasQuoting = true\n              continue\n            }else if(relax === false){\n              const err = this.__error(`Invalid Closing Quote: got \"${String.fromCharCode(nextChr)}\" at line ${this.info.lines} instead of delimiter, row delimiter, trimable character (if activated) or comment`)\n              if(err !== undefined) return err\n            }else{\n              this.state.quoting = false\n              this.state.wasQuoting = true\n              // continue\n              this.state.field.prepend(quote)\n            }\n          }else{\n            if(this.state.field.length !== 0){\n              // In relax mode, treat opening quote preceded by chrs as regular\n              if( relax === false ){\n                const err = this.__error(`Invalid opening quote at line ${this.info.lines}`)\n                if(err !== undefined) return err\n              }\n            }else{\n              this.state.quoting = true\n              continue\n            }\n          }\n        }\n        if(this.state.quoting === false){\n          let recordDelimiterLength = this.__isRecordDelimiter(chr, buf, pos)\n          if(recordDelimiterLength !== 0){\n            // Do not emit comments which take a full line\n            const skipCommentLine = this.state.commenting && (this.state.wasQuoting === false && this.state.record.length === 0 && this.state.field.length === 0)\n            if(skipCommentLine){\n              this.info.comment_lines++\n              // Skip full comment line\n            }else{\n              // Skip if line is empty and skip_empty_lines activated\n              if(skip_empty_lines === true && this.state.wasQuoting === false && this.state.record.length === 0 && this.state.field.length === 0){\n                this.info.empty_lines++\n                pos += recordDelimiterLength - 1\n                continue\n              }\n              // Activate records emition if above from_line\n              if(this.state.enabled === false && this.info.lines + (this.state.wasRowDelimiter === true ? 1: 0 ) >= from_line){\n                this.state.enabled = true\n                this.__resetField()\n                this.__resetRow()\n                pos += recordDelimiterLength - 1\n                continue\n              }else{\n                const errField = this.__onField()\n                if(errField !== undefined) return errField\n                const errRecord = this.__onRow()\n                if(errRecord !== undefined) return errRecord\n              }\n              if(to !== -1 && this.info.records >= to){\n                this.state.stop = true\n                this.push(null)\n                return\n              }\n            }\n            this.state.commenting = false\n            pos += recordDelimiterLength - 1\n            continue\n          }\n          if(this.state.commenting){\n            continue\n          }\n          const commentCount = comment === null ? 0 : this.__compareBytes(comment, buf, pos, chr)\n          if(commentCount !== 0){\n            this.state.commenting = true\n            continue\n          }\n          let delimiterLength = this.__isDelimiter(chr, buf, pos)\n          if(delimiterLength !== 0){\n            const errField = this.__onField()\n            if(errField !== undefined) return errField\n            pos += delimiterLength - 1\n            continue\n          }\n        }\n      }\n      if(this.state.commenting === false){\n        if(max_record_size !== 0 && this.state.record_length + this.state.field.length > max_record_size){\n          const err = this.__error(`Max Record Size: record exceed the maximum number of tolerated bytes of ${max_record_size} on line ${this.info.lines}`)\n          if(err !== undefined) return err\n        }\n      }\n\n      const lappend = ltrim === false || this.state.quoting === true || this.state.field.length !== 0 || !this.__isCharTrimable(chr)\n      // rtrim in non quoting is handle in __onField\n      const rappend = rtrim === false || this.state.wasQuoting === false\n      if( lappend === true && rappend === true ){\n        this.state.field.append(chr)\n      }else if(rtrim === true && !this.__isCharTrimable(chr)){\n        const err = this.__error(`Invalid Closing Quote: found non trimable byte after quote at line ${this.info.lines}`)\n        if(err !== undefined) return err\n      }\n    }\n    if(end === true){\n      if(this.state.quoting === true){\n        const err = this.__error(`Invalid Closing Quote: quote is not closed at line ${this.info.lines}`)\n        if(err !== undefined) return err\n      }else{\n        // Skip last line if it has no characters\n        if(this.state.wasQuoting === true || this.state.record.length !== 0 || this.state.field.length !== 0){\n          const errField = this.__onField()\n          if(errField !== undefined) return errField\n          const errRecord = this.__onRow()\n          if(errRecord !== undefined) return errRecord\n        }else if(this.state.wasRowDelimiter === true){\n          this.info.empty_lines++\n        }else if(this.state.commenting === true){\n          this.info.comment_lines++\n        }\n      }\n    }else{\n      this.state.previousBuf = buf.slice(pos)\n    }\n    if(this.state.wasRowDelimiter === true){\n      this.info.lines++\n      this.state.wasRowDelimiter = false\n    }\n  }\n  // Helper to test if a character is a space or a line delimiter\n  __isCharTrimable(chr){\n    return chr === space || chr === tab || chr === cr || chr === nl\n  }\n  __onRow(){\n    const {columns, info, from, relax_column_count, raw, skip_lines_with_empty_values} = this.options\n    const {enabled, record} = this.state\n    // Convert the first line into column names\n    if(columns === true){\n      return this.__firstLineToColumns(record)\n    }\n    const recordLength = record.length\n    if(columns === false && this.info.records === 0){\n      this.state.expectedRecordLength = recordLength\n    }else if(enabled === true){\n      if(recordLength !== this.state.expectedRecordLength){\n        if(relax_column_count === true){\n          this.info.invalid_field_length++\n        }else{\n          if(columns === false){\n            const err = this.__error(`Invalid Record Length: expect ${this.state.expectedRecordLength}, got ${recordLength} on line ${this.info.lines}`)\n            if(err !== undefined) return err\n          }else{\n            const err = this.__error(`Invalid Record Length: header length is ${columns.length}, got ${recordLength} on line ${this.info.lines}`)\n            if(err !== undefined) return err\n          }\n        }\n      }\n    }\n    if(enabled === false){\n      return this.__resetRow()\n    }\n    if(skip_lines_with_empty_values === true){\n      if(record.map( (field) => field.trim() ).join('') === ''){\n        this.__resetRow()\n        return\n      }\n    }\n    if(this.state.recordHasError === true){\n      this.__resetRow()\n      this.state.recordHasError = false\n      return\n    }\n    this.info.records++\n    if(from === 1 || this.info.records >= from){\n      if(columns !== false){\n        const obj = {}\n        // Transform record array to an object\n        for(let i in record){\n          if(columns[i] === undefined || columns[i].disabled) continue\n          obj[columns[i].name] = record[i]\n        }\n        const {objname} = this.options\n        if(objname === undefined){\n          if(raw === true || info === true){\n            this.push(Object.assign(\n              {record: obj},\n              (raw === true ? {raw: this.state.rawBuffer.toString()}: {}),\n              (info === true ? {info: this.state.info}: {})\n            ))\n          }else{\n            this.push(obj)\n          }\n        }else{\n          if(raw === true || info === true){\n            this.push(Object.assign(\n              {record: [obj[objname], obj]},\n              raw === true ? {raw: this.state.rawBuffer.toString()}: {},\n              info === true ? {info: this.state.info}: {}\n            ))\n          }else{\n            this.push([obj[objname], obj])\n          }\n        }\n      }else{\n        if(raw === true || info === true){\n          this.push(Object.assign(\n            {record: record},\n            raw === true ? {raw: this.state.rawBuffer.toString()}: {},\n            info === true ? {info: this.state.info}: {}\n          ))\n        }else{\n          this.push(record)\n        }\n      }\n    }\n    this.__resetRow()\n  }\n  __firstLineToColumns(record){\n    const {firstLineToHeaders} = this.state\n    try{\n      // record = record.filter(function(field){ return field !== undefined})\n      const headers = firstLineToHeaders === undefined ? record : firstLineToHeaders.call(null, record)\n      if(!Array.isArray(headers)){\n        return this.__error(`Invalid Header Mapping: expect an array, got ${JSON.stringify(headers)}`)\n      }\n      const normalizedHeaders = normalizeColumnsArray(headers)\n      this.state.expectedRecordLength = normalizedHeaders.length\n      this.options.columns = normalizedHeaders\n      this.__resetRow()\n      return\n    }catch(err){\n      return err\n    }\n  }\n  __resetRow(){\n    const {info} = this.options\n    if(this.options.raw === true){\n      this.state.rawBuffer.reset()\n    }\n    this.state.record = []\n    this.state.record_length = 0\n  }\n  __onField(){\n    const {cast, rtrim, max_record_size} = this.options\n    const {enabled, wasQuoting} = this.state\n    // Deal with from_to options\n    if(this.options.columns !== true && enabled === false){\n      return this.__resetField()\n    }\n    let field = this.state.field.toString()\n    if(rtrim === true && wasQuoting === false){\n      field = field.trimRight()\n    }\n    if(cast === true){\n      const [err, f] = this.__cast(field)\n      if(err !== undefined) return err\n      field = f\n    }\n    this.state.record.push(field)\n    // Increment record length if record size must not exceed a limit\n    if(max_record_size !== 0 && typeof field === 'string'){\n      this.state.record_length += field.length\n    }\n    this.__resetField()\n  }\n  __resetField(){\n    this.state.field.reset()\n    this.state.wasQuoting = false\n  }\n  // Return a tuple with the error and the casted value\n  __cast(field){\n    const isColumns = Array.isArray(this.options.columns)\n    // Dont loose time calling cast if the field wont be part of the final record\n    if( isColumns === true && this.options.columns.length <= this.state.record.length ){\n      return [undefined, undefined]\n    }\n    const context = {\n      column: isColumns === true ?\n        this.options.columns[this.state.record.length].name :\n        this.state.record.length,\n      empty_lines: this.info.empty_lines,\n      header: this.options.columns === true,\n      index: this.state.record.length,\n      invalid_field_length: this.info.invalid_field_length,\n      quoting: this.state.wasQuoting,\n      lines: this.info.lines,\n      records: this.info.records\n    }\n    if(this.state.castField !== null){\n      try{\n        return [undefined, this.state.castField.call(null, field, context)]\n      }catch(err){\n        return [err]\n      }\n    }\n    if(this.__isFloat(field)){\n      return [undefined, parseFloat(field)]\n    }else if(this.options.cast_date !== false){\n      return [undefined, this.options.cast_date.call(null, field, context)]\n    }\n    return [undefined, field]\n  }\n  // Keep it in case we implement the `cast_int` option\n  // __isInt(value){\n  //   // return Number.isInteger(parseInt(value))\n  //   // return !isNaN( parseInt( obj ) );\n  //   return /^(\\-|\\+)?[1-9][0-9]*$/.test(value)\n  // }\n  __isFloat(value){\n    return (value - parseFloat( value ) + 1) >= 0 // Borrowed from jquery\n  }\n  __compareBytes(sourceBuf, targetBuf, pos, firtByte){\n    if(sourceBuf[0] !== firtByte) return 0\n    const sourceLength = sourceBuf.length\n    for(let i = 1; i < sourceLength; i++){\n      if(sourceBuf[i] !== targetBuf[pos+i]) return 0\n    }\n    return sourceLength\n  }\n  __needMoreData(i, bufLen, end){\n    if(end){\n      return false\n    }\n    const {comment, delimiter, escape} = this.options\n    const {quoting, recordDelimiterMaxLength} = this.state\n    const numOfCharLeft = bufLen - i - 1\n    const requiredLength = Math.max(\n      // Skip if the remaining buffer smaller than comment\n      comment ? comment.length : 0,\n      // Skip if the remaining buffer smaller than row delimiter\n      recordDelimiterMaxLength,\n      // Skip if the remaining buffer can be row delimiter following the closing quote\n      // 1 is for quote.length\n      quoting ? (1 + recordDelimiterMaxLength) : 0,\n      // Skip if the remaining buffer can be delimiter\n      delimiter.length,\n      // Skip if the remaining buffer can be escape sequence\n      // 1 is for escape.length\n      1\n    )\n    return numOfCharLeft < requiredLength\n  }\n  __isDelimiter(chr, buf, pos){\n    const {delimiter} = this.options\n    const delLength = delimiter.length\n    if(delimiter[0] !== chr) return 0\n    for(let i = 1; i < delLength; i++){\n      if(delimiter[i] !== buf[pos+i]) return 0\n    }\n    return delimiter.length\n  }\n  __isRecordDelimiter(chr, buf, pos){\n    const {record_delimiter} = this.options\n    const recordDelimiterLength = record_delimiter.length\n    loop1: for(let i = 0; i < recordDelimiterLength; i++){\n      const rd = record_delimiter[i]\n      const rdLength = rd.length\n      if(rd[0] !== chr){\n        continue\n      }\n      for(let j = 1; j < rdLength; j++){\n        if(rd[j] !== buf[pos+j]){\n          continue loop1\n        }\n      }\n      return rd.length\n    }\n    return 0\n  }\n  __autoDiscoverRowDelimiter(buf, pos){\n    const chr = buf[pos]\n    if(chr === cr){\n      if(buf[pos+1] === nl){\n        this.options.record_delimiter.push(Buffer.from('\\r\\n'))\n        this.state.recordDelimiterMaxLength = 2\n        return 2\n      }else{\n        this.options.record_delimiter.push(Buffer.from('\\r'))\n        this.state.recordDelimiterMaxLength = 1\n        return 1\n      }\n    }else if(chr === nl){\n      this.options.record_delimiter.push(Buffer.from('\\n'))\n      this.state.recordDelimiterMaxLength = 1\n      return 1\n    }\n    return 0\n  }\n  __error(msg){\n    const {skip_lines_with_error} = this.options\n    const err = new Error(msg)\n    if(skip_lines_with_error){\n      this.state.recordHasError = true\n      this.emit('skip', err)\n      return undefined\n    }else{\n      return err\n    }\n  }\n}\n\nconst parse = function(){\n  let data, options, callback\n  for(let i in arguments){\n    const argument = arguments[i]\n    const type = typeof argument\n    if(data === undefined && (typeof argument === 'string' || Buffer.isBuffer(argument))){\n      data = argument\n    }else if(options === undefined && isObject(argument)){\n      options = argument\n    }else if(callback === undefined && type === 'function'){\n      callback = argument\n    }else{\n      throw new Error(`Invalid argument: got ${JSON.stringify(argument)} at index ${i}`)\n    }\n  }\n  const parser = new Parser(options)\n  if(callback){\n    const records = options === undefined || options.objname === undefined ? [] : {}\n    parser.on('readable', function(){\n      let record\n      while(record = this.read()){\n        if(options === undefined || options.objname === undefined){\n          records.push(record)\n        }else{\n          records[record[0]] = record[1]\n        }\n      }\n    })\n    parser.on('error', function(err){\n      callback(err, undefined, parser.info)\n    })\n    parser.on('end', function(){\n      callback(undefined, records, parser.info)\n    })\n  }\n  if(data !== undefined){\n    parser.write(data)\n    parser.end()\n  }\n  return parser\n}\n\nparse.Parser = Parser\n\nmodule.exports = parse\n\nconst underscore = function(str){\n  return str.replace(/([A-Z])/g, function(_, match, index){\n    return '_' + match.toLowerCase()\n  })\n}\n\nconst isObject = function(obj){\n  return (typeof obj === 'object' && obj !== null && !Array.isArray(obj))\n}\n\nconst normalizeColumnsArray = function(columns){\n  // console.log('columns', columns)\n  const normalizedColumns = [];\n\n  for(let i=0; i< columns.length; i++){\n    const column = columns[i]\n    if(column === undefined || column === null || column === false){\n      normalizedColumns[i] = { disabled: true }\n    }else if(typeof column === 'string'){\n      normalizedColumns[i] = { name: column }\n    }else if(isObject(column)){\n      if(typeof column.name !== 'string'){\n        throw new Error(`Invalid Option columns: property \"name\" is required at position ${i} when column is an object literal`)\n      }\n      normalizedColumns[i] = column\n    }else{\n      throw new Error(`Invalid Option columns: expect a string or an object, got ${JSON.stringify(column)} at position ${i}`)\n    }\n  }\n  // console.log(normalizedColumns)\n  return normalizedColumns;\n}\n","// Generated by CoffeeScript 1.12.7\nvar Stringifier, get, stream, util;\n\nstream = require('stream');\n\nutil = require('util');\n\nget = require('lodash.get');\n\nmodule.exports = function() {\n  var callback, chunks, data, options, stringifier;\n  if (arguments.length === 3) {\n    data = arguments[0];\n    options = arguments[1];\n    callback = arguments[2];\n  } else if (arguments.length === 2) {\n    if (Array.isArray(arguments[0])) {\n      data = arguments[0];\n    } else {\n      options = arguments[0];\n    }\n    if (typeof arguments[1] === 'function') {\n      callback = arguments[1];\n    } else {\n      options = arguments[1];\n    }\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      callback = arguments[0];\n    } else if (Array.isArray(arguments[0])) {\n      data = arguments[0];\n    } else {\n      options = arguments[0];\n    }\n  }\n  if (options == null) {\n    options = {};\n  }\n  stringifier = new Stringifier(options);\n  if (data) {\n    process.nextTick(function() {\n      var d, j, len;\n      for (j = 0, len = data.length; j < len; j++) {\n        d = data[j];\n        stringifier.write(d);\n      }\n      return stringifier.end();\n    });\n  }\n  if (callback) {\n    chunks = [];\n    stringifier.on('readable', function() {\n      var chunk, results;\n      results = [];\n      while (chunk = stringifier.read()) {\n        results.push(chunks.push(chunk));\n      }\n      return results;\n    });\n    stringifier.on('error', function(err) {\n      return callback(err);\n    });\n    stringifier.on('end', function() {\n      return callback(null, chunks.join(''));\n    });\n  }\n  return stringifier;\n};\n\nStringifier = function(opts) {\n  var base, base1, base10, base11, base12, base13, base2, base3, base4, base5, base6, base7, base8, base9, k, options, v;\n  if (opts == null) {\n    opts = {};\n  }\n  options = {};\n  for (k in opts) {\n    v = opts[k];\n    options[k] = v;\n  }\n  stream.Transform.call(this, options);\n  this.options = options;\n  if ((base = this.options).delimiter == null) {\n    base.delimiter = ',';\n  }\n  if ((base1 = this.options).quote == null) {\n    base1.quote = '\"';\n  }\n  if ((base2 = this.options).quoted == null) {\n    base2.quoted = false;\n  }\n  if ((base3 = this.options).quotedEmpty == null) {\n    base3.quotedEmpty = void 0;\n  }\n  if ((base4 = this.options).quotedString == null) {\n    base4.quotedString = false;\n  }\n  if ((base5 = this.options).eof == null) {\n    base5.eof = true;\n  }\n  if ((base6 = this.options).escape == null) {\n    base6.escape = '\"';\n  }\n  if ((base7 = this.options).columns == null) {\n    base7.columns = null;\n  }\n  if ((base8 = this.options).header == null) {\n    base8.header = false;\n  }\n  if ((base9 = this.options).formatters == null) {\n    base9.formatters = {};\n  }\n  if ((base10 = this.options.formatters).date == null) {\n    base10.date = function(value) {\n      return '' + value.getTime();\n    };\n  }\n  if ((base11 = this.options.formatters).bool == null) {\n    base11.bool = function(value) {\n      if (value) {\n        return '1';\n      } else {\n        return '';\n      }\n    };\n  }\n  if ((base12 = this.options.formatters).object == null) {\n    base12.object = function(value) {\n      return JSON.stringify(value);\n    };\n  }\n  if ((base13 = this.options).rowDelimiter == null) {\n    base13.rowDelimiter = '\\n';\n  }\n  if (this.countWriten == null) {\n    this.countWriten = 0;\n  }\n  switch (this.options.rowDelimiter) {\n    case 'auto':\n      this.options.rowDelimiter = null;\n      break;\n    case 'unix':\n      this.options.rowDelimiter = \"\\n\";\n      break;\n    case 'mac':\n      this.options.rowDelimiter = \"\\r\";\n      break;\n    case 'windows':\n      this.options.rowDelimiter = \"\\r\\n\";\n      break;\n    case 'unicode':\n      this.options.rowDelimiter = \"\\u2028\";\n  }\n  return this;\n};\n\nutil.inherits(Stringifier, stream.Transform);\n\nmodule.exports.Stringifier = Stringifier;\n\nStringifier.prototype.headers = function() {\n  var k, label, labels;\n  if (!this.options.header) {\n    return;\n  }\n  if (!this.options.columns) {\n    return;\n  }\n  labels = this.options.columns;\n  if (typeof labels === 'object') {\n    labels = (function() {\n      var results;\n      results = [];\n      for (k in labels) {\n        label = labels[k];\n        results.push(label);\n      }\n      return results;\n    })();\n  }\n  if (this.options.eof) {\n    labels = this.stringify(labels) + this.options.rowDelimiter;\n  } else {\n    labels = this.stringify(labels);\n  }\n  return stream.Transform.prototype.write.call(this, labels);\n};\n\nStringifier.prototype.end = function(chunk, encoding, callback) {\n  if (this.countWriten === 0) {\n    this.headers();\n  }\n  return stream.Transform.prototype.end.apply(this, arguments);\n};\n\nStringifier.prototype.write = function(chunk, encoding, callback) {\n  var base, e, preserve;\n  if (chunk == null) {\n    return;\n  }\n  preserve = typeof chunk !== 'object';\n  if (!preserve) {\n    if (this.countWriten === 0 && !Array.isArray(chunk)) {\n      if ((base = this.options).columns == null) {\n        base.columns = Object.keys(chunk);\n      }\n    }\n    try {\n      this.emit('record', chunk, this.countWriten);\n    } catch (error) {\n      e = error;\n      return this.emit('error', e);\n    }\n    if (this.options.eof) {\n      chunk = this.stringify(chunk) + this.options.rowDelimiter;\n    } else {\n      chunk = this.stringify(chunk);\n      if (this.options.header || this.countWriten) {\n        chunk = this.options.rowDelimiter + chunk;\n      }\n    }\n  }\n  if (typeof chunk === 'number') {\n    chunk = \"\" + chunk;\n  }\n  if (this.countWriten === 0) {\n    this.headers();\n  }\n  if (!preserve) {\n    this.countWriten++;\n  }\n  return stream.Transform.prototype.write.call(this, chunk, encoding, callback);\n};\n\nStringifier.prototype._transform = function(chunk, encoding, callback) {\n  this.push(chunk);\n  return callback();\n};\n\nStringifier.prototype.stringify = function(line) {\n  var _line, column, columns, containsEscape, containsLinebreak, containsQuote, containsdelimiter, delimiter, escape, field, i, j, l, newLine, quote, ref, ref1, regexp, shouldQuote, value;\n  if (typeof line !== 'object') {\n    return line;\n  }\n  columns = this.options.columns;\n  if (typeof columns === 'object' && columns !== null && !Array.isArray(columns)) {\n    columns = Object.keys(columns);\n  }\n  delimiter = this.options.delimiter;\n  quote = this.options.quote;\n  escape = this.options.escape;\n  if (!Array.isArray(line)) {\n    _line = [];\n    if (columns) {\n      for (i = j = 0, ref = columns.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n        column = columns[i];\n        value = get(line, column);\n        _line[i] = (typeof value === 'undefined' || value === null) ? '' : value;\n      }\n    } else {\n      for (column in line) {\n        _line.push(line[column]);\n      }\n    }\n    line = _line;\n    _line = null;\n  } else if (columns) {\n    line.splice(columns.length);\n  }\n  if (Array.isArray(line)) {\n    newLine = '';\n    for (i = l = 0, ref1 = line.length; 0 <= ref1 ? l < ref1 : l > ref1; i = 0 <= ref1 ? ++l : --l) {\n      field = line[i];\n      if (typeof field === 'string') {\n\n      } else if (typeof field === 'number') {\n        field = '' + field;\n      } else if (typeof field === 'boolean') {\n        field = this.options.formatters.bool(field);\n      } else if (field instanceof Date) {\n        field = this.options.formatters.date(field);\n      } else if (typeof field === 'object' && field !== null) {\n        field = this.options.formatters.object(field);\n      }\n      if (field) {\n        containsdelimiter = field.indexOf(delimiter) >= 0;\n        containsQuote = field.indexOf(quote) >= 0;\n        containsEscape = field.indexOf(escape) >= 0 && (escape !== quote);\n        containsLinebreak = field.indexOf('\\r') >= 0 || field.indexOf('\\n') >= 0;\n        shouldQuote = containsQuote || containsdelimiter || containsLinebreak || this.options.quoted || (this.options.quotedString && typeof line[i] === 'string');\n        if (shouldQuote && containsEscape) {\n          regexp = escape === '\\\\' ? new RegExp(escape + escape, 'g') : new RegExp(escape, 'g');\n          field = field.replace(regexp, escape + escape);\n        }\n        if (containsQuote) {\n          regexp = new RegExp(quote, 'g');\n          field = field.replace(regexp, escape + quote);\n        }\n        if (shouldQuote) {\n          field = quote + field + quote;\n        }\n        newLine += field;\n      } else if (this.options.quotedEmpty || ((this.options.quotedEmpty == null) && line[i] === '' && this.options.quotedString)) {\n        newLine += quote + quote;\n      }\n      if (i !== line.length - 1) {\n        newLine += delimiter;\n      }\n    }\n    line = newLine;\n  }\n  return line;\n};\n","var AbstractIterator = require('abstract-leveldown').AbstractIterator\nvar inherits = require('inherits')\n\nfunction DeferredIterator (options) {\n  AbstractIterator.call(this, options)\n\n  this._options = options\n  this._iterator = null\n  this._operations = []\n}\n\ninherits(DeferredIterator, AbstractIterator)\n\nDeferredIterator.prototype.setDb = function (db) {\n  var it = this._iterator = db.iterator(this._options)\n  this._operations.forEach(function (op) {\n    it[op.method].apply(it, op.args)\n  })\n}\n\nDeferredIterator.prototype._operation = function (method, args) {\n  if (this._iterator) return this._iterator[method].apply(this._iterator, args)\n  this._operations.push({ method: method, args: args })\n}\n\n'next end'.split(' ').forEach(function (m) {\n  DeferredIterator.prototype['_' + m] = function () {\n    this._operation(m, arguments)\n  }\n})\n\nmodule.exports = DeferredIterator\n","var AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN\nvar inherits = require('inherits')\nvar DeferredIterator = require('./deferred-iterator')\nvar deferrables = 'put get del batch'.split(' ')\n\nfunction DeferredLevelDOWN (db) {\n  AbstractLevelDOWN.call(this, '')\n  this._db = db\n  this._operations = []\n  this._iterators = []\n  closed(this)\n}\n\ninherits(DeferredLevelDOWN, AbstractLevelDOWN)\n\nDeferredLevelDOWN.prototype._open = function (options, callback) {\n  var self = this\n\n  this._db.open(options, function (err) {\n    if (err) return callback(err)\n\n    self._operations.forEach(function (op) {\n      self._db[op.method].apply(self._db, op.args)\n    })\n    self._operations = []\n    self._iterators.forEach(function (it) {\n      it.setDb(self._db)\n    })\n    self._iterators = []\n    open(self)\n    callback()\n  })\n}\n\nDeferredLevelDOWN.prototype._close = function (callback) {\n  var self = this\n\n  this._db.close(function (err) {\n    if (err) return callback(err)\n    closed(self)\n    callback()\n  })\n}\n\nfunction open (self) {\n  deferrables.concat('iterator').forEach(function (m) {\n    self['_' + m] = function () {\n      return this._db[m].apply(this._db, arguments)\n    }\n  })\n  if (self._db.approximateSize) {\n    self.approximateSize = function () {\n      return this._db.approximateSize.apply(this._db, arguments)\n    }\n  }\n}\n\nfunction closed (self) {\n  deferrables.forEach(function (m) {\n    self['_' + m] = function () {\n      this._operations.push({ method: m, args: arguments })\n    }\n  })\n  if (typeof self._db.approximateSize === 'function') {\n    self.approximateSize = function () {\n      this._operations.push({\n        method: 'approximateSize',\n        args: arguments\n      })\n    }\n  }\n  self._iterator = function (options) {\n    var it = new DeferredIterator(options)\n    this._iterators.push(it)\n    return it\n  }\n}\n\nDeferredLevelDOWN.prototype._serializeKey = function (key) {\n  return key\n}\n\nDeferredLevelDOWN.prototype._serializeValue = function (value) {\n  return value\n}\n\nmodule.exports = DeferredLevelDOWN\nmodule.exports.DeferredIterator = DeferredIterator\n","var prr = require('prr')\n\nfunction init (type, message, cause) {\n  if (!!message && typeof message != 'string') {\n    message = message.message || message.name\n  }\n  prr(this, {\n      type    : type\n    , name    : type\n      // can be passed just a 'cause'\n    , cause   : typeof message != 'string' ? message : cause\n    , message : message\n  }, 'ewr')\n}\n\n// generic prototype, not intended to be actually used - helpful for `instanceof`\nfunction CustomError (message, cause) {\n  Error.call(this)\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, this.constructor)\n  init.call(this, 'CustomError', message, cause)\n}\n\nCustomError.prototype = new Error()\n\nfunction createError (errno, type, proto) {\n  var err = function (message, cause) {\n    init.call(this, type, message, cause)\n    //TODO: the specificity here is stupid, errno should be available everywhere\n    if (type == 'FilesystemError') {\n      this.code    = this.cause.code\n      this.path    = this.cause.path\n      this.errno   = this.cause.errno\n      this.message =\n        (errno.errno[this.cause.errno]\n          ? errno.errno[this.cause.errno].description\n          : this.cause.message)\n        + (this.cause.path ? ' [' + this.cause.path + ']' : '')\n    }\n    Error.call(this)\n    if (Error.captureStackTrace)\n      Error.captureStackTrace(this, err)\n  }\n  err.prototype = !!proto ? new proto() : new CustomError()\n  return err\n}\n\nmodule.exports = function (errno) {\n  var ce = function (type, proto) {\n    return createError(errno, type, proto)\n  }\n  return {\n      CustomError     : CustomError\n    , FilesystemError : ce('FilesystemError')\n    , createError     : ce\n  }\n}\n","var all = module.exports.all = [\n  {\n    errno: -2,\n    code: 'ENOENT',\n    description: 'no such file or directory'\n  },\n  {\n    errno: -1,\n    code: 'UNKNOWN',\n    description: 'unknown error'\n  },\n  {\n    errno: 0,\n    code: 'OK',\n    description: 'success'\n  },\n  {\n    errno: 1,\n    code: 'EOF',\n    description: 'end of file'\n  },\n  {\n    errno: 2,\n    code: 'EADDRINFO',\n    description: 'getaddrinfo error'\n  },\n  {\n    errno: 3,\n    code: 'EACCES',\n    description: 'permission denied'\n  },\n  {\n    errno: 4,\n    code: 'EAGAIN',\n    description: 'resource temporarily unavailable'\n  },\n  {\n    errno: 5,\n    code: 'EADDRINUSE',\n    description: 'address already in use'\n  },\n  {\n    errno: 6,\n    code: 'EADDRNOTAVAIL',\n    description: 'address not available'\n  },\n  {\n    errno: 7,\n    code: 'EAFNOSUPPORT',\n    description: 'address family not supported'\n  },\n  {\n    errno: 8,\n    code: 'EALREADY',\n    description: 'connection already in progress'\n  },\n  {\n    errno: 9,\n    code: 'EBADF',\n    description: 'bad file descriptor'\n  },\n  {\n    errno: 10,\n    code: 'EBUSY',\n    description: 'resource busy or locked'\n  },\n  {\n    errno: 11,\n    code: 'ECONNABORTED',\n    description: 'software caused connection abort'\n  },\n  {\n    errno: 12,\n    code: 'ECONNREFUSED',\n    description: 'connection refused'\n  },\n  {\n    errno: 13,\n    code: 'ECONNRESET',\n    description: 'connection reset by peer'\n  },\n  {\n    errno: 14,\n    code: 'EDESTADDRREQ',\n    description: 'destination address required'\n  },\n  {\n    errno: 15,\n    code: 'EFAULT',\n    description: 'bad address in system call argument'\n  },\n  {\n    errno: 16,\n    code: 'EHOSTUNREACH',\n    description: 'host is unreachable'\n  },\n  {\n    errno: 17,\n    code: 'EINTR',\n    description: 'interrupted system call'\n  },\n  {\n    errno: 18,\n    code: 'EINVAL',\n    description: 'invalid argument'\n  },\n  {\n    errno: 19,\n    code: 'EISCONN',\n    description: 'socket is already connected'\n  },\n  {\n    errno: 20,\n    code: 'EMFILE',\n    description: 'too many open files'\n  },\n  {\n    errno: 21,\n    code: 'EMSGSIZE',\n    description: 'message too long'\n  },\n  {\n    errno: 22,\n    code: 'ENETDOWN',\n    description: 'network is down'\n  },\n  {\n    errno: 23,\n    code: 'ENETUNREACH',\n    description: 'network is unreachable'\n  },\n  {\n    errno: 24,\n    code: 'ENFILE',\n    description: 'file table overflow'\n  },\n  {\n    errno: 25,\n    code: 'ENOBUFS',\n    description: 'no buffer space available'\n  },\n  {\n    errno: 26,\n    code: 'ENOMEM',\n    description: 'not enough memory'\n  },\n  {\n    errno: 27,\n    code: 'ENOTDIR',\n    description: 'not a directory'\n  },\n  {\n    errno: 28,\n    code: 'EISDIR',\n    description: 'illegal operation on a directory'\n  },\n  {\n    errno: 29,\n    code: 'ENONET',\n    description: 'machine is not on the network'\n  },\n  {\n    errno: 31,\n    code: 'ENOTCONN',\n    description: 'socket is not connected'\n  },\n  {\n    errno: 32,\n    code: 'ENOTSOCK',\n    description: 'socket operation on non-socket'\n  },\n  {\n    errno: 33,\n    code: 'ENOTSUP',\n    description: 'operation not supported on socket'\n  },\n  {\n    errno: 34,\n    code: 'ENOENT',\n    description: 'no such file or directory'\n  },\n  {\n    errno: 35,\n    code: 'ENOSYS',\n    description: 'function not implemented'\n  },\n  {\n    errno: 36,\n    code: 'EPIPE',\n    description: 'broken pipe'\n  },\n  {\n    errno: 37,\n    code: 'EPROTO',\n    description: 'protocol error'\n  },\n  {\n    errno: 38,\n    code: 'EPROTONOSUPPORT',\n    description: 'protocol not supported'\n  },\n  {\n    errno: 39,\n    code: 'EPROTOTYPE',\n    description: 'protocol wrong type for socket'\n  },\n  {\n    errno: 40,\n    code: 'ETIMEDOUT',\n    description: 'connection timed out'\n  },\n  {\n    errno: 41,\n    code: 'ECHARSET',\n    description: 'invalid Unicode character'\n  },\n  {\n    errno: 42,\n    code: 'EAIFAMNOSUPPORT',\n    description: 'address family for hostname not supported'\n  },\n  {\n    errno: 44,\n    code: 'EAISERVICE',\n    description: 'servname not supported for ai_socktype'\n  },\n  {\n    errno: 45,\n    code: 'EAISOCKTYPE',\n    description: 'ai_socktype not supported'\n  },\n  {\n    errno: 46,\n    code: 'ESHUTDOWN',\n    description: 'cannot send after transport endpoint shutdown'\n  },\n  {\n    errno: 47,\n    code: 'EEXIST',\n    description: 'file already exists'\n  },\n  {\n    errno: 48,\n    code: 'ESRCH',\n    description: 'no such process'\n  },\n  {\n    errno: 49,\n    code: 'ENAMETOOLONG',\n    description: 'name too long'\n  },\n  {\n    errno: 50,\n    code: 'EPERM',\n    description: 'operation not permitted'\n  },\n  {\n    errno: 51,\n    code: 'ELOOP',\n    description: 'too many symbolic links encountered'\n  },\n  {\n    errno: 52,\n    code: 'EXDEV',\n    description: 'cross-device link not permitted'\n  },\n  {\n    errno: 53,\n    code: 'ENOTEMPTY',\n    description: 'directory not empty'\n  },\n  {\n    errno: 54,\n    code: 'ENOSPC',\n    description: 'no space left on device'\n  },\n  {\n    errno: 55,\n    code: 'EIO',\n    description: 'i/o error'\n  },\n  {\n    errno: 56,\n    code: 'EROFS',\n    description: 'read-only file system'\n  },\n  {\n    errno: 57,\n    code: 'ENODEV',\n    description: 'no such device'\n  },\n  {\n    errno: 58,\n    code: 'ESPIPE',\n    description: 'invalid seek'\n  },\n  {\n    errno: 59,\n    code: 'ECANCELED',\n    description: 'operation canceled'\n  }\n]\n\nmodule.exports.errno = {}\nmodule.exports.code = {}\n\nall.forEach(function (error) {\n  module.exports.errno[error.errno] = error\n  module.exports.code[error.code] = error\n})\n\nmodule.exports.custom = require('./custom')(module.exports)\nmodule.exports.create = module.exports.custom.createError\n","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (!events)\n    return [];\n\n  var evlistener = events[type];\n  if (!evlistener)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n","\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n","var Writable = require('readable-stream/writable');\nvar Readable = require('readable-stream/readable');\nvar Duplex = require('readable-stream/duplex');\n\nvar DUMMY = new Buffer(0);\nvar noop = function() {};\n\nvar toFunction = function(fn) {\n\tif (typeof fn === 'function') return fn;\n\treturn function(cb) {\n\t\tcb(null, fn);\n\t};\n};\n\nvar onreadable = function(rs, init) {\n\tvar reading = false;\n\tvar destroyed = false;\n\n\trs._read = function() {\n\t\treading = true;\n\t};\n\n\trs.destroy = function() {\n\t\tdestroyed = true;\n\t};\n\n\tinit(function(err, source) {\n\t\tif (err) return rs.emit('error', err);\n\n\t\tvar fwd = function() {\n\t\t\tvar data;\n\t\t\twhile ((data = source.read()) !== null) {\n\t\t\t\treading = false;\n\t\t\t\trs.push(data);\n\t\t\t}\n\t\t};\n\n\t\tsource.on('readable', function() {\n\t\t\tif (reading) fwd();\n\t\t});\n\n\t\tsource.on('end', function() {\n\t\t\tfwd();\n\t\t\trs.push(null);\n\t\t});\n\n\t\tsource.on('error', function(err) {\n\t\t\trs.emit('error', err);\n\t\t});\n\n\t\tsource.on('close', function() {\n\t\t\tfwd();\n\t\t\tprocess.nextTick(function() {\n\t\t\t\trs.emit('close');\n\t\t\t});\n\t\t});\n\n\t\trs._read = function() {\n\t\t\treading = true;\n\t\t\tfwd();\n\t\t};\n\n\t\trs.destroy = function() {\n\t\t\tif (destroyed) return;\n\t\t\tdestroyed = true;\n\t\t\tif (source.destroy) source.destroy();\n\t\t};\n\n\t\tif (destroyed) {\n\t\t\tdestroyed = false;\n\t\t\trs.destroy();\n\t\t\treturn;\n\t\t}\n\n\t\tif (reading) fwd();\n\t});\n\n\treturn rs;\n};\n\nvar onwritable = function(ws, init) {\n\tvar ready = noop;\n\tvar destroyed = false;\n\n\tws._write = function(data, enc, cb) {\n\t\tready = cb;\n\t};\n\n\tws.destroy = function() {\n\t\tdestroyed = true;\n\t};\n\n\tws.write(DUMMY);\n\n\tinit(function(err, source) {\n\t\tif (err) return ws.emit('error', err);\n\n\t\tsource.on('close', function() {\n\t\t\tws.emit('close');\n\t\t});\n\n\t\tsource.on('error', function(err) {\n\t\t\tws.emit('error', err);\n\t\t});\n\n\t\tws._write = function(data, enc, cb) {\n\t\t\tif (data === DUMMY) return cb();\n\t\t\tsource.write(data, enc, cb);\n\t\t};\n\n\t\tvar emit = ws.emit;\n\n\t\tsource.on('finish', function() {\n\t\t\temit.call(ws, 'finish');\n\t\t});\n\n\t\tws.destroy = function() {\n\t\t\tif (destroyed) return;\n\t\t\tdestroyed = true;\n\t\t\tif (source.destroy) source.destroy();\n\t\t};\n\n\t\tws.emit = function(name) {\n\t\t\tif (name !== 'finish') return emit.apply(ws, arguments);\n\t\t\tsource.end();\n\t\t};\n\n\t\tif (destroyed) {\n\t\t\tdestroyed = false;\n\t\t\tws.destroy();\n\t\t\treturn;\n\t\t}\n\n\t\tready();\n\t});\n\n\treturn ws;\n};\n\nexports.readable = function(opts, init) {\n\tif (arguments.length === 1) return exports.readable(null, opts);\n\tif (!opts) opts = {};\n\treturn onreadable(new Readable(opts), toFunction(init));\n};\n\nexports.writable = function(opts, init) {\n\tif (arguments.length === 1) return exports.writable(null, opts);\n\tif (!opts) opts = {};\n\treturn onwritable(new Writable(opts), toFunction(init));\n};\n\nexports.duplex = function(opts, initWritable, initReadable) {\n\tif (arguments.length === 2) return exports.duplex(null, opts, initWritable);\n\tif (!opts) opts = {};\n\tvar dupl = new Duplex(opts);\n\tonwritable(dupl, toFunction(initWritable));\n\tonreadable(dupl, toFunction(initReadable));\n\treturn dupl;\n};","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","module.exports = require(\"./lib/_stream_duplex.js\")\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = false;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // In streams that never have any data, and do push(null) right away,\n  // the consumer can miss the 'end' event if they do some I/O before\n  // consuming the stream.  So, we don't emit('end') until some reading\n  // happens.\n  this.calledRead = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (typeof chunk === 'string' && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null || chunk === undefined) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      // update the buffer info.\n      state.length += state.objectMode ? 1 : chunk.length;\n      if (addToFront) {\n        state.buffer.unshift(chunk);\n      } else {\n        state.reading = false;\n        state.buffer.push(chunk);\n      }\n\n      if (state.needReadable)\n        emitReadable(stream);\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (n === null || isNaN(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  var state = this._readableState;\n  state.calledRead = true;\n  var nOrig = n;\n  var ret;\n\n  if (typeof n !== 'number' || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    ret = null;\n\n    // In cases where the decoder did not receive enough data\n    // to produce a full chunk, then immediately received an\n    // EOF, state.buffer will contain [<Buffer >, <Buffer 00 ...>].\n    // howMuchToRead will see this and coerce the amount to\n    // read to zero (because it's looking at the length of the\n    // first <Buffer > in state.buffer), and we'll end up here.\n    //\n    // This can only happen via state.decoder -- no other venue\n    // exists for pushing a zero-length chunk into state.buffer\n    // and triggering this behavior. In this case, we return our\n    // remaining data and end the stream, if appropriate.\n    if (state.length > 0 && state.decoder) {\n      ret = fromList(n, state);\n      state.length -= ret.length;\n    }\n\n    if (state.length === 0)\n      endReadable(this);\n\n    return ret;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length - n <= state.highWaterMark)\n    doRead = true;\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading)\n    doRead = false;\n\n  if (doRead) {\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read called its callback synchronously, then `reading`\n  // will be false, and we need to re-evaluate how much data we\n  // can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we happened to read() exactly the remaining amount in the\n  // buffer, and the EOF has been seen at this point, then make sure\n  // that we emit 'end' on the very next tick.\n  if (state.ended && !state.endEmitted && state.length === 0)\n    endReadable(this);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // if we've ended and we have some data left, then emit\n  // 'readable' now to make sure it gets picked up.\n  if (state.length > 0)\n    emitReadable(stream);\n  else\n    endReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (state.emittedReadable)\n    return;\n\n  state.emittedReadable = true;\n  if (state.sync)\n    process.nextTick(function() {\n      emitReadable_(stream);\n    });\n  else\n    emitReadable_(stream);\n}\n\nfunction emitReadable_(stream) {\n  stream.emit('readable');\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    if (readable !== src) return;\n    cleanup();\n  }\n\n  function onend() {\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (!dest._writableState || dest._writableState.needDrain)\n      ondrain();\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    // the handler that waits for readable events after all\n    // the data gets sucked out in flow.\n    // This would be easier to follow with a .once() handler\n    // in flow(), but that is too slow.\n    this.on('readable', pipeOnReadable);\n\n    state.flowing = true;\n    process.nextTick(function() {\n      flow(src);\n    });\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var dest = this;\n    var state = src._readableState;\n    state.awaitDrain--;\n    if (state.awaitDrain === 0)\n      flow(src);\n  };\n}\n\nfunction flow(src) {\n  var state = src._readableState;\n  var chunk;\n  state.awaitDrain = 0;\n\n  function write(dest, i, list) {\n    var written = dest.write(chunk);\n    if (false === written) {\n      state.awaitDrain++;\n    }\n  }\n\n  while (state.pipesCount && null !== (chunk = src.read())) {\n\n    if (state.pipesCount === 1)\n      write(state.pipes, 0, null);\n    else\n      forEach(state.pipes, write);\n\n    src.emit('data', chunk);\n\n    // if anyone needs a drain, then we have to wait for that.\n    if (state.awaitDrain > 0)\n      return;\n  }\n\n  // if every destination was unpiped, either before entering this\n  // function, or in the while loop, then stop flowing.\n  //\n  // NB: This is a pretty rare edge case.\n  if (state.pipesCount === 0) {\n    state.flowing = false;\n\n    // if there were data event listeners added, then switch to old mode.\n    if (EE.listenerCount(src, 'data') > 0)\n      emitDataEvents(src);\n    return;\n  }\n\n  // at this point, no one needed a drain, so we just ran out of data\n  // on the next readable event, start it over again.\n  state.ranOut = true;\n}\n\nfunction pipeOnReadable() {\n  if (this._readableState.ranOut) {\n    this._readableState.ranOut = false;\n    flow(this);\n  }\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    this.removeListener('readable', pipeOnReadable);\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data' && !this._readableState.flowing)\n    emitDataEvents(this);\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        this.read(0);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  emitDataEvents(this);\n  this.read(0);\n  this.emit('resume');\n};\n\nReadable.prototype.pause = function() {\n  emitDataEvents(this, true);\n  this.emit('pause');\n};\n\nfunction emitDataEvents(stream, startPaused) {\n  var state = stream._readableState;\n\n  if (state.flowing) {\n    // https://github.com/isaacs/readable-stream/issues/16\n    throw new Error('Cannot switch to old mode now.');\n  }\n\n  var paused = startPaused || false;\n  var readable = false;\n\n  // convert to an old-style stream.\n  stream.readable = true;\n  stream.pipe = Stream.prototype.pipe;\n  stream.on = stream.addListener = Stream.prototype.on;\n\n  stream.on('readable', function() {\n    readable = true;\n\n    var c;\n    while (!paused && (null !== (c = stream.read())))\n      stream.emit('data', c);\n\n    if (c === null) {\n      readable = false;\n      stream._readableState.needReadable = true;\n    }\n  });\n\n  stream.pause = function() {\n    paused = true;\n    this.emit('pause');\n  };\n\n  stream.resume = function() {\n    paused = false;\n    if (readable)\n      process.nextTick(function() {\n        stream.emit('readable');\n      });\n    else\n      this.read(0);\n    this.emit('resume');\n  };\n\n  // now make it start, just in case it hadn't already.\n  stream.emit('readable');\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    //if (state.objectMode && util.isNullOrUndefined(chunk))\n    if (state.objectMode && (chunk === null || chunk === undefined))\n      return;\n    else if (!state.objectMode && (!chunk || !chunk.length))\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (typeof stream[i] === 'function' &&\n        typeof this[i] === 'undefined') {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted && state.calledRead) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined)\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  var ts = this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('finish', function() {\n    if ('function' === typeof this._flush)\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var rs = stream._readableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : 16 * 1024;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, becuase any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!Buffer.isBuffer(chunk) &&\n      'string' !== typeof chunk &&\n      chunk !== null &&\n      chunk !== undefined &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function')\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb))\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n\n  return ret;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      typeof chunk === 'string') {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (Buffer.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      cb(er);\n    });\n  else\n    cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished && !state.bufferProcessing && state.buffer.length)\n      clearBuffer(stream, state);\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  cb();\n  if (finished)\n    finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  for (var c = 0; c < state.buffer.length; c++) {\n    var entry = state.buffer[c];\n    var chunk = entry.chunk;\n    var encoding = entry.encoding;\n    var cb = entry.callback;\n    var len = state.objectMode ? 1 : chunk.length;\n\n    doWrite(stream, state, len, chunk, encoding, cb);\n\n    // if we didn't call the onwrite immediately, then\n    // it means that we need to wait until it does.\n    // also, that means that the chunk and cb are currently\n    // being processed, so move the buffer counter past them.\n    if (state.writing) {\n      c++;\n      break;\n    }\n  }\n\n  state.bufferProcessing = false;\n  if (c < state.buffer.length)\n    state.buffer = state.buffer.slice(c);\n  else\n    state.buffer.length = 0;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (typeof chunk !== 'undefined' && chunk !== null)\n    this.write(chunk, encoding);\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    state.finished = true;\n    stream.emit('finish');\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n","var Stream = require('stream'); // hack to fix a circular dependency issue when used with browserify\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = Stream;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nif (!process.browser && process.env.READABLE_STREAM === 'disable') {\n  module.exports = require('stream');\n}\n","module.exports = require(\"./lib/_stream_writable.js\")\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\nvar types = [\n  require('./nextTick'),\n  require('./mutation.js'),\n  require('./messageChannel'),\n  require('./stateChange'),\n  require('./timeout')\n];\nvar draining;\nvar currentQueue;\nvar queueIndex = -1;\nvar queue = [];\nvar scheduled = false;\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n  draining = false;\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n  if (queue.length) {\n    nextTick();\n  }\n}\n\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  if (draining) {\n    return;\n  }\n  scheduled = false;\n  draining = true;\n  var len = queue.length;\n  var timeout = setTimeout(cleanUpNextTick);\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n    while (currentQueue && ++queueIndex < len) {\n      currentQueue[queueIndex].run();\n    }\n    queueIndex = -1;\n    len = queue.length;\n  }\n  currentQueue = null;\n  queueIndex = -1;\n  draining = false;\n  clearTimeout(timeout);\n}\nvar scheduleDrain;\nvar i = -1;\nvar len = types.length;\nwhile (++i < len) {\n  if (types[i] && types[i].test && types[i].test()) {\n    scheduleDrain = types[i].install(nextTick);\n    break;\n  }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\nItem.prototype.run = function () {\n  var fun = this.fun;\n  var array = this.array;\n  switch (array.length) {\n  case 0:\n    return fun();\n  case 1:\n    return fun(array[0]);\n  case 2:\n    return fun(array[0], array[1]);\n  case 3:\n    return fun(array[0], array[1], array[2]);\n  default:\n    return fun.apply(null, array);\n  }\n\n};\nmodule.exports = immediate;\nfunction immediate(task) {\n  var args = new Array(arguments.length - 1);\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n  queue.push(new Item(task, args));\n  if (!scheduled && !draining) {\n    scheduled = true;\n    scheduleDrain();\n  }\n}\n","'use strict';\n\nexports.test = function () {\n  if (global.setImmediate) {\n    // we can only get here in IE10\n    // which doesn't handel postMessage well\n    return false;\n  }\n  return typeof global.MessageChannel !== 'undefined';\n};\n\nexports.install = function (func) {\n  var channel = new global.MessageChannel();\n  channel.port1.onmessage = func;\n  return function () {\n    channel.port2.postMessage(0);\n  };\n};","'use strict';\n//based off rsvp https://github.com/tildeio/rsvp.js\n//license https://github.com/tildeio/rsvp.js/blob/master/LICENSE\n//https://github.com/tildeio/rsvp.js/blob/master/lib/rsvp/asap.js\n\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nexports.test = function () {\n  return Mutation;\n};\n\nexports.install = function (handle) {\n  var called = 0;\n  var observer = new Mutation(handle);\n  var element = global.document.createTextNode('');\n  observer.observe(element, {\n    characterData: true\n  });\n  return function () {\n    element.data = (called = ++called % 2);\n  };\n};","'use strict';\nexports.test = function () {\n  // Don't get fooled by e.g. browserify environments.\n  return (typeof process !== 'undefined') && !process.browser;\n};\n\nexports.install = function (func) {\n  return function () {\n    process.nextTick(func);\n  };\n};\n","'use strict';\n\nexports.test = function () {\n  return 'document' in global && 'onreadystatechange' in global.document.createElement('script');\n};\n\nexports.install = function (handle) {\n  return function () {\n\n    // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n    // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n    var scriptEl = global.document.createElement('script');\n    scriptEl.onreadystatechange = function () {\n      handle();\n\n      scriptEl.onreadystatechange = null;\n      scriptEl.parentNode.removeChild(scriptEl);\n      scriptEl = null;\n    };\n    global.document.documentElement.appendChild(scriptEl);\n\n    return handle;\n  };\n};","'use strict';\nexports.test = function () {\n  return true;\n};\n\nexports.install = function (t) {\n  return function () {\n    setTimeout(t, 0);\n  };\n};","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","module.exports      = isTypedArray\nisTypedArray.strict = isStrictTypedArray\nisTypedArray.loose  = isLooseTypedArray\n\nvar toString = Object.prototype.toString\nvar names = {\n    '[object Int8Array]': true\n  , '[object Int16Array]': true\n  , '[object Int32Array]': true\n  , '[object Uint8Array]': true\n  , '[object Uint8ClampedArray]': true\n  , '[object Uint16Array]': true\n  , '[object Uint32Array]': true\n  , '[object Float32Array]': true\n  , '[object Float64Array]': true\n}\n\nfunction isTypedArray(arr) {\n  return (\n       isStrictTypedArray(arr)\n    || isLooseTypedArray(arr)\n  )\n}\n\nfunction isStrictTypedArray(arr) {\n  return (\n       arr instanceof Int8Array\n    || arr instanceof Int16Array\n    || arr instanceof Int32Array\n    || arr instanceof Uint8Array\n    || arr instanceof Uint8ClampedArray\n    || arr instanceof Uint16Array\n    || arr instanceof Uint32Array\n    || arr instanceof Float32Array\n    || arr instanceof Float64Array\n  )\n}\n\nfunction isLooseTypedArray(arr) {\n  return names[toString.call(arr)]\n}\n","\n/**!\n * is\n * the definitive JavaScript type testing library\n * \n * @copyright 2013 Enrico Marino\n * @license MIT\n */\n\nvar objProto = Object.prototype;\nvar owns = objProto.hasOwnProperty;\nvar toString = objProto.toString;\nvar isActualNaN = function (value) {\n  return value !== value;\n};\nvar NON_HOST_TYPES = {\n  \"boolean\": 1,\n  \"number\": 1,\n  \"string\": 1,\n  \"undefined\": 1\n};\n\n/**\n * Expose `is`\n */\n\nvar is = module.exports = {};\n\n/**\n * Test general.\n */\n\n/**\n * is.type\n * Test if `value` is a type of `type`.\n *\n * @param {Mixed} value value to test\n * @param {String} type type\n * @return {Boolean} true if `value` is a type of `type`, false otherwise\n * @api public\n */\n\nis.a =\nis.type = function (value, type) {\n  return typeof value === type;\n};\n\n/**\n * is.defined\n * Test if `value` is defined.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if 'value' is defined, false otherwise\n * @api public\n */\n\nis.defined = function (value) {\n  return value !== undefined;\n};\n\n/**\n * is.empty\n * Test if `value` is empty.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is empty, false otherwise\n * @api public\n */\n\nis.empty = function (value) {\n  var type = toString.call(value);\n  var key;\n\n  if ('[object Array]' === type || '[object Arguments]' === type) {\n    return value.length === 0;\n  }\n\n  if ('[object Object]' === type) {\n    for (key in value) if (owns.call(value, key)) return false;\n    return true;\n  }\n\n  if ('[object String]' === type) {\n    return '' === value;\n  }\n\n  return false;\n};\n\n/**\n * is.equal\n * Test if `value` is equal to `other`.\n *\n * @param {Mixed} value value to test\n * @param {Mixed} other value to compare with\n * @return {Boolean} true if `value` is equal to `other`, false otherwise\n */\n\nis.equal = function (value, other) {\n  var type = toString.call(value)\n  var key;\n\n  if (type !== toString.call(other)) {\n    return false;\n  }\n\n  if ('[object Object]' === type) {\n    for (key in value) {\n      if (!is.equal(value[key], other[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if ('[object Array]' === type) {\n    key = value.length;\n    if (key !== other.length) {\n      return false;\n    }\n    while (--key) {\n      if (!is.equal(value[key], other[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if ('[object Function]' === type) {\n    return value.prototype === other.prototype;\n  }\n\n  if ('[object Date]' === type) {\n    return value.getTime() === other.getTime();\n  }\n\n  return value === other;\n};\n\n/**\n * is.hosted\n * Test if `value` is hosted by `host`.\n *\n * @param {Mixed} value to test\n * @param {Mixed} host host to test with\n * @return {Boolean} true if `value` is hosted by `host`, false otherwise\n * @api public\n */\n\nis.hosted = function (value, host) {\n  var type = typeof host[value];\n  return type === 'object' ? !!host[value] : !NON_HOST_TYPES[type];\n};\n\n/**\n * is.instance\n * Test if `value` is an instance of `constructor`.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an instance of `constructor`\n * @api public\n */\n\nis.instance = is['instanceof'] = function (value, constructor) {\n  return value instanceof constructor;\n};\n\n/**\n * is.null\n * Test if `value` is null.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is null, false otherwise\n * @api public\n */\n\nis['null'] = function (value) {\n  return value === null;\n};\n\n/**\n * is.undefined\n * Test if `value` is undefined.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is undefined, false otherwise\n * @api public\n */\n\nis.undefined = function (value) {\n  return value === undefined;\n};\n\n/**\n * Test arguments.\n */\n\n/**\n * is.arguments\n * Test if `value` is an arguments object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an arguments object, false otherwise\n * @api public\n */\n\nis.arguments = function (value) {\n  var isStandardArguments = '[object Arguments]' === toString.call(value);\n  var isOldArguments = !is.array(value) && is.arraylike(value) && is.object(value) && is.fn(value.callee);\n  return isStandardArguments || isOldArguments;\n};\n\n/**\n * Test array.\n */\n\n/**\n * is.array\n * Test if 'value' is an array.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an array, false otherwise\n * @api public\n */\n\nis.array = function (value) {\n  return '[object Array]' === toString.call(value);\n};\n\n/**\n * is.arguments.empty\n * Test if `value` is an empty arguments object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an empty arguments object, false otherwise\n * @api public\n */\nis.arguments.empty = function (value) {\n  return is.arguments(value) && value.length === 0;\n};\n\n/**\n * is.array.empty\n * Test if `value` is an empty array.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an empty array, false otherwise\n * @api public\n */\nis.array.empty = function (value) {\n  return is.array(value) && value.length === 0;\n};\n\n/**\n * is.arraylike\n * Test if `value` is an arraylike object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an arguments object, false otherwise\n * @api public\n */\n\nis.arraylike = function (value) {\n  return !!value && !is.boolean(value)\n    && owns.call(value, 'length')\n    && isFinite(value.length)\n    && is.number(value.length)\n    && value.length >= 0;\n};\n\n/**\n * Test boolean.\n */\n\n/**\n * is.boolean\n * Test if `value` is a boolean.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a boolean, false otherwise\n * @api public\n */\n\nis.boolean = function (value) {\n  return '[object Boolean]' === toString.call(value);\n};\n\n/**\n * is.false\n * Test if `value` is false.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is false, false otherwise\n * @api public\n */\n\nis['false'] = function (value) {\n  return is.boolean(value) && (value === false || value.valueOf() === false);\n};\n\n/**\n * is.true\n * Test if `value` is true.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is true, false otherwise\n * @api public\n */\n\nis['true'] = function (value) {\n  return is.boolean(value) && (value === true || value.valueOf() === true);\n};\n\n/**\n * Test date.\n */\n\n/**\n * is.date\n * Test if `value` is a date.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a date, false otherwise\n * @api public\n */\n\nis.date = function (value) {\n  return '[object Date]' === toString.call(value);\n};\n\n/**\n * Test element.\n */\n\n/**\n * is.element\n * Test if `value` is an html element.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an HTML Element, false otherwise\n * @api public\n */\n\nis.element = function (value) {\n  return value !== undefined\n    && typeof HTMLElement !== 'undefined'\n    && value instanceof HTMLElement\n    && value.nodeType === 1;\n};\n\n/**\n * Test error.\n */\n\n/**\n * is.error\n * Test if `value` is an error object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an error object, false otherwise\n * @api public\n */\n\nis.error = function (value) {\n  return '[object Error]' === toString.call(value);\n};\n\n/**\n * Test function.\n */\n\n/**\n * is.fn / is.function (deprecated)\n * Test if `value` is a function.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a function, false otherwise\n * @api public\n */\n\nis.fn = is['function'] = function (value) {\n  var isAlert = typeof window !== 'undefined' && value === window.alert;\n  return isAlert || '[object Function]' === toString.call(value);\n};\n\n/**\n * Test number.\n */\n\n/**\n * is.number\n * Test if `value` is a number.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a number, false otherwise\n * @api public\n */\n\nis.number = function (value) {\n  return '[object Number]' === toString.call(value);\n};\n\n/**\n * is.infinite\n * Test if `value` is positive or negative infinity.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is positive or negative Infinity, false otherwise\n * @api public\n */\nis.infinite = function (value) {\n  return value === Infinity || value === -Infinity;\n};\n\n/**\n * is.decimal\n * Test if `value` is a decimal number.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a decimal number, false otherwise\n * @api public\n */\n\nis.decimal = function (value) {\n  return is.number(value) && !isActualNaN(value) && !is.infinite(value) && value % 1 !== 0;\n};\n\n/**\n * is.divisibleBy\n * Test if `value` is divisible by `n`.\n *\n * @param {Number} value value to test\n * @param {Number} n dividend\n * @return {Boolean} true if `value` is divisible by `n`, false otherwise\n * @api public\n */\n\nis.divisibleBy = function (value, n) {\n  var isDividendInfinite = is.infinite(value);\n  var isDivisorInfinite = is.infinite(n);\n  var isNonZeroNumber = is.number(value) && !isActualNaN(value) && is.number(n) && !isActualNaN(n) && n !== 0;\n  return isDividendInfinite || isDivisorInfinite || (isNonZeroNumber && value % n === 0);\n};\n\n/**\n * is.int\n * Test if `value` is an integer.\n *\n * @param value to test\n * @return {Boolean} true if `value` is an integer, false otherwise\n * @api public\n */\n\nis.int = function (value) {\n  return is.number(value) && !isActualNaN(value) && value % 1 === 0;\n};\n\n/**\n * is.maximum\n * Test if `value` is greater than 'others' values.\n *\n * @param {Number} value value to test\n * @param {Array} others values to compare with\n * @return {Boolean} true if `value` is greater than `others` values\n * @api public\n */\n\nis.maximum = function (value, others) {\n  if (isActualNaN(value)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.arraylike(others)) {\n    throw new TypeError('second argument must be array-like');\n  }\n  var len = others.length;\n\n  while (--len >= 0) {\n    if (value < others[len]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * is.minimum\n * Test if `value` is less than `others` values.\n *\n * @param {Number} value value to test\n * @param {Array} others values to compare with\n * @return {Boolean} true if `value` is less than `others` values\n * @api public\n */\n\nis.minimum = function (value, others) {\n  if (isActualNaN(value)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.arraylike(others)) {\n    throw new TypeError('second argument must be array-like');\n  }\n  var len = others.length;\n\n  while (--len >= 0) {\n    if (value > others[len]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * is.nan\n * Test if `value` is not a number.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is not a number, false otherwise\n * @api public\n */\n\nis.nan = function (value) {\n  return !is.number(value) || value !== value;\n};\n\n/**\n * is.even\n * Test if `value` is an even number.\n *\n * @param {Number} value value to test\n * @return {Boolean} true if `value` is an even number, false otherwise\n * @api public\n */\n\nis.even = function (value) {\n  return is.infinite(value) || (is.number(value) && value === value && value % 2 === 0);\n};\n\n/**\n * is.odd\n * Test if `value` is an odd number.\n *\n * @param {Number} value value to test\n * @return {Boolean} true if `value` is an odd number, false otherwise\n * @api public\n */\n\nis.odd = function (value) {\n  return is.infinite(value) || (is.number(value) && value === value && value % 2 !== 0);\n};\n\n/**\n * is.ge\n * Test if `value` is greater than or equal to `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean}\n * @api public\n */\n\nis.ge = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value >= other;\n};\n\n/**\n * is.gt\n * Test if `value` is greater than `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean}\n * @api public\n */\n\nis.gt = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value > other;\n};\n\n/**\n * is.le\n * Test if `value` is less than or equal to `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} if 'value' is less than or equal to 'other'\n * @api public\n */\n\nis.le = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value <= other;\n};\n\n/**\n * is.lt\n * Test if `value` is less than `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} if `value` is less than `other`\n * @api public\n */\n\nis.lt = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value < other;\n};\n\n/**\n * is.within\n * Test if `value` is within `start` and `finish`.\n *\n * @param {Number} value value to test\n * @param {Number} start lower bound\n * @param {Number} finish upper bound\n * @return {Boolean} true if 'value' is is within 'start' and 'finish'\n * @api public\n */\nis.within = function (value, start, finish) {\n  if (isActualNaN(value) || isActualNaN(start) || isActualNaN(finish)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.number(value) || !is.number(start) || !is.number(finish)) {\n    throw new TypeError('all arguments must be numbers');\n  }\n  var isAnyInfinite = is.infinite(value) || is.infinite(start) || is.infinite(finish);\n  return isAnyInfinite || (value >= start && value <= finish);\n};\n\n/**\n * Test object.\n */\n\n/**\n * is.object\n * Test if `value` is an object.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is an object, false otherwise\n * @api public\n */\n\nis.object = function (value) {\n  return value && '[object Object]' === toString.call(value);\n};\n\n/**\n * is.hash\n * Test if `value` is a hash - a plain object literal.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a hash, false otherwise\n * @api public\n */\n\nis.hash = function (value) {\n  return is.object(value) && value.constructor === Object && !value.nodeType && !value.setInterval;\n};\n\n/**\n * Test regexp.\n */\n\n/**\n * is.regexp\n * Test if `value` is a regular expression.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if `value` is a regexp, false otherwise\n * @api public\n */\n\nis.regexp = function (value) {\n  return '[object RegExp]' === toString.call(value);\n};\n\n/**\n * Test string.\n */\n\n/**\n * is.string\n * Test if `value` is a string.\n *\n * @param {Mixed} value value to test\n * @return {Boolean} true if 'value' is a string, false otherwise\n * @api public\n */\n\nis.string = function (value) {\n  return '[object String]' === toString.call(value);\n};\n\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var Writable = require('readable-stream/writable');\nvar Readable = require('readable-stream/readable');\nvar peek = require('level-peek');\nvar util = require('util');\nvar once = require('once');\n\nvar EMPTY = new Buffer(0);\nvar ENCODER = {\n\tencode: function(data) {\n\t\treturn typeof data === 'string' ? data = new Buffer(data) : data;\n\t},\n\tdecode: function(data) {\n\t\treturn Buffer.isBuffer(data) ? data : new Buffer(data);\n\t},\n\tbuffer: true,\n\ttype: 'raw'\n};\n\nvar noop = function() {};\n\nvar pad = function(n) {\n\tn = n.toString(16);\n\treturn '00000000'.slice(0, -n.length)+n;\n};\n\nvar expand = function(buf, len) {\n\tvar tmp = new Buffer(len);\n\tbuf.copy(tmp);\n\treturn tmp;\n};\n\nmodule.exports = function(db, opts) {\n\tif (!opts) opts = {};\n\n\tvar blobs = {};\n\n\tvar blockSize = opts.blockSize || 65536;\n\tvar maxBatch = opts.batch || 100;\n\tvar blank = new Buffer(blockSize);\n\n\tdb.put('\\x00', 'ignore', noop); // memdown#12 workaround\n\n\tvar reservations = {};\n\tvar mutateBlock = function(key, offset, block, append, cb) {\n\t\tvar release = function() {\n\t\t\tif (!--reservations[key].locks) delete reservations[key];\n\t\t};\n\n\t\tvar onreservation = function(r) {\n\t\t\tr.locks++;\n\n\t\t\tif (!r.block && !offset) {\n\t\t\t\tr.block = block;\n\t\t\t\tcb(null, r.block, release);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!r.block) r.block = new Buffer(blockSize);\n\t\t\tif (r.block.length < offset + block.length) r.block = expand(r.block, offset + block.length);\n\n\t\t\tblock.copy(r.block, offset);\n\n\t\t\tif (!append && offset + block.length < r.block.length) r.block = r.block.slice(0, offset+block.length);\n\t\t\tcb(null, r.block, release);\n\t\t};\n\n\t\tif (reservations[key]) return onreservation(reservations[key]);\n\n\t\tdb.get(key, {valueEncoding:ENCODER}, function(err, block) {\n\t\t\tif (err && !err.notFound) return cb(err);\n\t\t\tif (!reservations[key]) reservations[key] = {locks:0, block:block};\n\t\t\tonreservation(reservations[key]);\n\t\t});\n\t};\n\n\tvar WriteStream = function(name, opts) {\n\t\tif (!(this instanceof WriteStream)) return new WriteStream(name, opts);\n\t\tif (!opts) opts = {};\n\n\t\tthis.name = name;\n\t\tthis.blocks = [];\n\t\tthis.batch = [];\n\t\tthis.bytesWritten = 0;\n\t\tthis.truncate = !opts.append;\n\t\tthis.append = opts.append;\n\n\t\tthis._shouldInitAppend = this.append && opts.start === undefined;\n\t\tthis._destroyed = false;\n\t\tthis._init(opts.start || 0);\n\n\t\tWritable.call(this);\n\t};\n\n\tutil.inherits(WriteStream, Writable);\n\n\tWriteStream.prototype._init = function(start) {\n\t\tthis.blockIndex = (start / blockSize) | 0;\n\t\tthis.blockOffset = start - this.blockIndex * blockSize;\n\t\tthis.blockLength = this.blockOffset;\n\t};\n\n\tWriteStream.prototype._flush = function(cb) {\n\t\tif (!this.batch.length) return cb();\n\n\t\tvar key = this.batch[this.batch.length-1].key;\n\t\tvar batch = this.batch;\n\t\tthis.batch = [];\n\n\t\tif (!this.truncate) return db.batch(batch, cb);\n\t\tthis.truncate = false;\n\t\tthis._truncate(batch, key, cb);\n\t};\n\n\tWriteStream.prototype._truncate = function(batch, key, cb) {\n\t\tcb = once(cb);\n\n\t\tvar dels = [];\n\t\tvar keys = db.createKeyStream({\n\t\t\tstart: key,\n\t\t\tend: this.name+'\\xff\\xff'\n\t\t});\n\n\t\tkeys.on('error', cb);\n\n\t\tkeys.on('data', function(key) {\n\t\t\tdels.push({type:'del', key:key});\n\t\t});\n\n\t\tkeys.on('end', function() {\n\t\t\tdels.push.apply(dels, batch);\n\t\t\tdb.batch(dels, cb);\n\t\t});\n\t};\n\n\tWriteStream.prototype._writeBlock = function(cb) {\n\t\tvar block = this.blocks.length === 1 ? this.blocks[0] : Buffer.concat(this.blocks, this.blockLength - this.blockOffset);\n\t\tvar index = this.blockIndex;\n\t\tvar offset = this.blockOffset;\n\t\tvar self = this;\n\n\t\tthis.blockOffset = 0;\n\t\tthis.blockLength = 0;\n\t\tthis.blockIndex++;\n\t\tthis.blocks = [];\n\n\t\tvar key = this.name+'\\xff'+pad(index);\n\n\t\tvar append = function(block, force, cb) {\n\t\t\tif (block.length) {\n\t\t\t\tself.batch.push({\n\t\t\t\t\ttype: 'put',\n\t\t\t\t\tkey: key,\n\t\t\t\t\tvalue: block,\n\t\t\t\t\tvalueEncoding: ENCODER\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!force && self.batch.length < maxBatch) return cb();\n\t\t\treturn self._flush(cb);\n\t\t};\n\n\t\tif (!offset && block.length === blockSize) return append(block, false, cb);\n\t\tif (!offset && !this.append) return append(block, false, cb);\n\n\t\t// partial write\n\t\tmutateBlock(key, offset, block, this.append, function(err, block, release) {\n\t\t\tif (err) return cb(err);\n\t\t\tappend(block, true, function(err) {\n\t\t\t\trelease();\n\t\t\t\tcb(err);\n\t\t\t});\n\t\t});\n\t};\n\n\tWriteStream.prototype._initAppend = function(data, enc, cb) {\n\t\tvar self = this;\n\t\tthis._shouldInitAppend = false;\n\t\tblobs.size(this.name, function(err, size) {\n\t\t\tif (err) return cb(err);\n\t\t\tself._init(size);\n\t\t\tself._write(data, enc, cb);\n\t\t});\n\t};\n\n\tWriteStream.prototype._write = function(data, enc, cb) {\n\t\tif (!data.length || this._destroyed) return cb();\n\t\tif (this._shouldInitAppend) return this._initAppend(data, enc, cb);\n\n\t\tvar self = this;\n\t\tvar overflow;\n\t\tvar free = blockSize - this.blockLength;\n\n\t\tvar done = function(err) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (overflow) return self._write(overflow, enc, cb);\n\t\t\tcb();\n\t\t};\n\n\t\tif (data.length > free) {\n\t\t\toverflow = data.slice(free);\n\t\t\tdata = data.slice(0, free);\n\t\t}\n\n\t\tthis.bytesWritten += data.length;\n\t\tthis.blockLength += data.length;\n\t\tthis.blocks.push(data);\n\n\t\tif (data.length < free) return done();\n\t\tthis._writeBlock(done);\n\t};\n\n\tWriteStream.prototype.destroy = function() {\n\t\tif (this._destroyed) return;\n\t\tthis._destroyed = true;\n\t\tprocess.nextTick(this.emit.bind(this, 'close'));\n\t};\n\n\tWriteStream.prototype.end = function(data) {\n\t\tvar self = this;\n\t\tvar args = arguments;\n\n\t\tif (data && typeof data !== 'function') {\n\t\t\tthis.write(data);\n\t\t\tdata = EMPTY;\n\t\t}\n\n\t\tthis.write(EMPTY, function() {\n\t\t\tself._writeBlock(function(err) {\n\t\t\t\tif (err) return self.emit('error', err);\n\t\t\t\tself._flush(function(err) {\n\t\t\t\t\tif (err) return self.emit('error', err);\n\t\t\t\t\tWritable.prototype.end.apply(self, args);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tvar ReadStream = function(name, opts) {\n\t\tif (!opts) opts = {};\n\n\t\tvar self = this;\n\n\t\tvar start = opts.start || 0;\n\t\tvar blockIndex = (start / blockSize) | 0;\n\t\tvar blockOffset = start - blockIndex * blockSize;\n\t\tvar key = name+'\\xff'+pad(blockIndex);\n\n\t\tthis.name = name;\n\t\tthis._missing = (typeof opts.end === 'number' ? opts.end : Infinity) - start + 1;\n\t\tthis._paused = false;\n\t\tthis._destroyed = false;\n\n\t\tthis._reader = db.createReadStream({\n\t\t\tstart: key,\n\t\t\tend: name+'\\xff\\xff',\n\t\t\tvalueEncoding: ENCODER\n\t\t});\n\n\t\tvar onblock = function(val) {\n\t\t\tkey = name+'\\xff'+pad(++blockIndex);\n\n\t\t\tif (!self._missing) return false;\n\n\t\t\tif (blockOffset) {\n\t\t\t\tval = val.slice(blockOffset);\n\t\t\t\tblockOffset = 0;\n\t\t\t\tif (!val.length) return true;\n\t\t\t}\n\n\t\t\tif (val.length > self._missing) val = val.slice(0, self._missing);\n\n\t\t\tself._missing -= val.length;\n\t\t\tself._pause(!self.push(val));\n\n\t\t\treturn !!self._missing;\n\t\t};\n\n\t\tthis._reader.on('data', function(data) {\n\t\t\twhile (data.key > key) {\n\t\t\t\tif (!onblock(blank)) return;\n\t\t\t}\n\n\t\t\tonblock(data.value);\n\t\t});\n\n\t\tthis._reader.on('error', function(err) {\n\t\t\tself.emit('error', err);\n\t\t});\n\n\t\tthis._reader.on('end', function() {\n\t\t\tself.push(null);\n\t\t});\n\n\t\tReadable.call(this);\n\t};\n\n\tutil.inherits(ReadStream, Readable);\n\n\tReadStream.prototype.destroy = function() {\n\t\tif (this._destroyed) return;\n\t\tthis._destroyed = true;\n\t\tthis._reader.destroy();\n\t\tprocess.nextTick(this.emit.bind(this, 'close'));\n\t};\n\n\tReadStream.prototype._pause = function(paused) {\n\t\tif (this._paused === paused) return;\n\t\tthis._paused = paused;\n\t\tif (this._paused) this._reader.pause();\n\t\telse this._reader.resume();\n\t};\n\n\tReadStream.prototype._read = function() {\n\t\tthis._pause(false);\n\t};\n\n\tblobs.remove = function(name, cb) {\n\t\tcb = once(cb || noop);\n\n\t\tvar batch = [];\n\t\tvar keys = db.createKeyStream({\n\t\t\tstart: name+'\\xff',\n\t\t\tend: name+'\\xff\\xff'\n\t\t});\n\n\t\tkeys.on('error', cb);\n\n\t\tkeys.on('data', function(key) {\n\t\t\tbatch.push({type:'del', key:key});\n\t\t});\n\n\t\tkeys.on('end', function() {\n\t\t\tdb.batch(batch, cb);\n\t\t});\n\t};\n\n\tblobs.size = function(name, cb) {\n\t\tpeek.last(db, {\n\t\t\tstart: name+'\\xff',\n\t\t\tend: name+'\\xff\\xff',\n\t\t\tvalueEncoding:ENCODER\n\t\t}, function(err, latest, val) {\n\t\t\tif (err && err.message === 'range not found') return cb(null, 0);\n\t\t\tif (err) return cb(err);\n\t\t\tif (latest.slice(0, name.length+1) !== name+'\\xff') return cb(null, 0);\n\n\t\t\tcb(null, parseInt(latest.toString().slice(name.length+1), 16) * blockSize + val.length);\n\t\t});\n\t};\n\n\tblobs.write = function(name, data, opts, cb) {\n\t\tif (typeof opts === 'function') return blobs.write(name, data, null, opts);\n\t\tif (!opts) opts = {};\n\t\tif (!cb) cb = noop;\n\n\t\tvar ws = blobs.createWriteStream(name, opts);\n\n\t\tws.on('error', cb);\n\t\tws.on('finish', function() {\n\t\t\tcb();\n\t\t});\n\n\t\tws.write(data);\n\t\tws.end();\n\t}\n\n\tblobs.read = function(name, opts, cb) {\n\t\tif (typeof opts === 'function') return blobs.read(name, null, opts);\n\t\tif (!opts) opts = {};\n\n\t\tvar rs = blobs.createReadStream(name, opts);\n\t\tvar list = [];\n\n\t\trs.on('error', cb);\n\t\trs.on('data', function(data) {\n\t\t\tlist.push(data);\n\t\t});\n\t\trs.on('end', function() {\n\t\t\tcb(null, list.length === 1 ? list[0] : Buffer.concat(list));\n\t\t});\n\t};\n\n\tblobs.createReadStream = function(name, opts) {\n\t\treturn new ReadStream(name, opts);\n\t};\n\n\tblobs.createWriteStream = function(name, opts) {\n\t\treturn new WriteStream(name, opts);\n\t};\n\n\treturn blobs;\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\n\n/*<replacement>*/\nvar debug = require('util');\nif (debug && debug.debuglog) {\n  debug = debug.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (util.isString(chunk) && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (util.isNullOrUndefined(chunk)) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      if (!addToFront)\n        state.reading = false;\n\n      // if we want the data now, just emit it.\n      if (state.flowing && state.length === 0 && !state.sync) {\n        stream.emit('data', chunk);\n        stream.read(0);\n      } else {\n        // update the buffer info.\n        state.length += state.objectMode ? 1 : chunk.length;\n        if (addToFront)\n          state.buffer.unshift(chunk);\n        else\n          state.buffer.push(chunk);\n\n        if (state.needReadable)\n          emitReadable(stream);\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (isNaN(n) || util.isNull(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  debug('read', n);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (!util.isNumber(n) || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended)\n      endReadable(this);\n    else\n      emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0)\n      endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  }\n\n  if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read pushed data synchronously, then `reading` will be false,\n  // and we need to re-evaluate how much data we can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  var ret;\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (util.isNull(ret)) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we tried to read() past the EOF, then emit end on the next tick.\n  if (nOrig !== n && state.ended && state.length === 0)\n    endReadable(this);\n\n  if (!util.isNull(ret))\n    this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync)\n      process.nextTick(function() {\n        emitReadable_(stream);\n      });\n    else\n      emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain &&\n        (!dest._writableState || dest._writableState.needDrain))\n      ondrain();\n  }\n\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    if (false === ret) {\n      debug('false write response, pause',\n            src._readableState.awaitDrain);\n      src._readableState.awaitDrain++;\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain)\n      state.awaitDrain--;\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  // If listening to data, and it has not explicitly been paused,\n  // then call resume to start the flow of data on the next tick.\n  if (ev === 'data' && false !== this._readableState.flowing) {\n    this.resume();\n  }\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        var self = this;\n        process.nextTick(function() {\n          debug('readable nexttick read 0');\n          self.read(0);\n        });\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    if (!state.reading) {\n      debug('resume read 0');\n      this.read(0);\n    }\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(function() {\n      resume_(stream, state);\n    });\n  }\n}\n\nfunction resume_(stream, state) {\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading)\n    stream.read(0);\n}\n\nReadable.prototype.pause = function() {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  if (state.flowing) {\n    do {\n      var chunk = stream.read();\n    } while (null !== chunk && state.flowing);\n  }\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    debug('wrapped data');\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n    if (!chunk || !state.objectMode && !chunk.length)\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (!util.isNullOrUndefined(data))\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('prefinish', function() {\n    if (util.isFunction(this._flush))\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (!util.isFunction(cb))\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function() {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function() {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing &&\n        !state.corked &&\n        !state.finished &&\n        !state.bufferProcessing &&\n        state.buffer.length)\n      clearBuffer(this, state);\n  }\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      util.isString(chunk)) {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing || state.corked)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev)\n    stream._writev(chunk, state.onwrite);\n  else\n    stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      state.pendingcb--;\n      cb(er);\n    });\n  else {\n    state.pendingcb--;\n    cb(er);\n  }\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished &&\n        !state.corked &&\n        !state.bufferProcessing &&\n        state.buffer.length) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  if (stream._writev && state.buffer.length > 1) {\n    // Fast case, write everything using _writev()\n    var cbs = [];\n    for (var c = 0; c < state.buffer.length; c++)\n      cbs.push(state.buffer[c].callback);\n\n    // count the one we are adding, as well.\n    // TODO(isaacs) clean this up\n    state.pendingcb++;\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\n      for (var i = 0; i < cbs.length; i++) {\n        state.pendingcb--;\n        cbs[i](err);\n      }\n    });\n\n    // Clear buffer\n    state.buffer = [];\n  } else {\n    // Slow case, write chunks one-by-one\n    for (var c = 0; c < state.buffer.length; c++) {\n      var entry = state.buffer[c];\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        c++;\n        break;\n      }\n    }\n\n    if (c < state.buffer.length)\n      state.buffer = state.buffer.slice(c);\n    else\n      state.buffer.length = 0;\n  }\n\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (util.isFunction(chunk)) {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (!util.isNullOrUndefined(chunk))\n    this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else\n      prefinish(stream, state);\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = require('stream');\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nif (!process.browser && process.env.READABLE_STREAM === 'disable') {\n  module.exports = require('stream');\n}\n","var createError = require('errno').create\nvar LevelUPError = createError('LevelUPError')\nvar NotFoundError = createError('NotFoundError', LevelUPError)\n\nNotFoundError.prototype.notFound = true\nNotFoundError.prototype.status = 404\n\nmodule.exports = {\n  LevelUPError: LevelUPError,\n  InitializationError: createError('InitializationError', LevelUPError),\n  OpenError: createError('OpenError', LevelUPError),\n  ReadError: createError('ReadError', LevelUPError),\n  WriteError: createError('WriteError', LevelUPError),\n  NotFoundError: NotFoundError,\n  EncodingError: createError('EncodingError', LevelUPError)\n}\n","var errno = require('errno');\n\nObject.keys(errno.code).forEach(function(code) {\n\tvar e = errno.code[code];\n\n\texports[code] = function(path) {\n\t\tvar err = new Error(code+', '+e.description+(path ? ' \\''+path+'\\'' : ''));\n\t\terr.errno = e.errno;\n\t\terr.code = code;\n\t\terr.path = path;\n\t\treturn err;\n\t};\n});","var fwd = require('fwd-stream');\nvar sublevel = require('level-sublevel');\nvar blobs = require('level-blobs');\nvar peek = require('level-peek');\nvar once = require('once');\nvar octal = require('octal')\nvar errno = require('./errno');\nvar paths = require('./paths');\nvar watchers = require('./watchers');\n\nvar nextTick = function(cb, err, val) {\n\tprocess.nextTick(function() {\n\t\tcb(err, val);\n\t});\n};\n\nvar noop = function() {};\n\nmodule.exports = function(db, opts) {\n\tvar fs = {};\n\n\tdb = sublevel(db);\n\n\tvar bl = blobs(db.sublevel('blobs'), opts);\n\tvar ps = paths(db.sublevel('stats'));\n\tvar links = db.sublevel('links');\n\n\tvar listeners = watchers();\n\tvar fds = [];\n\n\tvar now = Date.now();\n\tvar inc = function() {\n\t\treturn ++now;\n\t};\n\n\tfs.mkdir = function(key, mode, cb) {\n\t\tif (typeof mode === 'function') return fs.mkdir(key, null, mode);\n\t\tif (!mode) mode = octal(777);\n\t\tif (!cb) cb = noop;\n\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\tif (stat) return cb(errno.EEXIST(key));\n\n\t\t\tps.put(key, {\n\t\t\t\ttype:'directory',\n\t\t\t\tmode: mode,\n\t\t\t\tsize: 4096\n\t\t\t}, listeners.cb(key, cb));\n\t\t});\n\t};\n\n\tfs.rmdir = function(key, cb) {\n\t\tif (!cb) cb = noop;\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tfs.readdir(key, function(err, files) {\n\t\t\t\tif (err) return cb(err);\n\t\t\t\tif (files.length) return cb(errno.ENOTEMPTY(key));\n\t\t\t\tps.del(key, listeners.cb(key, cb));\n\t\t\t});\n\t\t});\n\n\t};\n\n\tfs.readdir = function(key, cb) {\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (!stat) return cb(errno.ENOENT(key));\n\t\t\tif (!stat.isDirectory()) return cb(errno.ENOTDIR(key));\n\t\t\tps.list(key, cb);\n\t\t});\n\t};\n\n\tvar stat = function(key, lookup, cb) {\n\t\tlookup(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (!stat.isFile()) return cb(null, stat);\n\t\t\tvar blob = stat && stat.blob || key;\n\t\t\tbl.size(blob, function(err, size) {\n\t\t\t\tif (err) return cb(err);\n\t\t\t\tstat.size = size;\n\t\t\t\tcb(null, stat);\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.stat = function(key, cb) {\n\t\tstat(key, ps.follow, cb);\n\t};\n\n\tfs.lstat = function(key, cb) {\n\t\tstat(key, ps.get, cb);\n\t};\n\n\tfs.exists = function(key, cb) {\n\t\tps.follow(key, function(err) {\n\t\t\tcb(!err);\n\t\t});\n\t};\n\n\tvar chmod = function(key, lookup, mode, cb) {\n\t\tif (!cb) cb = noop;\n\t\tlookup(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tps.update(key, {mode:mode}, listeners.cb(key, cb));\n\t\t});\n\t};\n\n\tfs.chmod = function(key, mode, cb) {\n\t\tchmod(key, ps.follow, mode, cb);\n\t};\n\n\tfs.lchmod = function(key, mode, cb) {\n\t\tchmod(key, ps.get, mode, cb);\n\t};\n\n\tvar chown = function(key, lookup, uid, gid, cb) {\n\t\tif (!cb) cb = noop;\n\t\tlookup(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tps.update(key, {uid:uid, gid:gid}, listeners.cb(key, cb));\n\t\t});\n\t};\n\n\tfs.chown = function(key, uid, gid, cb) {\n\t\tchown(key, ps.follow, uid, gid, cb);\n\t};\n\n\tfs.lchown = function(key, uid, gid, cb) {\n\t\tchown(key, ps.get, uid, gid, cb);\n\t};\n\n\tfs.utimes = function(key, atime, mtime, cb) {\n\t\tif (!cb) cb = noop;\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tvar upd = {};\n\t\t\tif (atime) upd.atime = atime;\n\t\t\tif (mtime) upd.mtime = mtime;\n\t\t\tps.update(key, upd, listeners.cb(key, cb));\n\t\t});\n\t};\n\n\tfs.rename = function(from, to, cb) {\n\t\tif (!cb) cb = noop;\n\n\t\tps.follow(from, function(err, statFrom, from) {\n\t\t\tif (err) return cb(err);\n\n\t\t\tvar rename = function() {\n\t\t\t\tcb = listeners.cb(to, listeners.cb(from, cb));\n\t\t\t\tps.put(to, statFrom, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\tps.del(from, cb);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tps.follow(to, function(err, statTo, to) {\n\t\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\t\tif (!statTo) return rename();\n\t\t\t\tif (statFrom.isDirectory() !== statTo.isDirectory()) return cb(errno.EISDIR(from));\n\n\t\t\t\tif (statTo.isDirectory()) {\n\t\t\t\t\tfs.readdir(to, function(err, list) {\n\t\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\t\tif (list.length) return cb(errno.ENOTEMPTY(from));\n\t\t\t\t\t\trename();\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trename();\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.realpath = function(key, cache, cb) {\n\t\tif (typeof cache === 'function') return fs.realpath(key, null, cache);\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tcb(null, key);\n\t\t});\n\t};\n\n\tfs.writeFile = function(key, data, opts, cb) {\n\t\tif (typeof opts === 'function') return fs.writeFile(key, data, null, opts);\n\t\tif (typeof opts === 'string') opts = {encoding:opts};\n\t\tif (!opts) opts = {};\n\t\tif (!cb) cb = noop;\n\n\t\tif (!Buffer.isBuffer(data)) data = new Buffer(data, opts.encoding || 'utf-8');\n\n\t\tvar flags = opts.flags || 'w';\n\t\topts.append = flags[0] !== 'w';\n\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\tif (stat && stat.isDirectory()) return cb(errno.EISDIR(key));\n\t\t\tif (stat && flags[1] === 'x') return cb(errno.EEXIST(key));\n\n\t\t\tvar blob = stat && stat.blob || key;\n\t\t\tps.writable(key, function(err) {\n\t\t\t\tif (err) return cb(err);\n\n\t\t\t\tbl.write(blob, data, opts, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\tps.put(key, {\n\t\t\t\t\t\tctime: stat && stat.ctime,\n\t\t\t\t\t\tmtime: new Date(),\n\t\t\t\t\t\tmode: opts.mode || octal(666),\n\t\t\t\t\t\ttype:'file'\n\t\t\t\t\t}, listeners.cb(key, cb));\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.appendFile = function(key, data, opts, cb) {\n\t\tif (typeof opts === 'function') return fs.appendFile(key, data, null, opts);\n\t\tif (typeof opts === 'string') opts = {encoding:opts};\n\t\tif (!opts) opts = {};\n\n\t\topts.flags = 'a';\n\t\tfs.writeFile(key, data, opts, cb);\n\t};\n\n\tfs.unlink = function(key, cb) {\n\t\tif (!cb) cb = noop;\n\n\t\tps.get(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (stat.isDirectory()) return cb(errno.EISDIR(key));\n\n\t\t\tvar clean = function(target) {\n\t\t\t\tpeek(links, {start:target+'\\xff', end:target+'\\xff\\xff'}, function(err) {\n\t\t\t\t\tif (err) return bl.remove(target, cb); // no more links\n\t\t\t\t\tcb();\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar onlink = function() {\n\t\t\t\tvar target = stat.link.slice(0, stat.link.indexOf('\\xff'));\n\t\t\t\tlinks.del(stat.link, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\tclean(target);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tps.del(key, listeners.cb(key, function(err) {\n\t\t\t\tif (err) return cb(err);\n\t\t\t\tif (stat.link) return onlink();\n\t\t\t\tlinks.del(key+'\\xff', function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\tclean(key);\n\t\t\t\t});\n\t\t\t}));\n\t\t});\n\t};\n\n\tfs.readFile = function(key, opts, cb) {\n\t\tif (typeof opts === 'function') return fs.readFile(key, null, opts);\n\t\tif (typeof opts === 'string') opts = {encoding:opts};\n\t\tif (!opts) opts = {};\n\n\t\tvar encoding = opts.encoding || 'binary';\n\t\tvar flag = opts.flag || 'r';\n\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (stat.isDirectory()) return cb(errno.EISDIR(key));\n\n\t\t\tvar blob = stat && stat.blob || key;\n\t\t\tbl.read(blob, function(err, data) {\n\t\t\t\tif (err) return cb(err);\n\t\t\t\tcb(null, opts.encoding ? data.toString(opts.encoding) : data);\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.createReadStream = function(key, opts) {\n\t\tif (!opts) opts = {};\n\n\t\tvar closed = false;\n\t\tvar rs = fwd.readable(function(cb) {\n\t\t\tps.follow(key, function(err, stat, key) {\n\t\t\t\tif (err) return cb(err);\n\t\t\t\tif (stat.isDirectory()) return cb(errno.EISDIR(key));\n\n\t\t\t\tvar blob = stat && stat.blob || key;\n\t\t\t\tvar r = bl.createReadStream(blob, opts);\n\n\t\t\t\trs.emit('open');\n\t\t\t\tr.on('end', function() {\n\t\t\t\t\tprocess.nextTick(function() {\n\t\t\t\t\t\tif (!closed) rs.emit('close');\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tcb(null, r);\n\t\t\t});\n\t\t});\n\n\t\trs.on('close', function() {\n\t\t\tclosed = true;\n\t\t});\n\n\t\treturn rs;\n\t};\n\n\tfs.createWriteStream = function(key, opts) {\n\t\tif (!opts) opts = {};\n\n\t\tvar flags = opts.flags || 'w';\n\t\tvar closed = false;\n\t\tvar mode = opts.mode || octal(666);\n\n\t\topts.append = flags[0] === 'a';\n\n\t\tvar ws = fwd.writable(function(cb) {\n\t\t\tps.follow(key, function(err, stat, key) {\n\t\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\t\tif (stat && stat.isDirectory()) return cb(errno.EISDIR(key));\n\t\t\t\tif (stat && flags[1] === 'x') return cb(errno.EEXIST(key));\n\n\t\t\t\tvar blob = stat && stat.blob || key;\n\t\t\t\tps.writable(blob, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\tvar ctime = stat ? stat.ctime : new Date();\n\t\t\t\t\tvar s = {\n\t\t\t\t\t\tctime: ctime,\n\t\t\t\t\t\tmtime: new Date(),\n\t\t\t\t\t\tmode: mode,\n\t\t\t\t\t\ttype:'file'\n\t\t\t\t\t};\n\n\t\t\t\t\tps.put(key, s, function(err) {\n\t\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\t\tvar w = bl.createWriteStream(blob, opts);\n\n\t\t\t\t\t\tws.emit('open');\n\t\t\t\t\t\tw.on('finish', function() {\n\t\t\t\t\t\t\ts.mtime = new Date();\n\t\t\t\t\t\t\tps.put(key, s, function() {\n\t\t\t\t\t\t\t\tlisteners.change(key);\n\t\t\t\t\t\t\t\tif (!closed) ws.emit('close');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tcb(null, w);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tws.on('close', function() {\n\t\t\tclosed = true;\n\t\t});\n\n\t\treturn ws;\n\t};\n\n\tfs.truncate = function(key, len, cb) {\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err) return cb(err);\n\n\t\t\tvar blob = stat && stat.blob || key;\n\t\t\tbl.size(blob, function(err, size) {\n\t\t\t\tif (err) return cb(err);\n\n\t\t\t\tps.writable(key, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\tcb = once(listeners.cb(key, cb));\n\t\t\t\t\tif (!len) return bl.remove(blob, cb);\n\n\t\t\t\t\tvar ws = bl.createWriteStream(blob, {\n\t\t\t\t\t\tstart:size < len ? len-1 : len\n\t\t\t\t\t});\n\n\t\t\t\t\tws.on('error', cb);\n\t\t\t\t\tws.on('finish', cb);\n\n\t\t\t\t\tif (size < len) ws.write(new Buffer([0]));\n\t\t\t\t\tws.end();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.watchFile = function(key, opts, cb) {\n\t\tif (typeof opts === 'function') return fs.watchFile(key, null, opts);\n\t\treturn listeners.watch(ps.normalize(key), cb);\n\t};\n\n\tfs.unwatchFile = function(key, cb) {\n\t\tlisteners.unwatch(ps.normalize(key), cb);\n\t};\n\n\tfs.watch = function(key, opts, cb) {\n\t\tif (typeof opts === 'function') return fs.watch(key, null, opts)\n\t\treturn listeners.watcher(ps.normalize(key), cb);\n\t};\n\n\tfs.notify = function(cb) {\n\t\tlisteners.on('change', cb)\n\t}\n\n\tfs.open = function(key, flags, mode, cb) {\n\t\tif (typeof mode === 'function') return fs.open(key, flags, null, mode);\n\n\t\tps.follow(key, function(err, stat, key) {\n\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\n\t\t\tvar fl = flags[0];\n\t\t\tvar plus = flags[1] === '+' || flags[2] === '+';\n\t\t\tvar blob = stat && stat.blob || key;\n\n\t\t\tvar f = {\n\t\t\t\tkey: key,\n\t\t\t\tblob: blob,\n\t\t\t\tmode: mode || octal(666),\n\t\t\t\treadable: fl === 'r' || ((fl === 'w' || fl === 'a') && plus),\n\t\t\t\twritable: fl === 'w' || fl === 'a' || (fl === 'r' && plus),\n\t\t\t\tappend: fl === 'a'\n\t\t\t};\n\n\t\t\tif (fl === 'r' && err) return cb(err);\n\t\t\tif (flags[1] === 'x' && stat) return cb(errno.EEXIST(key));\n\t\t\tif (stat && stat.isDirectory()) return cb(errno.EISDIR(key));\n\n\t\t\tbl.size(blob, function(err, size) {\n\t\t\t\tif (err) return cb(err);\n\n\t\t\t\tif (f.append) f.writePos = size;\n\n\t\t\t\tps.writable(key, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\tvar onready = function(err) {\n\t\t\t\t\t\tif (err) return cb(err);\n\n\t\t\t\t\t\tvar i = fds.indexOf(null);\n\t\t\t\t\t\tif (i === -1) i = 10+fds.push(fds.length+10)-1;\n\n\t\t\t\t\t\tf.fd = i;\n\t\t\t\t\t\tfds[i] = f;\n\t\t\t\t\t\tlisteners.change(key);\n\n\t\t\t\t\t\tcb(null, f.fd);\n\t\t\t\t\t};\n\n\t\t\t\t\tvar ontruncate = function(err) {\n\t\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\t\tif (stat) return onready();\n\t\t\t\t\t\tps.put(blob, {ctime:stat && stat.ctime, type:'file'}, onready);\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!f.append && f.writable) return bl.remove(blob, ontruncate);\n\t\t\t\t\tontruncate();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.close = function(fd, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfds[fd] = null;\n\t\tnextTick(listeners.cb(f.key, cb));\n\t};\n\n\tfs.write = function(fd, buf, off, len, pos, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f || !f.writable) return nextTick(cb, errno.EBADF());\n\n\t\tif (pos === null) pos = f.writePos || 0;\n\n\t\tvar slice = buf.slice(off, off+len);\n\t\tf.writePos = pos + slice.length;\n\n\t\tbl.write(f.blob, slice, {start:pos, append:true}, function(err) {\n\t\t\tif (err) return cb(err);\n\t\t\tcb(null, len, buf);\n\t\t});\n\t};\n\n\tfs.read = function(fd, buf, off, len, pos, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f || !f.readable) return nextTick(cb, errno.EBADF());\n\n\t\tif (pos === null) pos = fs.readPos || 0;\n\n\t\tbl.read(f.blob, {start:pos, end:pos+len-1}, function(err, read) {\n\t\t\tif (err) return cb(err);\n\t\t\tvar slice = read.slice(0, len);\n\t\t\tslice.copy(buf, off);\n\t\t\tfs.readPos = pos+slice.length;\n\t\t\tcb(null, slice.length, buf);\n\t\t});\n\t};\n\n\tfs.fsync = function(fd, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f || !f.writable) return nextTick(cb, errno.EBADF());\n\n\t\tnextTick(cb);\n\t};\n\n\tfs.ftruncate = function(fd, len, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfs.truncate(f.blob, len, cb);\n\t};\n\n\tfs.fchown = function(fd, uid, gid, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfs.chown(f.key, uid, gid, cb);\n\t};\n\n\tfs.fchmod = function(fd, mode, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfs.chmod(f.key, mode, cb);\n\t};\n\n\tfs.futimes = function(fd, atime, mtime, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!cb) cb = noop;\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfs.utimes(f.key, atime, mtime, cb);\n\t};\n\n\tfs.fstat = function(fd, cb) {\n\t\tvar f = fds[fd];\n\t\tif (!f) return nextTick(cb, errno.EBADF());\n\n\t\tfs.stat(f.key, cb);\n\t};\n\n\tfs.symlink = function(target, name, cb) {\n\t\tif (!cb) cb = noop;\n\t\tps.follow(target, function(err, stat, target) {\n\t\t\tif (err) return cb(err);\n\t\t\tps.get(name, function(err, stat) {\n\t\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\t\tif (stat) return cb(errno.EEXIST(name));\n\t\t\t\tps.put(name, {type:'symlink', target:target, mode:octal(777)}, cb);\n\t\t\t});\n\t\t});\n\t};\n\n\tfs.readlink = function(key, cb) {\n\t\tps.get(key, function(err, stat) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (!stat.target) return cb(errno.EINVAL(key));\n\t\t\tcb(null, stat.target);\n\t\t});\n\t};\n\n\tfs.link = function(target, name, cb) {\n\t\tif (!cb) cb = noop;\n\t\tps.follow(target, function(err, stat, target) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (!stat.isFile()) return cb(errno.EINVAL(target));\n\t\t\tps.get(name, function(err, st) {\n\t\t\t\tif (err && err.code !== 'ENOENT') return cb(err);\n\t\t\t\tif (st) return cb(errno.EEXIST(name));\n\t\t\t\tvar link = target+'\\xff'+inc();\n\t\t\t\tlinks.put(target+'\\xff', target, function(err) {\n\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\tlinks.put(link, target, function(err) {\n\t\t\t\t\t\tif (err) return cb(err);\n\t\t\t\t\t\tps.put(name, {type:'file', link:link, blob:target, mode:stat.mode}, cb);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\treturn fs;\n};\n","module.exports = hasKeys\n\nfunction hasKeys(source) {\n    return source !== null &&\n        (typeof source === \"object\" ||\n        typeof source === \"function\")\n}\n","var hasKeys = require(\"./has-keys\")\n\nmodule.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        if (!hasKeys(source)) {\n            continue\n        }\n\n        for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var path = require('path');\nvar once = require('once');\nvar concat = require('concat-stream');\nvar octal = require('octal')\nvar stat = require('./stat');\nvar xtend = require('xtend');\nvar errno = require('./errno');\n\nvar ROOT = stat({\n\ttype: 'directory',\n\tmode: octal(777),\n\tsize: 4096\n});\n\nvar normalize = function(key) {\n\tkey = key[0] === '/' ? key : '/' + key;\n\tkey = path.normalize(key);\n\tif (key === '/') return key;\n\treturn key[key.length-1] === '/' ? key.slice(0, -1) : key;\n};\n\nvar prefix = function(key) {\n\tvar depth = key.split('/').length.toString(36);\n\treturn '0000000000'.slice(depth.length)+depth+key;\n};\n\nmodule.exports = function(db) {\n\tvar that = {};\n\n\tthat.normalize = normalize;\n\n\tthat.get = function(key, cb) {\n\t\tkey = normalize(key);\n\t\tif (key === '/') return process.nextTick(cb.bind(null, null, ROOT, '/'));\n\t\tdb.get(prefix(key), {valueEncoding:'json'}, function(err, doc) {\n\t\t\tif (err && err.notFound) return cb(errno.ENOENT(key), null, key);\n\t\t\tif (err) return cb(err, null, key);\n\t\t\tcb(null, stat(doc), key);\n\t\t});\n\t};\n\n\tthat.writable = function(key, cb) {\n\t\tkey = normalize(key);\n\t\tif (key === '/') return process.nextTick(cb.bind(null, errno.EPERM(key)));\n\t\tthat.follow(path.dirname(key), function(err, parent) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (!parent.isDirectory()) return cb(errno.ENOTDIR(key));\n\t\t\tcb(null, key);\n\t\t});\n\t};\n\n\tthat.list = function(key, cb) {\n\t\tkey = normalize(key);\n\n\t\tvar start = prefix(key === '/' ? key : key + '/');\n\t\tvar keys = db.createKeyStream({start: start, end: start+'\\xff'});\n\n\t\tcb = once(cb);\n\n\t\tkeys.on('error', cb);\n\t\tkeys.pipe(concat({encoding:'object'}, function(files) {\n\t\t\tfiles = files.map(function(file) {\n\t\t\t\treturn file.split('/').pop();\n\t\t\t});\n\n\t\t\tcb(null, files);\n\t\t}));\n\t};\n\n\tvar resolve = function(dir, cb) {\n\t\tvar root = '/';\n\t\tvar parts = dir.split('/').slice(1);\n\n\t\tvar loop = function() {\n\t\t\tthat.get(path.join(root, parts.shift()), function(err, doc, key) {\n\t\t\t\tif (err) return cb(err, doc, dir);\n\t\t\t\troot = doc.target || key;\n\t\t\t\tif (!parts.length) return cb(null, doc, key);\n\t\t\t\tloop();\n\t\t\t});\n\t\t};\n\n\t\tloop();\n\t};\n\n\tthat.follow = function(key, cb) {\n\t\tresolve(normalize(key), function loop(err, doc, key) {\n\t\t\tif (err) return cb(err, null, key);\n\t\t\tif (doc.target) return that.get(doc.target, loop);\n\t\t\tcb(null, stat(doc), key);\n\t\t});\n\t};\n\n\tthat.update = function(key, opts, cb) {\n\t\tthat.get(key, function(err, doc, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tif (key === '/') return cb(errno.EPERM(key));\n\t\t\tthat.put(key, xtend(doc, opts), cb);\n\t\t});\n\t};\n\n\tthat.put = function(key, opts, cb) {\n\t\tthat.writable(key, function(err, key) {\n\t\t\tif (err) return cb(err);\n\t\t\tdb.put(prefix(key), stat(opts), {valueEncoding:'json'}, cb);\n\t\t});\n\t};\n\n\tthat.del = function(key, cb) {\n\t\tkey = normalize(key);\n\t\tif (key === '/') return process.nextTick(cb.bind(null, errno.EPERM(key)));\n\t\tdb.del(prefix(key), cb);\n\t};\n\n\treturn that;\n};\n","var toDate = function(date) {\n\tif (!date) return new Date();\n\tif (typeof date === 'string') return new Date(date);\n\treturn date;\n};\n\nvar Stat = function(opts) {\n\tthis.uid = opts.uid || 0;\n\tthis.gid = opts.gid || 0;\n\tthis.mode = opts.mode || 0;\n\tthis.size = opts.size || 0;\n\tthis.mtime = toDate(opts.mtime);\n\tthis.atime = toDate(opts.atime);\n\tthis.ctime = toDate(opts.ctime);\n\tthis.type = opts.type;\n\tthis.target = opts.target;\n\tthis.link = opts.link;\n\tthis.blob = opts.blob;\n};\n\nStat.prototype.isDirectory = function() {\n\treturn this.type === 'directory';\n};\n\nStat.prototype.isFile = function() {\n\treturn this.type === 'file';\n};\n\nStat.prototype.isBlockDevice = function() {\n\treturn false;\n};\n\nStat.prototype.isCharacterDevice = function() {\n\treturn false;\n};\n\nStat.prototype.isSymbolicLink = function() {\n\treturn this.type === 'symlink';\n};\n\nStat.prototype.isFIFO = function() {\n\treturn false;\n};\n\nStat.prototype.isSocket = function() {\n\treturn false;\n};\n\nmodule.exports = function(opts) {\n\treturn new Stat(opts);\n};","var events = require('events');\n\nmodule.exports = function() {\n\tvar listeners = {};\n\tvar that = new events.EventEmitter();\n\n\tthat.watch = function(key, cb) {\n\t\tif (!listeners[key]) {\n\t\t\tlisteners[key] = new events.EventEmitter();\n\t\t\tlisteners[key].setMaxListeners(0);\n\t\t}\n\n\t\tif (cb) listeners[key].on('change', cb);\n\t\treturn listeners[key];\n\t};\n\n\tthat.watcher = function(key, cb) {\n\t\tvar watcher = new events.EventEmitter();\n\t\tvar onchange = function() {\n\t\t\twatcher.emit('change', 'change', key);\n\t\t};\n\n\t\tthat.watch(key, onchange);\n\t\tif (cb) watcher.on('change', cb);\n\t\twatcher.close = function() {\n\t\t\tthat.unwatch(key, onchange);\n\t\t};\n\n\t\treturn watcher;\n\t};\n\n\tthat.unwatch = function(key, cb) {\n\t\tif (!listeners[key]) return;\n\t\tif (cb) listeners[key].removeListener('change', cb);\n\t\telse listeners[key].removeAllListeners('change');\n\t\tif (!listeners[key].listeners('change').length) delete listeners[key];;\n\t};\n\n\tthat.change = function(key) {\n\t\tif (listeners[key]) listeners[key].emit('change');\n\t\tthat.emit('change', key);\n\t};\n\n\tthat.cb = function(key, cb) {\n\t\treturn function(err, val) {\n\t\t\tif (key) that.change(key);\n\t\t\tif (cb) cb(err, val);\n\t\t};\n\t};\n\n\treturn that;\n};","\nmodule.exports = \nfunction fixRange(opts) {\n  var reverse = opts.reverse\n  var end     = opts.end\n  var start   = opts.start\n\n  var range = [start, end]\n  if(start != null && end != null)\n    range.sort()\n  if(reverse)\n    range = range.reverse()\n\n  opts.start   = range[0]\n  opts.end     = range[1]\n  return opts\n}\n\n","var ranges = require('string-range')\n\nmodule.exports = function (db) {\n\n  if(db.hooks) {\n    return     \n  }\n\n  var posthooks = []\n  var prehooks  = []\n\n  function getPrefix (p) {\n    return p && (\n        'string' ===   typeof p        ? p\n      : 'string' ===   typeof p.prefix ? p.prefix\n      : 'function' === typeof p.prefix ? p.prefix()\n      :                                  ''\n      )\n  }\n\n  function getKeyEncoding (db) {\n    if(db && db._getKeyEncoding)\n      return db._getKeyEncoding(db)\n  }\n\n  function getValueEncoding (db) {\n    if(db && db._getValueEncoding)\n      return db._getValueEncoding(db)\n  }\n\n  function remover (array, item) {\n    return function () {\n      var i = array.indexOf(item)\n      if(!~i) return false        \n      array.splice(i, 1)\n      return true\n    }\n  }\n\n  db.hooks = {\n    post: function (prefix, hook) {\n      if(!hook) hook = prefix, prefix = ''\n      var h = {test: ranges.checker(prefix), hook: hook}\n      posthooks.push(h)\n      return remover(posthooks, h)\n    },\n    pre: function (prefix, hook) {\n      if(!hook) hook = prefix, prefix = ''\n      var h = {\n        test: ranges.checker(prefix),\n        hook: hook,\n        safe: false !== prefix.safe\n      }\n      prehooks.push(h)\n      return remover(prehooks, h)\n    },\n    posthooks: posthooks,\n    prehooks: prehooks\n  }\n\n  //POST HOOKS\n\n  function each (e) {\n    if(e && e.type) {\n      posthooks.forEach(function (h) {\n        if(h.test(e.key)) h.hook(e)\n      })\n    }\n  }\n\n  db.on('put', function (key, val) {\n    each({type: 'put', key: key, value: val})\n  })\n  db.on('del', function (key, val) {\n    each({type: 'del', key: key, value: val})\n  })\n  db.on('batch', function onBatch (ary) {\n    ary.forEach(each)\n  })\n\n  //PRE HOOKS\n\n  var put = db.put\n  var del = db.del\n  var batch = db.batch\n\n  function callHooks (isBatch, b, opts, cb) {\n    try {\n    b.forEach(function hook(e, i) {\n      prehooks.forEach(function (h) {\n        if(h.test(String(e.key))) {\n          //optimize this?\n          //maybe faster to not create a new object each time?\n          //have one object and expose scope to it?\n          var context = {\n            add: function (ch, db) {\n              if(typeof ch === 'undefined') {\n                return this\n              }\n              if(ch === false)\n                return delete b[i]\n              var prefix = (\n                getPrefix(ch.prefix) || \n                getPrefix(db) || \n                h.prefix || ''\n              )  \n              //don't leave a circular json object there incase using multilevel.\n              if(prefix) ch.prefix = prefix\n              ch.key = prefix + ch.key\n              if(h.safe && h.test(String(ch.key))) {\n                //this usually means a stack overflow.\n                throw new Error('prehook cannot insert into own range')\n              }\n              var ke = ch.keyEncoding   || getKeyEncoding(ch.prefix)\n              var ve = ch.valueEncoding || getValueEncoding(ch.prefix)\n              if(ke) ch.keyEncoding = ke\n              if(ve) ch.valueEncoding = ve\n\n              b.push(ch)\n              hook(ch, b.length - 1)\n              return this\n            },\n            put: function (ch, db) {\n              if('object' === typeof ch) ch.type = 'put'\n              return this.add(ch, db)\n            },\n            del: function (ch, db) {\n              if('object' === typeof ch) ch.type = 'del'\n              return this.add(ch, db)\n            },\n            veto: function () {\n              return this.add(false)\n            }\n          }\n          h.hook.call(context, e, context.add, b)\n        }\n      })\n    })\n    } catch (err) {\n      return (cb || opts)(err)\n    }\n    b = b.filter(function (e) {\n      return e && e.type //filter out empty items\n    })\n\n    if(b.length == 1 && !isBatch) {\n      var change = b[0]\n      return change.type == 'put' \n        ? put.call(db, change.key, change.value, opts, cb) \n        : del.call(db, change.key, opts, cb)  \n    }\n    return batch.call(db, b, opts, cb)\n  }\n\n  db.put = function (key, value, opts, cb ) {\n    var batch = [{key: key, value: value, type: 'put'}]\n    return callHooks(false, batch, opts, cb)\n  }\n\n  db.del = function (key, opts, cb) {\n    var batch = [{key: key, type: 'del'}]\n    return callHooks(false, batch, opts, cb)\n  }\n\n  db.batch = function (batch, opts, cb) {\n    return callHooks(true, batch, opts, cb)\n  }\n}\n","var inherits = require('inherits')\nvar Readable = require('readable-stream').Readable\nvar extend = require('xtend')\n\nmodule.exports = ReadStream\ninherits(ReadStream, Readable)\n\nfunction ReadStream (iterator, options) {\n  if (!(this instanceof ReadStream)) return new ReadStream(iterator, options)\n  options = options || {}\n  Readable.call(this, extend(options, {\n    objectMode: true\n  }))\n  this._iterator = iterator\n  this._options = options\n  this.on('end', this.destroy.bind(this, null, null))\n}\n\nReadStream.prototype._read = function () {\n  var self = this\n  var options = this._options\n  if (this.destroyed) return\n\n  this._iterator.next(function (err, key, value) {\n    if (self.destroyed) return\n    if (err) return self.destroy(err)\n\n    if (key === undefined && value === undefined) {\n      self.push(null)\n    } else if (options.keys !== false && options.values === false) {\n      self.push(key)\n    } else if (options.keys === false && options.values !== false) {\n      self.push(value)\n    } else {\n      self.push({ key: key, value: value })\n    }\n  })\n}\n\nReadStream.prototype._destroy = function (err, callback) {\n  var self = this\n\n  this._iterator.end(function (err2) {\n    callback(err || err2)\n\n    // TODO when the next readable-stream (mirroring node v10) is out:\n    // remove this. Since nodejs/node#19836, streams always emit close.\n    process.nextTick(function () {\n      self.emit('close')\n    })\n  })\n}\n","/* global indexedDB */\n\n'use strict'\n\nmodule.exports = Level\n\nvar AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN\nvar inherits = require('inherits')\nvar Iterator = require('./iterator')\nvar mixedToBuffer = require('./util/mixed-to-buffer')\nvar setImmediate = require('./util/immediate')\nvar support = require('./util/support')\n\nvar DEFAULT_PREFIX = 'level-js-'\n\nfunction Level (location, opts) {\n  if (!(this instanceof Level)) return new Level(location, opts)\n  AbstractLevelDOWN.call(this, location)\n  opts = opts || {}\n\n  this.prefix = opts.prefix || DEFAULT_PREFIX\n  this.version = parseInt(opts.version || 1, 10)\n}\n\ninherits(Level, AbstractLevelDOWN)\n\n// Detect binary and array key support (IndexedDB Second Edition)\nLevel.binaryKeys = support.binaryKeys(indexedDB)\nLevel.arrayKeys = support.arrayKeys(indexedDB)\n\nLevel.prototype._open = function (options, callback) {\n  var req = indexedDB.open(this.prefix + this.location, this.version)\n  var self = this\n\n  req.onerror = function () {\n    callback(req.error || new Error('unknown error'))\n  }\n\n  req.onsuccess = function () {\n    self.db = req.result\n    callback()\n  }\n\n  req.onupgradeneeded = function (ev) {\n    var db = ev.target.result\n\n    if (!db.objectStoreNames.contains(self.location)) {\n      db.createObjectStore(self.location)\n    }\n  }\n}\n\nLevel.prototype.store = function (mode) {\n  var transaction = this.db.transaction([this.location], mode)\n  return transaction.objectStore(this.location)\n}\n\nLevel.prototype.await = function (request, callback) {\n  var transaction = request.transaction\n\n  // Take advantage of the fact that a non-canceled request error aborts\n  // the transaction. I.e. no need to listen for \"request.onerror\".\n  transaction.onabort = function () {\n    callback(transaction.error || new Error('aborted by user'))\n  }\n\n  transaction.oncomplete = function () {\n    callback(null, request.result)\n  }\n}\n\nLevel.prototype._get = function (key, options, callback) {\n  var store = this.store('readonly')\n\n  try {\n    var req = store.get(key)\n  } catch (err) {\n    return setImmediate(function () {\n      callback(err)\n    })\n  }\n\n  this.await(req, function (err, value) {\n    if (err) return callback(err)\n\n    if (value === undefined) {\n      // 'NotFound' error, consistent with LevelDOWN API\n      return callback(new Error('NotFound'))\n    }\n\n    if (options.asBuffer) {\n      value = mixedToBuffer(value)\n    }\n\n    callback(null, value)\n  })\n}\n\nLevel.prototype._del = function (key, options, callback) {\n  var store = this.store('readwrite')\n\n  try {\n    var req = store.delete(key)\n  } catch (err) {\n    return setImmediate(function () {\n      callback(err)\n    })\n  }\n\n  this.await(req, callback)\n}\n\nLevel.prototype._put = function (key, value, options, callback) {\n  var store = this.store('readwrite')\n\n  try {\n    // Will throw a DataError or DataCloneError if the environment\n    // does not support serializing the key or value respectively.\n    var req = store.put(value, key)\n  } catch (err) {\n    return setImmediate(function () {\n      callback(err)\n    })\n  }\n\n  this.await(req, callback)\n}\n\n// Valid key types in IndexedDB Second Edition:\n//\n// - Number, except NaN. Includes Infinity and -Infinity\n// - Date, except invalid (NaN)\n// - String\n// - ArrayBuffer or a view thereof (typed arrays). In level-js we also support\n//   Buffer (which is an Uint8Array) (and the primary binary type of Level).\n// - Array, except cyclical and empty (e.g. Array(10)). Elements must be valid\n//   types themselves.\nLevel.prototype._serializeKey = function (key) {\n  if (Buffer.isBuffer(key)) {\n    return Level.binaryKeys ? key : key.toString()\n  } else if (Array.isArray(key)) {\n    return Level.arrayKeys ? key.map(this._serializeKey, this) : String(key)\n  } else if (typeof key === 'boolean' || (typeof key === 'number' && isNaN(key))) {\n    // These types are invalid per the IndexedDB spec and ideally we'd treat\n    // them that way, but they're valid per the current abstract test suite.\n    return String(key)\n  } else {\n    return key\n  }\n}\n\nLevel.prototype._serializeValue = function (value) {\n  return value == null ? '' : value\n}\n\nLevel.prototype._iterator = function (options) {\n  return new Iterator(this.db, this.location, options)\n}\n\nLevel.prototype._batch = function (operations, options, callback) {\n  if (operations.length === 0) return setImmediate(callback)\n\n  var store = this.store('readwrite')\n  var transaction = store.transaction\n  var index = 0\n  var error\n\n  transaction.onabort = function () {\n    callback(error || transaction.error || new Error('aborted by user'))\n  }\n\n  transaction.oncomplete = function () {\n    callback()\n  }\n\n  // Wait for a request to complete before making the next, saving CPU.\n  function loop () {\n    var op = operations[index++]\n    var key = op.key\n\n    try {\n      var req = op.type === 'del' ? store.delete(key) : store.put(op.value, key)\n    } catch (err) {\n      error = err\n      transaction.abort()\n      return\n    }\n\n    if (index < operations.length) {\n      req.onsuccess = loop\n    }\n  }\n\n  loop()\n}\n\nLevel.prototype._close = function (callback) {\n  this.db.close()\n  setImmediate(callback)\n}\n\nLevel.destroy = function (location, prefix, callback) {\n  if (typeof prefix === 'function') {\n    callback = prefix\n    prefix = DEFAULT_PREFIX\n  }\n  var request = indexedDB.deleteDatabase(prefix + location)\n  request.onsuccess = function () {\n    callback()\n  }\n  request.onerror = function (err) {\n    callback(err)\n  }\n}\n","/* global IDBKeyRange */\n\n'use strict'\n\nvar inherits = require('inherits')\nvar AbstractIterator = require('abstract-leveldown').AbstractIterator\nvar ltgt = require('ltgt')\nvar mixedToBuffer = require('./util/mixed-to-buffer')\nvar setImmediate = require('./util/immediate')\nvar noop = function () {}\n\nmodule.exports = Iterator\n\nfunction Iterator (db, location, options) {\n  AbstractIterator.call(this, db)\n\n  this._limit = options.limit\n  this._count = 0\n  this._callback = null\n  this._cache = []\n  this._completed = false\n  this._aborted = false\n  this._error = null\n  this._transaction = null\n\n  this._keyAsBuffer = options.keyAsBuffer\n  this._valueAsBuffer = options.valueAsBuffer\n\n  if (this._limit === 0) {\n    this._completed = true\n    return\n  }\n\n  try {\n    var keyRange = this.createKeyRange(options)\n  } catch (e) {\n    // The lower key is greater than the upper key.\n    // IndexedDB throws an error, but we'll just return 0 results.\n    this._completed = true\n    return\n  }\n\n  this.createIterator(location, keyRange, options.reverse)\n}\n\ninherits(Iterator, AbstractIterator)\n\nIterator.prototype.createKeyRange = function (options) {\n  var lower = ltgt.lowerBound(options)\n  var upper = ltgt.upperBound(options)\n  var lowerOpen = ltgt.lowerBoundExclusive(options)\n  var upperOpen = ltgt.upperBoundExclusive(options)\n\n  if (lower !== undefined && upper !== undefined) {\n    return IDBKeyRange.bound(lower, upper, lowerOpen, upperOpen)\n  } else if (lower !== undefined) {\n    return IDBKeyRange.lowerBound(lower, lowerOpen)\n  } else if (upper !== undefined) {\n    return IDBKeyRange.upperBound(upper, upperOpen)\n  } else {\n    return null\n  }\n}\n\nIterator.prototype.createIterator = function (location, keyRange, reverse) {\n  var self = this\n  var transaction = this.db.transaction([location], 'readonly')\n  var store = transaction.objectStore(location)\n  var req = store.openCursor(keyRange, reverse ? 'prev' : 'next')\n\n  req.onsuccess = function (ev) {\n    var cursor = ev.target.result\n    if (cursor) self.onItem(cursor)\n  }\n\n  this._transaction = transaction\n\n  // If an error occurs (on the request), the transaction will abort.\n  transaction.onabort = function () {\n    self.onAbort(self._transaction.error || new Error('aborted by user'))\n  }\n\n  transaction.oncomplete = function () {\n    self.onComplete()\n  }\n}\n\nIterator.prototype.onItem = function (cursor) {\n  this._cache.push(cursor.key, cursor.value)\n\n  if (this._limit <= 0 || ++this._count < this._limit) {\n    cursor['continue']()\n  }\n\n  this.maybeNext()\n}\n\nIterator.prototype.onAbort = function (err) {\n  this._aborted = true\n  this._error = err\n  this.maybeNext()\n}\n\nIterator.prototype.onComplete = function () {\n  this._completed = true\n  this.maybeNext()\n}\n\nIterator.prototype.maybeNext = function () {\n  if (this._callback) {\n    this._next(this._callback)\n    this._callback = null\n  }\n}\n\nIterator.prototype._next = function (callback) {\n  if (this._aborted) {\n    // The error should be picked up by either next() or end().\n    var err = this._error\n    this._error = null\n\n    setImmediate(function () {\n      callback(err)\n    })\n  } else if (this._cache.length > 0) {\n    var key = this._cache.shift()\n    var value = this._cache.shift()\n\n    if (this._keyAsBuffer) key = mixedToBuffer(key)\n    if (this._valueAsBuffer) value = mixedToBuffer(value)\n\n    setImmediate(function () {\n      callback(null, key, value)\n    })\n  } else if (this._completed) {\n    setImmediate(callback)\n  } else {\n    this._callback = callback\n  }\n}\n\nIterator.prototype._end = function (callback) {\n  if (this._aborted || this._completed) {\n    var err = this._error\n\n    setImmediate(function () {\n      callback(err)\n    })\n\n    return\n  }\n\n  // Don't advance the cursor anymore, and the transaction will complete\n  // on its own in the next tick. This approach is much cleaner than calling\n  // transaction.abort() with its unpredictable event order.\n  this.onItem = noop\n  this.onAbort = callback\n  this.onComplete = callback\n}\n","module.exports = require('immediate')\n","'use strict'\n\nvar toBuffer = require('typedarray-to-buffer')\n\nmodule.exports = function (value) {\n  if (value instanceof Uint8Array) return toBuffer(value)\n  else if (value instanceof ArrayBuffer) return Buffer.from(value)\n  else return Buffer.from(String(value))\n}\n","'use strict'\n\nexports.test = function (key) {\n  return function test (impl) {\n    try {\n      impl.cmp(key, 0)\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n}\n\nexports.binaryKeys = exports.test(new Uint8Array(0))\nexports.arrayKeys = exports.test([1])\n","var fixRange = require('level-fix-range')\n//get the first/last record in a range\n\nexports = module.exports = peek\nexports.first    = first\nexports.last     = last\n\nfunction once(emitter, events, listener) {\n  var remove = []\n  events.forEach(function (e) {\n    function onEvent (arg) {\n      if(listener(e, arg) === false) return\n      remove.forEach(function (r) {\n        r()\n      })\n    }\n    emitter.on(e, onEvent)\n    remove.push(function () {\n      emitter.removeListener(e, onEvent)\n    })\n  })\n  return emitter\n}\n\n\nfunction peek (db, opts, cb) {\n  opts.limit = opts.reverse ? 2 : 1\n  var stream = once(db.createReadStream(opts), \n    ['data', 'error', 'end'],\n    function (event, data) {\n      if(opts.reverse && data && opts.start \n        && (data.key.toString() > opts.start))\n        return false\n      if(event == 'error') cb(data)\n      else if(event == 'end') cb(new Error('range not found'), null, null)\n      else cb(null, data.key, data.value)\n    })\n}\n\nfunction first (db, opts, cb) {\n  if (!cb) {\n    cb = opts;\n    opts = {};\n  }\n  opts.reverse = false\n  return peek(db, fixRange(opts), cb)  \n}\n\n//SO, this is pretty horrible,\n//but it's works around an issue here\n//https://github.com/rvagg/node-levelup/issues/110\n\nfunction last (db, opts, cb) {\n  if (!cb) {\n    cb = opts;\n    opts = {};\n  }\n  var start = opts.start\n  opts.reverse = true\n  return peek(db, fixRange(opts), function (err, key, value) {\n    if(err) {\n      var _start = opts.start\n      opts.start = null\n      peek (db, opts, function (_, key, value) {\n        if(!key) return cb(err, null, null)\n        var _key = key.toString()\n        if(_key <= _start && (!opts.end || _key >= opts.end))\n          cb(_, key, value)\n        else cb(err, null, null)\n      })\n    }\n    else cb(err, key, value)\n  })\n}\n\n","function addOperation (type, key, value, options) {\n  var operation = {\n    type: type,\n    key: key,\n    value: value,\n    options: options\n  }\n\n  if (options && options.prefix) {\n    operation.prefix = options.prefix\n    delete options.prefix\n  }\n\n  this._operations.push(operation)\n\n  return this\n}\n\nfunction Batch(sdb) {\n  this._operations = []\n  this._sdb = sdb\n\n  this.put = addOperation.bind(this, 'put')\n  this.del = addOperation.bind(this, 'del')\n}\n\nvar B = Batch.prototype\n\n\nB.clear = function () {\n  this._operations = []\n}\n\nB.write = function (cb) {\n  this._sdb.batch(this._operations, cb)\n}\n\nmodule.exports = Batch\n","var EventEmitter = require('events').EventEmitter\nvar next         = process.nextTick\nvar SubDb        = require('./sub')\nvar Batch        = require('./batch')\nvar fixRange     = require('level-fix-range')\n\nvar Hooks   = require('level-hooks')\n\nmodule.exports   = function (_db, options) {\n  function DB () {}\n  DB.prototype = _db\n  var db = new DB()\n\n  if (db.sublevel) return db\n\n  options = options || {}\n\n  //use \\xff (255) as the seperator,\n  //so that sections of the database will sort after the regular keys\n  var sep = options.sep = options.sep || '\\xff'\n  db._options = options\n\n  Hooks(db)\n\n  db.sublevels = {}\n\n  db.sublevel = function (prefix, options) {\n    if(db.sublevels[prefix])\n      return db.sublevels[prefix]\n    return new SubDb(db, prefix, options || this._options)\n  }\n\n  db.methods = {}\n\n  db.prefix = function (key) {\n    return '' + (key || '')\n  }\n\n  db.pre = function (range, hook) {\n    if(!hook)\n      hook = range, range = {\n        max  : sep\n      }\n    return db.hooks.pre(range, hook)\n  }\n\n  db.post = function (range, hook) {\n    if(!hook)\n      hook = range, range = {\n        max : sep\n      }\n    return db.hooks.post(range, hook)\n  }\n\n  function safeRange(fun) {\n    return function (opts) {\n      opts = opts || {}\n      opts = fixRange(opts)\n\n      if(opts.reverse) opts.start = opts.start || sep\n      else             opts.end   = opts.end || sep\n\n      return fun.call(db, opts)\n    }\n  }\n\n  db.readStream =\n  db.createReadStream  = safeRange(db.createReadStream)\n  db.keyStream =\n  db.createKeyStream   = safeRange(db.createKeyStream)\n  db.valuesStream =\n  db.createValueStream = safeRange(db.createValueStream)\n\n  var batch = db.batch\n  db.batch = function (changes, opts, cb) {\n    if(!Array.isArray(changes))\n      return new Batch(db)\n    changes.forEach(function (e) {\n      if(e.prefix) {\n        if('function' === typeof e.prefix.prefix)\n          e.key = e.prefix.prefix(e.key)\n        else if('string'  === typeof e.prefix)\n          e.key = e.prefix + e.key\n      }\n    })\n    batch.call(db, changes, opts, cb)\n  }\n  return db\n}\n\n","var clone = require('clone')\n\nmodule.exports = \nfunction fixRange(opts) {\n  opts = clone(opts)\n\n  var reverse = opts.reverse\n  var end     = opts.max || opts.end\n  var start   = opts.min || opts.start\n\n  var range = [start, end]\n  if(start != null && end != null)\n    range.sort()\n  if(reverse)\n    range = range.reverse()\n\n  opts.start   = range[0]\n  opts.end     = range[1]\n\n  delete opts.min\n  delete opts.max\n\n  return opts\n}\n","module.exports = Object.keys || require('./shim');\n\n","(function () {\n\t\"use strict\";\n\n\t// modified from https://github.com/kriskowal/es5-shim\n\tvar has = Object.prototype.hasOwnProperty,\n\t\tis = require('is'),\n\t\tforEach = require('foreach'),\n\t\thasDontEnumBug = !({'toString': null}).propertyIsEnumerable('toString'),\n\t\tdontEnums = [\n\t\t\t\"toString\",\n\t\t\t\"toLocaleString\",\n\t\t\t\"valueOf\",\n\t\t\t\"hasOwnProperty\",\n\t\t\t\"isPrototypeOf\",\n\t\t\t\"propertyIsEnumerable\",\n\t\t\t\"constructor\"\n\t\t],\n\t\tkeysShim;\n\n\tkeysShim = function keys(object) {\n\t\tif (!is.object(object) && !is.array(object)) {\n\t\t\tthrow new TypeError(\"Object.keys called on a non-object\");\n\t\t}\n\n\t\tvar name, theKeys = [];\n\t\tfor (name in object) {\n\t\t\tif (has.call(object, name)) {\n\t\t\t\ttheKeys.push(name);\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tforEach(dontEnums, function (dontEnum) {\n\t\t\t\tif (has.call(object, dontEnum)) {\n\t\t\t\t\ttheKeys.push(dontEnum);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn theKeys;\n\t};\n\n\tmodule.exports = keysShim;\n}());\n\n","var Keys = require(\"object-keys\")\nvar hasKeys = require(\"./has-keys\")\n\nmodule.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        if (!hasKeys(source)) {\n            continue\n        }\n\n        var keys = Keys(source)\n\n        for (var j = 0; j < keys.length; j++) {\n            var name = keys[j]\n            target[name] = source[name]\n        }\n    }\n\n    return target\n}\n","var EventEmitter = require('events').EventEmitter\nvar inherits     = require('util').inherits\nvar ranges       = require('string-range')\nvar fixRange     = require('level-fix-range')\nvar xtend        = require('xtend')\nvar Batch        = require('./batch')\n\ninherits(SubDB, EventEmitter)\n\nfunction SubDB (db, prefix, options) {\n  if('string' === typeof options) {\n    console.error('db.sublevel(name, seperator<string>) is depreciated')\n    console.error('use db.sublevel(name, {sep: separator})) if you must')\n    options = {sep: options}\n  }\n  if(!(this instanceof SubDB)) return new SubDB(db, prefix, options)\n  if(!db)     throw new Error('must provide db')\n  if(!prefix) throw new Error('must provide prefix')\n\n  options = options || {}\n  options.sep = options.sep || '\\xff'\n\n  this._parent = db\n  this._options = options\n  this.options = options\n  this._prefix = prefix\n  this._root = root(this)\n  db.sublevels[prefix] = this\n  this.sublevels = {}\n  this.methods = {}\n  var self = this\n  this.hooks = {\n    pre: function () {\n      return self.pre.apply(self, arguments)\n    },\n    post: function () {\n      return self.post.apply(self, arguments)\n    }\n  }\n}\n\nvar SDB = SubDB.prototype\n\nSDB._key = function (key) {\n  var sep = this._options.sep\n  return sep\n    + this._prefix\n    + sep\n    + key\n}\n\nSDB._getOptsAndCb = function (opts, cb) {\n  if (typeof opts == 'function') {\n    cb = opts\n    opts = {}\n  }\n  return { opts: xtend(opts, this._options), cb: cb }\n}\n\nSDB.sublevel = function (prefix, options) {\n  if(this.sublevels[prefix])\n    return this.sublevels[prefix]\n  return new SubDB(this, prefix, options || this._options)\n}\n\nSDB.put = function (key, value, opts, cb) {\n  var res = this._getOptsAndCb(opts, cb)\n  this._root.put(this.prefix(key), value, res.opts, res.cb)\n}\n\nSDB.get = function (key, opts, cb) {\n  var res = this._getOptsAndCb(opts, cb)\n  this._root.get(this.prefix(key), res.opts, res.cb)\n}\n\nSDB.del = function (key, opts, cb) {\n  var res = this._getOptsAndCb(opts, cb)\n  this._root.del(this.prefix(key), res.opts, res.cb)\n}\n\nSDB.batch = function (changes, opts, cb) {\n  if(!Array.isArray(changes))\n    return new Batch(this)\n  var self = this,\n      res = this._getOptsAndCb(opts, cb)\n  changes.forEach(function (ch) {\n\n    //OH YEAH, WE NEED TO VALIDATE THAT UPDATING THIS KEY/PREFIX IS ALLOWED\n    if('string' === typeof ch.prefix)\n      ch.key = ch.prefix + ch.key\n    else\n      ch.key = (ch.prefix || self).prefix(ch.key)\n\n    if(ch.prefix) ch.prefix = null\n  })\n  this._root.batch(changes, res.opts, res.cb)\n}\n\nSDB._getKeyEncoding = function () {\n  if(this.options.keyEncoding)\n    return this.options.keyEncoding\n  if(this._parent && this._parent._getKeyEncoding)\n    return this._parent._getKeyEncoding()\n}\n\nSDB._getValueEncoding = function () {\n  if(this.options.valueEncoding)\n    return this.options.valueEncoding\n  if(this._parent && this._parent._getValueEncoding)\n    return this._parent._getValueEncoding()\n}\n\nSDB.prefix = function (key) {\n  var sep = this._options.sep\n  return this._parent.prefix() + sep + this._prefix + sep + (key || '')\n}\n\nSDB.keyStream =\nSDB.createKeyStream = function (opts) {\n  opts = opts || {}\n  opts.keys = true\n  opts.values = false\n  return this.createReadStream(opts)\n}\n\nSDB.valueStream =\nSDB.createValueStream = function (opts) {\n  opts = opts || {}\n  opts.keys = false\n  opts.values = true\n  opts.keys = false\n  return this.createReadStream(opts)\n}\n\nfunction selectivelyMerge(_opts, opts) {\n  [ 'valueEncoding'\n  , 'encoding'\n  , 'keyEncoding'\n  , 'reverse'\n  , 'values'\n  , 'keys'\n  , 'limit'\n  , 'fillCache'\n  ]\n  .forEach(function (k) {\n    if (opts.hasOwnProperty(k)) _opts[k] = opts[k]\n  })\n}\n\nSDB.readStream =\nSDB.createReadStream = function (opts) {\n  opts = opts || {}\n  var r = root(this)\n  var p = this.prefix()\n\n  var _opts = ranges.prefix(opts, p)\n  selectivelyMerge(_opts, xtend(opts, this._options))\n\n  var s = r.createReadStream(_opts)\n\n  if(_opts.values === false) {\n    var read = s.read\n    if (read) {\n      s.read = function (size) {\n        var val = read.call(this, size)\n        if (val) val = val.substring(p.length)\n        return val\n      }\n    } else {\n      var emit = s.emit\n      s.emit = function (event, val) {\n        if(event === 'data') {\n          emit.call(this, 'data', val.substring(p.length))\n        } else\n          emit.call(this, event, val)\n      }\n    }\n    return s\n  } else if(_opts.keys === false)\n    return s\n  else {\n    var read = s.read\n    if (read) {\n      s.read = function (size) {\n        var d = read.call(this, size)\n        if (d) d.key = d.key.substring(p.length)\n        return d\n      }\n    } else {\n      s.on('data', function (d) {\n        //mutate the prefix!\n        //this doesn't work for createKeyStream admittedly.\n        d.key = d.key.substring(p.length)\n      })\n    }\n    return s\n  }\n}\n\n\nSDB.writeStream =\nSDB.createWriteStream = function () {\n  var r = root(this)\n  var p = this.prefix()\n  var ws = r.createWriteStream.apply(r, arguments)\n  var write = ws.write\n\n  var encoding = this._options.encoding\n  var valueEncoding = this._options.valueEncoding\n  var keyEncoding = this._options.keyEncoding\n\n  // slight optimization, if no encoding was specified at all,\n  // which will be the case most times, make write not check at all\n  var nocheck = !encoding && !valueEncoding && !keyEncoding\n\n  ws.write = nocheck\n    ? function (data) {\n        data.key = p + data.key\n        return write.call(ws, data)\n      }\n    : function (data) {\n        data.key = p + data.key\n\n        // not merging all options here since this happens on every write and things could get slowed down\n        // at this point we only consider encoding important to propagate\n        if (encoding && typeof data.encoding === 'undefined')\n          data.encoding = encoding\n        if (valueEncoding && typeof data.valueEncoding === 'undefined')\n          data.valueEncoding = valueEncoding\n        if (keyEncoding && typeof data.keyEncoding === 'undefined')\n          data.keyEncoding = keyEncoding\n\n        return write.call(ws, data)\n      }\n  return ws\n}\n\nSDB.approximateSize = function () {\n  var r = root(db)\n  return r.approximateSize.apply(r, arguments)\n}\n\nfunction root(db) {\n  if(!db._parent) return db\n  return root(db._parent)\n}\n\nSDB.pre = function (range, hook) {\n  if(!hook) hook = range, range = null\n  range = ranges.prefix(range, this.prefix(), this._options.sep)\n  var r = root(this._parent)\n  var p = this.prefix()\n  return r.hooks.pre(fixRange(range), function (ch, add, batch) {\n    hook({\n      key: ch.key.substring(p.length),\n      value: ch.value,\n      type: ch.type\n    }, function (ch, _p) {\n      //maybe remove the second add arg now\n      //that op can have prefix?\n      add(ch, ch.prefix ? _p : (_p || p))\n    }, batch)\n  })\n}\n\nSDB.post = function (range, hook) {\n  if(!hook) hook = range, range = null\n  var r = root(this._parent)\n  var p = this.prefix()\n  range = ranges.prefix(range, p, this._options.sep)\n  return r.hooks.post(fixRange(range), function (data) {\n    hook({key: data.key.substring(p.length), value: data.value, type: data.type})\n  })\n}\n\nvar exports = module.exports = SubDB\n\n","var WriteError = require('level-errors').WriteError\nvar promisify = require('./promisify')\nvar getCallback = require('./common').getCallback\nvar getOptions = require('./common').getOptions\n\nfunction Batch (levelup) {\n  this._levelup = levelup\n  this.batch = levelup.db.batch()\n  this.ops = []\n  this.length = 0\n}\n\nBatch.prototype.put = function (key, value) {\n  try {\n    this.batch.put(key, value)\n  } catch (e) {\n    throw new WriteError(e)\n  }\n\n  this.ops.push({ type: 'put', key: key, value: value })\n  this.length++\n\n  return this\n}\n\nBatch.prototype.del = function (key) {\n  try {\n    this.batch.del(key)\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  this.ops.push({ type: 'del', key: key })\n  this.length++\n\n  return this\n}\n\nBatch.prototype.clear = function () {\n  try {\n    this.batch.clear()\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  this.ops = []\n  this.length = 0\n\n  return this\n}\n\nBatch.prototype.write = function (options, callback) {\n  var levelup = this._levelup\n  var ops = this.ops\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  options = getOptions(options)\n\n  try {\n    this.batch.write(options, function (err) {\n      if (err) { return callback(new WriteError(err)) }\n      levelup.emit('batch', ops)\n      callback()\n    })\n  } catch (err) {\n    throw new WriteError(err)\n  }\n\n  return promise\n}\n\nmodule.exports = Batch\n","exports.getCallback = function (options, callback) {\n  return typeof options === 'function' ? options : callback\n}\n\nexports.getOptions = function (options) {\n  return typeof options === 'object' && options !== null ? options : {}\n}\n","var EventEmitter = require('events').EventEmitter\nvar inherits = require('util').inherits\nvar extend = require('xtend')\nvar DeferredLevelDOWN = require('deferred-leveldown')\nvar IteratorStream = require('level-iterator-stream')\nvar Batch = require('./batch')\nvar errors = require('level-errors')\nvar assert = require('assert')\nvar promisify = require('./promisify')\nvar getCallback = require('./common').getCallback\nvar getOptions = require('./common').getOptions\n\nvar WriteError = errors.WriteError\nvar ReadError = errors.ReadError\nvar NotFoundError = errors.NotFoundError\nvar OpenError = errors.OpenError\nvar InitializationError = errors.InitializationError\n\n// Possible AbstractLevelDOWN#status values:\n//  - 'new'     - newly created, not opened or closed\n//  - 'opening' - waiting for the database to be opened, post open()\n//  - 'open'    - successfully opened the database, available for use\n//  - 'closing' - waiting for the database to be closed, post close()\n//  - 'closed'  - database has been successfully closed, should not be\n//                 used except for another open() operation\n\nfunction LevelUP (db, options, callback) {\n  if (!(this instanceof LevelUP)) {\n    return new LevelUP(db, options, callback)\n  }\n\n  var error\n\n  EventEmitter.call(this)\n  this.setMaxListeners(Infinity)\n\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  options = options || {}\n\n  if (!db || typeof db !== 'object') {\n    error = new InitializationError('First argument must be an abstract-leveldown compliant store')\n    if (typeof callback === 'function') {\n      return process.nextTick(callback, error)\n    }\n    throw error\n  }\n\n  assert.equal(typeof db.status, 'string', '.status required, old abstract-leveldown')\n\n  this.options = getOptions(options)\n  this._db = db\n  this.db = new DeferredLevelDOWN(db)\n  this.open(callback)\n}\n\nLevelUP.prototype.emit = EventEmitter.prototype.emit\nLevelUP.prototype.once = EventEmitter.prototype.once\ninherits(LevelUP, EventEmitter)\n\nLevelUP.prototype.open = function (callback) {\n  var self = this\n  var promise\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (this.isOpen()) {\n    process.nextTick(callback, null, self)\n    return promise\n  }\n\n  if (this._isOpening()) {\n    this.once('open', function () { callback(null, self) })\n    return promise\n  }\n\n  this.emit('opening')\n\n  this.db.open(this.options, function (err) {\n    if (err) {\n      return callback(new OpenError(err))\n    }\n    self.db = self._db\n    callback(null, self)\n    self.emit('open')\n    self.emit('ready')\n  })\n\n  return promise\n}\n\nLevelUP.prototype.close = function (callback) {\n  var self = this\n  var promise\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (this.isOpen()) {\n    this.db.close(function () {\n      self.emit('closed')\n      callback.apply(null, arguments)\n    })\n    this.emit('closing')\n    this.db = new DeferredLevelDOWN(this._db)\n  } else if (this.isClosed()) {\n    process.nextTick(callback)\n  } else if (this.db.status === 'closing') {\n    this.once('closed', callback)\n  } else if (this._isOpening()) {\n    this.once('open', function () {\n      self.close(callback)\n    })\n  }\n\n  return promise\n}\n\nLevelUP.prototype.isOpen = function () {\n  return this.db.status === 'open'\n}\n\nLevelUP.prototype._isOpening = function () {\n  return this.db.status === 'opening'\n}\n\nLevelUP.prototype.isClosed = function () {\n  return (/^clos|new/).test(this.db.status)\n}\n\nLevelUP.prototype.get = function (key, options, callback) {\n  if (key === null || key === undefined) {\n    throw new ReadError('get() requires a key argument')\n  }\n\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.get(key, options, function (err, value) {\n    if (err) {\n      if ((/notfound/i).test(err) || err.notFound) {\n        err = new NotFoundError('Key not found in database [' + key + ']', err)\n      } else {\n        err = new ReadError(err)\n      }\n      return callback(err)\n    }\n    callback(null, value)\n  })\n\n  return promise\n}\n\nLevelUP.prototype.put = function (key, value, options, callback) {\n  if (key === null || key === undefined) {\n    throw new WriteError('put() requires a key argument')\n  }\n\n  var self = this\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.put(key, value, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    self.emit('put', key, value)\n    callback()\n  })\n\n  return promise\n}\n\nLevelUP.prototype.del = function (key, options, callback) {\n  if (key === null || key === undefined) {\n    throw new WriteError('del() requires a key argument')\n  }\n\n  var self = this\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.del(key, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    self.emit('del', key)\n    callback()\n  })\n\n  return promise\n}\n\nLevelUP.prototype.batch = function (arr, options, callback) {\n  if (!arguments.length) {\n    return new Batch(this)\n  }\n\n  if (!Array.isArray(arr)) {\n    throw new WriteError('batch() requires an array argument')\n  }\n\n  var self = this\n  var promise\n\n  callback = getCallback(options, callback)\n\n  if (!callback) {\n    callback = promisify()\n    promise = callback.promise\n  }\n\n  if (maybeError(this, callback)) { return promise }\n\n  options = getOptions(options)\n\n  this.db.batch(arr, options, function (err) {\n    if (err) {\n      return callback(new WriteError(err))\n    }\n    self.emit('batch', arr)\n    callback()\n  })\n\n  return promise\n}\n\nLevelUP.prototype.iterator = function (options) {\n  return this.db.iterator(options)\n}\n\nLevelUP.prototype.readStream =\nLevelUP.prototype.createReadStream = function (options) {\n  options = extend({ keys: true, values: true }, options)\n  if (typeof options.limit !== 'number') { options.limit = -1 }\n  return new IteratorStream(this.db.iterator(options), options)\n}\n\nLevelUP.prototype.keyStream =\nLevelUP.prototype.createKeyStream = function (options) {\n  return this.createReadStream(extend(options, { keys: true, values: false }))\n}\n\nLevelUP.prototype.valueStream =\nLevelUP.prototype.createValueStream = function (options) {\n  return this.createReadStream(extend(options, { keys: false, values: true }))\n}\n\nLevelUP.prototype.toString = function () {\n  return 'LevelUP'\n}\n\nfunction maybeError (db, callback) {\n  if (!db._isOpening() && !db.isOpen()) {\n    process.nextTick(callback, new ReadError('Database is not open'))\n    return true\n  }\n}\n\nLevelUP.errors = errors\nmodule.exports = LevelUP.default = LevelUP\n","function promisify () {\n  var callback\n  var promise = new Promise(function (resolve, reject) {\n    callback = function callback (err, value) {\n      if (err) reject(err)\n      else resolve(value)\n    }\n  })\n  callback.promise = promise\n  return callback\n}\n\nmodule.exports = promisify\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","\nexports.compare = function (a, b) {\n\n  if(Buffer.isBuffer(a)) {\n    var l = Math.min(a.length, b.length)\n    for(var i = 0; i < l; i++) {\n      var cmp = a[i] - b[i]\n      if(cmp) return cmp\n    }\n    return a.length - b.length\n  }\n\n  return a < b ? -1 : a > b ? 1 : 0\n}\n\n// to be compatible with the current abstract-leveldown tests\n// nullish or empty strings.\n// I could use !!val but I want to permit numbers and booleans,\n// if possible.\n\nfunction isDef (val) {\n  return val !== undefined && val !== ''\n}\n\nfunction has (range, name) {\n  return Object.hasOwnProperty.call(range, name)\n}\n\nfunction hasKey(range, name) {\n  return Object.hasOwnProperty.call(range, name) && name\n}\n\nvar lowerBoundKey = exports.lowerBoundKey = function (range) {\n    return (\n       hasKey(range, 'gt')\n    || hasKey(range, 'gte')\n    || hasKey(range, 'min')\n    || (range.reverse ? hasKey(range, 'end') : hasKey(range, 'start'))\n    || undefined\n    )\n}\n\nvar lowerBound = exports.lowerBound = function (range, def) {\n  var k = lowerBoundKey(range)\n  return k ? range[k] : def\n}\n\nvar lowerBoundInclusive = exports.lowerBoundInclusive = function (range) {\n  return has(range, 'gt') ? false : true\n}\n\nvar upperBoundInclusive = exports.upperBoundInclusive =\n  function (range) {\n    return (has(range, 'lt') /*&& !range.maxEx*/) ? false : true\n  }\n\nvar lowerBoundExclusive = exports.lowerBoundExclusive =\n  function (range) {\n    return !lowerBoundInclusive(range)\n  }\n\nvar upperBoundExclusive = exports.upperBoundExclusive =\n  function (range) {\n    return !upperBoundInclusive(range)\n  }\n\nvar upperBoundKey = exports.upperBoundKey = function (range) {\n    return (\n       hasKey(range, 'lt')\n    || hasKey(range, 'lte')\n    || hasKey(range, 'max')\n    || (range.reverse ? hasKey(range, 'start') : hasKey(range, 'end'))\n    || undefined\n    )\n}\n\nvar upperBound = exports.upperBound = function (range, def) {\n  var k = upperBoundKey(range)\n  return k ? range[k] : def\n}\n\nexports.start = function (range, def) {\n  return range.reverse ? upperBound(range, def) : lowerBound(range, def)\n}\nexports.end = function (range, def) {\n  return range.reverse ? lowerBound(range, def) : upperBound(range, def)\n}\nexports.startInclusive = function (range) {\n  return (\n    range.reverse\n  ? upperBoundInclusive(range)\n  : lowerBoundInclusive(range)\n  )\n}\nexports.endInclusive = function (range) {\n  return (\n    range.reverse\n  ? lowerBoundInclusive(range)\n  : upperBoundInclusive(range)\n  )\n}\n\nfunction id (e) { return e }\n\nexports.toLtgt = function (range, _range, map, lower, upper) {\n  _range = _range || {}\n  map = map || id\n  var defaults = arguments.length > 3\n  var lb = exports.lowerBoundKey(range)\n  var ub = exports.upperBoundKey(range)\n  if(lb) {\n    if(lb === 'gt') _range.gt = map(range.gt, false)\n    else            _range.gte = map(range[lb], false)\n  }\n  else if(defaults)\n    _range.gte = map(lower, false)\n\n  if(ub) {\n    if(ub === 'lt') _range.lt = map(range.lt, true)\n    else            _range.lte = map(range[ub], true)\n  }\n  else if(defaults)\n    _range.lte = map(upper, true)\n\n  if(range.reverse != null)\n    _range.reverse = !!range.reverse\n\n  //if range was used mutably\n  //(in level-sublevel it's part of an options object\n  //that has more properties on it.)\n  if(has(_range, 'max'))   delete _range.max\n  if(has(_range, 'min'))   delete _range.min\n  if(has(_range, 'start')) delete _range.start\n  if(has(_range, 'end'))   delete _range.end\n\n  return _range\n}\n\nexports.contains = function (range, key, compare) {\n  compare = compare || exports.compare\n\n  var lb = lowerBound(range)\n  if(isDef(lb)) {\n    var cmp = compare(key, lb)\n    if(cmp < 0 || (cmp === 0 && lowerBoundExclusive(range)))\n      return false\n  }\n\n  var ub = upperBound(range)\n  if(isDef(ub)) {\n    var cmp = compare(key, ub)\n    if(cmp > 0 || (cmp === 0) && upperBoundExclusive(range))\n      return false\n  }\n\n  return true\n}\n\nexports.filter = function (range, compare) {\n  return function (key) {\n    return exports.contains(range, key, compare)\n  }\n}\n\n\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","module.exports = function (num, base) {\n  return parseInt(num.toString(), base || 8)\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*!\n  * prr\n  * (c) 2013 Rod Vagg <rod@vagg.org>\n  * https://github.com/rvagg/prr\n  * License: MIT\n  */\n\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports)\n    module.exports = definition()\n  else\n    context[name] = definition()\n})('prr', this, function() {\n\n  var setProperty = typeof Object.defineProperty == 'function'\n      ? function (obj, key, options) {\n          Object.defineProperty(obj, key, options)\n          return obj\n        }\n      : function (obj, key, options) { // < es5\n          obj[key] = options.value\n          return obj\n        }\n\n    , makeOptions = function (value, options) {\n        var oo = typeof options == 'object'\n          , os = !oo && typeof options == 'string'\n          , op = function (p) {\n              return oo\n                ? !!options[p]\n                : os\n                  ? options.indexOf(p[0]) > -1\n                  : false\n            }\n\n        return {\n            enumerable   : op('enumerable')\n          , configurable : op('configurable')\n          , writable     : op('writable')\n          , value        : value\n        }\n      }\n\n    , prr = function (obj, key, value, options) {\n        var k\n\n        options = makeOptions(value, options)\n\n        if (typeof key == 'object') {\n          for (k in key) {\n            if (Object.hasOwnProperty.call(key, k)) {\n              options.value = key[k]\n              setProperty(obj, k, options)\n            }\n          }\n          return obj\n        }\n\n        return setProperty(obj, key, options)\n      }\n\n  return prr\n})","module.exports = require('./lib/_stream_duplex.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","module.exports = require('events').EventEmitter;\n","module.exports = require('./readable').PassThrough\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","module.exports = require('./readable').Transform\n","module.exports = require('./lib/_stream_writable.js');\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","// Generated by CoffeeScript 1.9.2\nvar Transformer, stream, util,\n  slice = [].slice;\n\nstream = require('stream');\n\nutil = require('util');\n\nmodule.exports = function() {\n  var argument, callback, data, error, handler, i, j, k, len, options, result, transform, type, v;\n  options = {};\n  for (i = j = 0, len = arguments.length; j < len; i = ++j) {\n    argument = arguments[i];\n    type = typeof argument;\n    if (argument === null) {\n      type = 'null';\n    } else if (type === 'object' && Array.isArray(argument)) {\n      type = 'array';\n    }\n    if (i === 0) {\n      if (type === 'function') {\n        handler = argument;\n      } else if (type !== null) {\n        data = argument;\n      }\n      continue;\n    }\n    if (type === 'object') {\n      for (k in argument) {\n        v = argument[k];\n        options[k] = v;\n      }\n    } else if (type === 'function') {\n      if (handler && i === arguments.length - 1) {\n        callback = argument;\n      } else {\n        handler = argument;\n      }\n    } else if (type !== 'null') {\n      throw new Error('Invalid arguments');\n    }\n  }\n  transform = new Transformer(options, handler);\n  error = false;\n  if (data) {\n    process.nextTick(function() {\n      var len1, m, row;\n      for (m = 0, len1 = data.length; m < len1; m++) {\n        row = data[m];\n        if (error) {\n          break;\n        }\n        transform.write(row);\n      }\n      return transform.end();\n    });\n  }\n  if (callback || options.consume) {\n    result = [];\n    transform.on('readable', function() {\n      var r, results;\n      results = [];\n      while ((r = transform.read())) {\n        if (callback) {\n          results.push(result.push(r));\n        } else {\n          results.push(void 0);\n        }\n      }\n      return results;\n    });\n    transform.on('error', function(err) {\n      error = true;\n      if (callback) {\n        return callback(err);\n      }\n    });\n    transform.on('end', function() {\n      if (callback && !error) {\n        return callback(null, result);\n      }\n    });\n  }\n  return transform;\n};\n\nTransformer = function(options1, transform1) {\n  var base;\n  this.options = options1 != null ? options1 : {};\n  this.transform = transform1;\n  this.options.objectMode = true;\n  if ((base = this.options).parallel == null) {\n    base.parallel = 100;\n  }\n  stream.Transform.call(this, this.options);\n  this.running = 0;\n  this.started = 0;\n  this.finished = 0;\n  return this;\n};\n\nutil.inherits(Transformer, stream.Transform);\n\nmodule.exports.Transformer = Transformer;\n\nTransformer.prototype._transform = function(chunk, encoding, cb) {\n  var callback, err, l;\n  this.started++;\n  this.running++;\n  if (this.running < this.options.parallel) {\n    cb();\n    cb = null;\n  }\n  try {\n    l = this.transform.length;\n    if (this.options.params != null) {\n      l--;\n    }\n    if (l === 1) {\n      this._done(null, [this.transform.call(null, chunk, this.options.params)], cb);\n    } else if (l === 2) {\n      callback = (function(_this) {\n        return function() {\n          var chunks, err;\n          err = arguments[0], chunks = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n          return _this._done(err, chunks, cb);\n        };\n      })(this);\n      this.transform.call(null, chunk, callback, this.options.params);\n    } else {\n      throw Error(\"Invalid handler arguments\");\n    }\n    return false;\n  } catch (_error) {\n    err = _error;\n    return this._done(err);\n  }\n};\n\nTransformer.prototype._flush = function(cb) {\n  this._ending = function() {\n    if (this.running === 0) {\n      return cb();\n    }\n  };\n  return this._ending();\n};\n\nTransformer.prototype._done = function(err, chunks, cb) {\n  var chunk, j, len;\n  this.running--;\n  if (err) {\n    return this.emit('error', err);\n  }\n  this.finished++;\n  for (j = 0, len = chunks.length; j < len; j++) {\n    chunk = chunks[j];\n    if (typeof chunk === 'number') {\n      chunk = \"\" + chunk;\n    }\n    if (chunk != null) {\n      this.push(chunk);\n    }\n  }\n  if (cb) {\n    cb();\n  }\n  if (this._ending) {\n    return this._ending();\n  }\n};\n","\n//force to a valid range\nvar range = exports.range = function (obj) {\n  return null == obj ? {} : 'string' === typeof range ? {\n      min: range, max: range + '\\xff'\n    } :  obj\n}\n\n//turn into a sub range.\nvar prefix = exports.prefix = function (range, within, term) {\n  range = exports.range(range)\n  var _range = {}\n  term = term || '\\xff'\n  if(range instanceof RegExp || 'function' == typeof range) {\n    _range.min = within\n    _range.max   = within + term,\n    _range.inner = function (k) {\n      var j = k.substring(within.length)\n      if(range.test)\n        return range.test(j)\n      return range(j)\n    }\n  }\n  else if('object' === typeof range) {\n    _range.min = within + (range.min || range.start || '')\n    _range.max = within + (range.max || range.end   || (term || '~'))\n    _range.reverse = !!range.reverse\n  }\n  return _range\n}\n\n//return a function that checks a range\nvar checker = exports.checker = function (range) {\n  if(!range) range = {}\n\n  if ('string' === typeof range)\n    return function (key) {\n      return key.indexOf(range) == 0\n    }\n  else if(range instanceof RegExp)\n    return function (key) {\n      return range.test(key)\n    }\n  else if('object' === typeof range)\n    return function (key) {\n      var min = range.min || range.start\n      var max = range.max || range.end\n\n      // fixes keys passed as ints from sublevels\n      key = String(key)\n\n      return (\n        !min || key >= min\n      ) && (\n        !max || key <= max\n      ) && (\n        !range.inner || (\n          range.inner.test \n            ? range.inner.test(key)\n            : range.inner(key)\n        )\n      )\n    }\n  else if('function' === typeof range)\n    return range\n}\n//check if a key is within a range.\nvar satifies = exports.satisfies = function (key, range) {\n  return checker(range)(key)\n}\n\n\n","module.exports = StringStream\n\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\ninherits(StringStream, stream.Readable)\n\nfunction StringStream (str) {\n  if (!(this instanceof StringStream)) return new StringStream(str)\n  stream.Readable.call(this)\n  this._str = str\n}\n\nStringStream.prototype._read = function () {\n  if (!this.ended) {\n    var self = this\n    process.nextTick(function () {\n      self.push(new Buffer(self._str))\n      self.push(null)\n    })\n    this.ended = true\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};","/**\n * Convert a typed array to a Buffer without a copy\n *\n * Author:   Feross Aboukhadijeh <https://feross.org>\n * License:  MIT\n *\n * `npm install typedarray-to-buffer`\n */\n\nvar isTypedArray = require('is-typedarray').strict\n\nmodule.exports = function typedarrayToBuffer (arr) {\n  if (isTypedArray(arr)) {\n    // To avoid a copy, use the typed array's underlying ArrayBuffer to back new Buffer\n    var buf = Buffer.from(arr.buffer)\n    if (arr.byteLength !== arr.buffer.byteLength) {\n      // Respect the \"view\", i.e. byteOffset and byteLength, without doing a copy\n      buf = buf.slice(arr.byteOffset, arr.byteOffset + arr.byteLength)\n    }\n    return buf\n  } else {\n    // Pass through all other types to `Buffer.from`\n    return Buffer.from(arr)\n  }\n}\n","var undefined = (void 0); // Paranoia\n\n// Beyond this value, index getters/setters (i.e. array[0], array[1]) are so slow to\n// create, and consume so much memory, that the browser appears frozen.\nvar MAX_ARRAY_LENGTH = 1e5;\n\n// Approximations of internal ECMAScript conversion functions\nvar ECMAScript = (function() {\n  // Stash a copy in case other scripts modify these\n  var opts = Object.prototype.toString,\n      ophop = Object.prototype.hasOwnProperty;\n\n  return {\n    // Class returns internal [[Class]] property, used to avoid cross-frame instanceof issues:\n    Class: function(v) { return opts.call(v).replace(/^\\[object *|\\]$/g, ''); },\n    HasProperty: function(o, p) { return p in o; },\n    HasOwnProperty: function(o, p) { return ophop.call(o, p); },\n    IsCallable: function(o) { return typeof o === 'function'; },\n    ToInt32: function(v) { return v >> 0; },\n    ToUint32: function(v) { return v >>> 0; }\n  };\n}());\n\n// Snapshot intrinsics\nvar LN2 = Math.LN2,\n    abs = Math.abs,\n    floor = Math.floor,\n    log = Math.log,\n    min = Math.min,\n    pow = Math.pow,\n    round = Math.round;\n\n// ES5: lock down object properties\nfunction configureProperties(obj) {\n  if (getOwnPropNames && defineProp) {\n    var props = getOwnPropNames(obj), i;\n    for (i = 0; i < props.length; i += 1) {\n      defineProp(obj, props[i], {\n        value: obj[props[i]],\n        writable: false,\n        enumerable: false,\n        configurable: false\n      });\n    }\n  }\n}\n\n// emulate ES5 getter/setter API using legacy APIs\n// http://blogs.msdn.com/b/ie/archive/2010/09/07/transitioning-existing-code-to-the-es5-getter-setter-apis.aspx\n// (second clause tests for Object.defineProperty() in IE<9 that only supports extending DOM prototypes, but\n// note that IE<9 does not support __defineGetter__ or __defineSetter__ so it just renders the method harmless)\nvar defineProp\nif (Object.defineProperty && (function() {\n      try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n      } catch (e) {\n        return false;\n      }\n    })()) {\n  defineProp = Object.defineProperty;\n} else {\n  defineProp = function(o, p, desc) {\n    if (!o === Object(o)) throw new TypeError(\"Object.defineProperty called on non-object\");\n    if (ECMAScript.HasProperty(desc, 'get') && Object.prototype.__defineGetter__) { Object.prototype.__defineGetter__.call(o, p, desc.get); }\n    if (ECMAScript.HasProperty(desc, 'set') && Object.prototype.__defineSetter__) { Object.prototype.__defineSetter__.call(o, p, desc.set); }\n    if (ECMAScript.HasProperty(desc, 'value')) { o[p] = desc.value; }\n    return o;\n  };\n}\n\nvar getOwnPropNames = Object.getOwnPropertyNames || function (o) {\n  if (o !== Object(o)) throw new TypeError(\"Object.getOwnPropertyNames called on non-object\");\n  var props = [], p;\n  for (p in o) {\n    if (ECMAScript.HasOwnProperty(o, p)) {\n      props.push(p);\n    }\n  }\n  return props;\n};\n\n// ES5: Make obj[index] an alias for obj._getter(index)/obj._setter(index, value)\n// for index in 0 ... obj.length\nfunction makeArrayAccessors(obj) {\n  if (!defineProp) { return; }\n\n  if (obj.length > MAX_ARRAY_LENGTH) throw new RangeError(\"Array too large for polyfill\");\n\n  function makeArrayAccessor(index) {\n    defineProp(obj, index, {\n      'get': function() { return obj._getter(index); },\n      'set': function(v) { obj._setter(index, v); },\n      enumerable: true,\n      configurable: false\n    });\n  }\n\n  var i;\n  for (i = 0; i < obj.length; i += 1) {\n    makeArrayAccessor(i);\n  }\n}\n\n// Internal conversion functions:\n//    pack<Type>()   - take a number (interpreted as Type), output a byte array\n//    unpack<Type>() - take a byte array, output a Type-like number\n\nfunction as_signed(value, bits) { var s = 32 - bits; return (value << s) >> s; }\nfunction as_unsigned(value, bits) { var s = 32 - bits; return (value << s) >>> s; }\n\nfunction packI8(n) { return [n & 0xff]; }\nfunction unpackI8(bytes) { return as_signed(bytes[0], 8); }\n\nfunction packU8(n) { return [n & 0xff]; }\nfunction unpackU8(bytes) { return as_unsigned(bytes[0], 8); }\n\nfunction packU8Clamped(n) { n = round(Number(n)); return [n < 0 ? 0 : n > 0xff ? 0xff : n & 0xff]; }\n\nfunction packI16(n) { return [(n >> 8) & 0xff, n & 0xff]; }\nfunction unpackI16(bytes) { return as_signed(bytes[0] << 8 | bytes[1], 16); }\n\nfunction packU16(n) { return [(n >> 8) & 0xff, n & 0xff]; }\nfunction unpackU16(bytes) { return as_unsigned(bytes[0] << 8 | bytes[1], 16); }\n\nfunction packI32(n) { return [(n >> 24) & 0xff, (n >> 16) & 0xff, (n >> 8) & 0xff, n & 0xff]; }\nfunction unpackI32(bytes) { return as_signed(bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], 32); }\n\nfunction packU32(n) { return [(n >> 24) & 0xff, (n >> 16) & 0xff, (n >> 8) & 0xff, n & 0xff]; }\nfunction unpackU32(bytes) { return as_unsigned(bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], 32); }\n\nfunction packIEEE754(v, ebits, fbits) {\n\n  var bias = (1 << (ebits - 1)) - 1,\n      s, e, f, ln,\n      i, bits, str, bytes;\n\n  function roundToEven(n) {\n    var w = floor(n), f = n - w;\n    if (f < 0.5)\n      return w;\n    if (f > 0.5)\n      return w + 1;\n    return w % 2 ? w + 1 : w;\n  }\n\n  // Compute sign, exponent, fraction\n  if (v !== v) {\n    // NaN\n    // http://dev.w3.org/2006/webapi/WebIDL/#es-type-mapping\n    e = (1 << ebits) - 1; f = pow(2, fbits - 1); s = 0;\n  } else if (v === Infinity || v === -Infinity) {\n    e = (1 << ebits) - 1; f = 0; s = (v < 0) ? 1 : 0;\n  } else if (v === 0) {\n    e = 0; f = 0; s = (1 / v === -Infinity) ? 1 : 0;\n  } else {\n    s = v < 0;\n    v = abs(v);\n\n    if (v >= pow(2, 1 - bias)) {\n      e = min(floor(log(v) / LN2), 1023);\n      f = roundToEven(v / pow(2, e) * pow(2, fbits));\n      if (f / pow(2, fbits) >= 2) {\n        e = e + 1;\n        f = 1;\n      }\n      if (e > bias) {\n        // Overflow\n        e = (1 << ebits) - 1;\n        f = 0;\n      } else {\n        // Normalized\n        e = e + bias;\n        f = f - pow(2, fbits);\n      }\n    } else {\n      // Denormalized\n      e = 0;\n      f = roundToEven(v / pow(2, 1 - bias - fbits));\n    }\n  }\n\n  // Pack sign, exponent, fraction\n  bits = [];\n  for (i = fbits; i; i -= 1) { bits.push(f % 2 ? 1 : 0); f = floor(f / 2); }\n  for (i = ebits; i; i -= 1) { bits.push(e % 2 ? 1 : 0); e = floor(e / 2); }\n  bits.push(s ? 1 : 0);\n  bits.reverse();\n  str = bits.join('');\n\n  // Bits to bytes\n  bytes = [];\n  while (str.length) {\n    bytes.push(parseInt(str.substring(0, 8), 2));\n    str = str.substring(8);\n  }\n  return bytes;\n}\n\nfunction unpackIEEE754(bytes, ebits, fbits) {\n\n  // Bytes to bits\n  var bits = [], i, j, b, str,\n      bias, s, e, f;\n\n  for (i = bytes.length; i; i -= 1) {\n    b = bytes[i - 1];\n    for (j = 8; j; j -= 1) {\n      bits.push(b % 2 ? 1 : 0); b = b >> 1;\n    }\n  }\n  bits.reverse();\n  str = bits.join('');\n\n  // Unpack sign, exponent, fraction\n  bias = (1 << (ebits - 1)) - 1;\n  s = parseInt(str.substring(0, 1), 2) ? -1 : 1;\n  e = parseInt(str.substring(1, 1 + ebits), 2);\n  f = parseInt(str.substring(1 + ebits), 2);\n\n  // Produce number\n  if (e === (1 << ebits) - 1) {\n    return f !== 0 ? NaN : s * Infinity;\n  } else if (e > 0) {\n    // Normalized\n    return s * pow(2, e - bias) * (1 + f / pow(2, fbits));\n  } else if (f !== 0) {\n    // Denormalized\n    return s * pow(2, -(bias - 1)) * (f / pow(2, fbits));\n  } else {\n    return s < 0 ? -0 : 0;\n  }\n}\n\nfunction unpackF64(b) { return unpackIEEE754(b, 11, 52); }\nfunction packF64(v) { return packIEEE754(v, 11, 52); }\nfunction unpackF32(b) { return unpackIEEE754(b, 8, 23); }\nfunction packF32(v) { return packIEEE754(v, 8, 23); }\n\n\n//\n// 3 The ArrayBuffer Type\n//\n\n(function() {\n\n  /** @constructor */\n  var ArrayBuffer = function ArrayBuffer(length) {\n    length = ECMAScript.ToInt32(length);\n    if (length < 0) throw new RangeError('ArrayBuffer size is not a small enough positive integer');\n\n    this.byteLength = length;\n    this._bytes = [];\n    this._bytes.length = length;\n\n    var i;\n    for (i = 0; i < this.byteLength; i += 1) {\n      this._bytes[i] = 0;\n    }\n\n    configureProperties(this);\n  };\n\n  exports.ArrayBuffer = exports.ArrayBuffer || ArrayBuffer;\n\n  //\n  // 4 The ArrayBufferView Type\n  //\n\n  // NOTE: this constructor is not exported\n  /** @constructor */\n  var ArrayBufferView = function ArrayBufferView() {\n    //this.buffer = null;\n    //this.byteOffset = 0;\n    //this.byteLength = 0;\n  };\n\n  //\n  // 5 The Typed Array View Types\n  //\n\n  function makeConstructor(bytesPerElement, pack, unpack) {\n    // Each TypedArray type requires a distinct constructor instance with\n    // identical logic, which this produces.\n\n    var ctor;\n    ctor = function(buffer, byteOffset, length) {\n      var array, sequence, i, s;\n\n      if (!arguments.length || typeof arguments[0] === 'number') {\n        // Constructor(unsigned long length)\n        this.length = ECMAScript.ToInt32(arguments[0]);\n        if (length < 0) throw new RangeError('ArrayBufferView size is not a small enough positive integer');\n\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n      } else if (typeof arguments[0] === 'object' && arguments[0].constructor === ctor) {\n        // Constructor(TypedArray array)\n        array = arguments[0];\n\n        this.length = array.length;\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n\n        for (i = 0; i < this.length; i += 1) {\n          this._setter(i, array._getter(i));\n        }\n      } else if (typeof arguments[0] === 'object' &&\n                 !(arguments[0] instanceof ArrayBuffer || ECMAScript.Class(arguments[0]) === 'ArrayBuffer')) {\n        // Constructor(sequence<type> array)\n        sequence = arguments[0];\n\n        this.length = ECMAScript.ToUint32(sequence.length);\n        this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        this.buffer = new ArrayBuffer(this.byteLength);\n        this.byteOffset = 0;\n\n        for (i = 0; i < this.length; i += 1) {\n          s = sequence[i];\n          this._setter(i, Number(s));\n        }\n      } else if (typeof arguments[0] === 'object' &&\n                 (arguments[0] instanceof ArrayBuffer || ECMAScript.Class(arguments[0]) === 'ArrayBuffer')) {\n        // Constructor(ArrayBuffer buffer,\n        //             optional unsigned long byteOffset, optional unsigned long length)\n        this.buffer = buffer;\n\n        this.byteOffset = ECMAScript.ToUint32(byteOffset);\n        if (this.byteOffset > this.buffer.byteLength) {\n          throw new RangeError(\"byteOffset out of range\");\n        }\n\n        if (this.byteOffset % this.BYTES_PER_ELEMENT) {\n          // The given byteOffset must be a multiple of the element\n          // size of the specific type, otherwise an exception is raised.\n          throw new RangeError(\"ArrayBuffer length minus the byteOffset is not a multiple of the element size.\");\n        }\n\n        if (arguments.length < 3) {\n          this.byteLength = this.buffer.byteLength - this.byteOffset;\n\n          if (this.byteLength % this.BYTES_PER_ELEMENT) {\n            throw new RangeError(\"length of buffer minus byteOffset not a multiple of the element size\");\n          }\n          this.length = this.byteLength / this.BYTES_PER_ELEMENT;\n        } else {\n          this.length = ECMAScript.ToUint32(length);\n          this.byteLength = this.length * this.BYTES_PER_ELEMENT;\n        }\n\n        if ((this.byteOffset + this.byteLength) > this.buffer.byteLength) {\n          throw new RangeError(\"byteOffset and length reference an area beyond the end of the buffer\");\n        }\n      } else {\n        throw new TypeError(\"Unexpected argument type(s)\");\n      }\n\n      this.constructor = ctor;\n\n      configureProperties(this);\n      makeArrayAccessors(this);\n    };\n\n    ctor.prototype = new ArrayBufferView();\n    ctor.prototype.BYTES_PER_ELEMENT = bytesPerElement;\n    ctor.prototype._pack = pack;\n    ctor.prototype._unpack = unpack;\n    ctor.BYTES_PER_ELEMENT = bytesPerElement;\n\n    // getter type (unsigned long index);\n    ctor.prototype._getter = function(index) {\n      if (arguments.length < 1) throw new SyntaxError(\"Not enough arguments\");\n\n      index = ECMAScript.ToUint32(index);\n      if (index >= this.length) {\n        return undefined;\n      }\n\n      var bytes = [], i, o;\n      for (i = 0, o = this.byteOffset + index * this.BYTES_PER_ELEMENT;\n           i < this.BYTES_PER_ELEMENT;\n           i += 1, o += 1) {\n        bytes.push(this.buffer._bytes[o]);\n      }\n      return this._unpack(bytes);\n    };\n\n    // NONSTANDARD: convenience alias for getter: type get(unsigned long index);\n    ctor.prototype.get = ctor.prototype._getter;\n\n    // setter void (unsigned long index, type value);\n    ctor.prototype._setter = function(index, value) {\n      if (arguments.length < 2) throw new SyntaxError(\"Not enough arguments\");\n\n      index = ECMAScript.ToUint32(index);\n      if (index >= this.length) {\n        return undefined;\n      }\n\n      var bytes = this._pack(value), i, o;\n      for (i = 0, o = this.byteOffset + index * this.BYTES_PER_ELEMENT;\n           i < this.BYTES_PER_ELEMENT;\n           i += 1, o += 1) {\n        this.buffer._bytes[o] = bytes[i];\n      }\n    };\n\n    // void set(TypedArray array, optional unsigned long offset);\n    // void set(sequence<type> array, optional unsigned long offset);\n    ctor.prototype.set = function(index, value) {\n      if (arguments.length < 1) throw new SyntaxError(\"Not enough arguments\");\n      var array, sequence, offset, len,\n          i, s, d,\n          byteOffset, byteLength, tmp;\n\n      if (typeof arguments[0] === 'object' && arguments[0].constructor === this.constructor) {\n        // void set(TypedArray array, optional unsigned long offset);\n        array = arguments[0];\n        offset = ECMAScript.ToUint32(arguments[1]);\n\n        if (offset + array.length > this.length) {\n          throw new RangeError(\"Offset plus length of array is out of range\");\n        }\n\n        byteOffset = this.byteOffset + offset * this.BYTES_PER_ELEMENT;\n        byteLength = array.length * this.BYTES_PER_ELEMENT;\n\n        if (array.buffer === this.buffer) {\n          tmp = [];\n          for (i = 0, s = array.byteOffset; i < byteLength; i += 1, s += 1) {\n            tmp[i] = array.buffer._bytes[s];\n          }\n          for (i = 0, d = byteOffset; i < byteLength; i += 1, d += 1) {\n            this.buffer._bytes[d] = tmp[i];\n          }\n        } else {\n          for (i = 0, s = array.byteOffset, d = byteOffset;\n               i < byteLength; i += 1, s += 1, d += 1) {\n            this.buffer._bytes[d] = array.buffer._bytes[s];\n          }\n        }\n      } else if (typeof arguments[0] === 'object' && typeof arguments[0].length !== 'undefined') {\n        // void set(sequence<type> array, optional unsigned long offset);\n        sequence = arguments[0];\n        len = ECMAScript.ToUint32(sequence.length);\n        offset = ECMAScript.ToUint32(arguments[1]);\n\n        if (offset + len > this.length) {\n          throw new RangeError(\"Offset plus length of array is out of range\");\n        }\n\n        for (i = 0; i < len; i += 1) {\n          s = sequence[i];\n          this._setter(offset + i, Number(s));\n        }\n      } else {\n        throw new TypeError(\"Unexpected argument type(s)\");\n      }\n    };\n\n    // TypedArray subarray(long begin, optional long end);\n    ctor.prototype.subarray = function(start, end) {\n      function clamp(v, min, max) { return v < min ? min : v > max ? max : v; }\n\n      start = ECMAScript.ToInt32(start);\n      end = ECMAScript.ToInt32(end);\n\n      if (arguments.length < 1) { start = 0; }\n      if (arguments.length < 2) { end = this.length; }\n\n      if (start < 0) { start = this.length + start; }\n      if (end < 0) { end = this.length + end; }\n\n      start = clamp(start, 0, this.length);\n      end = clamp(end, 0, this.length);\n\n      var len = end - start;\n      if (len < 0) {\n        len = 0;\n      }\n\n      return new this.constructor(\n        this.buffer, this.byteOffset + start * this.BYTES_PER_ELEMENT, len);\n    };\n\n    return ctor;\n  }\n\n  var Int8Array = makeConstructor(1, packI8, unpackI8);\n  var Uint8Array = makeConstructor(1, packU8, unpackU8);\n  var Uint8ClampedArray = makeConstructor(1, packU8Clamped, unpackU8);\n  var Int16Array = makeConstructor(2, packI16, unpackI16);\n  var Uint16Array = makeConstructor(2, packU16, unpackU16);\n  var Int32Array = makeConstructor(4, packI32, unpackI32);\n  var Uint32Array = makeConstructor(4, packU32, unpackU32);\n  var Float32Array = makeConstructor(4, packF32, unpackF32);\n  var Float64Array = makeConstructor(8, packF64, unpackF64);\n\n  exports.Int8Array = exports.Int8Array || Int8Array;\n  exports.Uint8Array = exports.Uint8Array || Uint8Array;\n  exports.Uint8ClampedArray = exports.Uint8ClampedArray || Uint8ClampedArray;\n  exports.Int16Array = exports.Int16Array || Int16Array;\n  exports.Uint16Array = exports.Uint16Array || Uint16Array;\n  exports.Int32Array = exports.Int32Array || Int32Array;\n  exports.Uint32Array = exports.Uint32Array || Uint32Array;\n  exports.Float32Array = exports.Float32Array || Float32Array;\n  exports.Float64Array = exports.Float64Array || Float64Array;\n}());\n\n//\n// 6 The DataView View Type\n//\n\n(function() {\n  function r(array, index) {\n    return ECMAScript.IsCallable(array.get) ? array.get(index) : array[index];\n  }\n\n  var IS_BIG_ENDIAN = (function() {\n    var u16array = new(exports.Uint16Array)([0x1234]),\n        u8array = new(exports.Uint8Array)(u16array.buffer);\n    return r(u8array, 0) === 0x12;\n  }());\n\n  // Constructor(ArrayBuffer buffer,\n  //             optional unsigned long byteOffset,\n  //             optional unsigned long byteLength)\n  /** @constructor */\n  var DataView = function DataView(buffer, byteOffset, byteLength) {\n    if (arguments.length === 0) {\n      buffer = new exports.ArrayBuffer(0);\n    } else if (!(buffer instanceof exports.ArrayBuffer || ECMAScript.Class(buffer) === 'ArrayBuffer')) {\n      throw new TypeError(\"TypeError\");\n    }\n\n    this.buffer = buffer || new exports.ArrayBuffer(0);\n\n    this.byteOffset = ECMAScript.ToUint32(byteOffset);\n    if (this.byteOffset > this.buffer.byteLength) {\n      throw new RangeError(\"byteOffset out of range\");\n    }\n\n    if (arguments.length < 3) {\n      this.byteLength = this.buffer.byteLength - this.byteOffset;\n    } else {\n      this.byteLength = ECMAScript.ToUint32(byteLength);\n    }\n\n    if ((this.byteOffset + this.byteLength) > this.buffer.byteLength) {\n      throw new RangeError(\"byteOffset and length reference an area beyond the end of the buffer\");\n    }\n\n    configureProperties(this);\n  };\n\n  function makeGetter(arrayType) {\n    return function(byteOffset, littleEndian) {\n\n      byteOffset = ECMAScript.ToUint32(byteOffset);\n\n      if (byteOffset + arrayType.BYTES_PER_ELEMENT > this.byteLength) {\n        throw new RangeError(\"Array index out of range\");\n      }\n      byteOffset += this.byteOffset;\n\n      var uint8Array = new exports.Uint8Array(this.buffer, byteOffset, arrayType.BYTES_PER_ELEMENT),\n          bytes = [], i;\n      for (i = 0; i < arrayType.BYTES_PER_ELEMENT; i += 1) {\n        bytes.push(r(uint8Array, i));\n      }\n\n      if (Boolean(littleEndian) === Boolean(IS_BIG_ENDIAN)) {\n        bytes.reverse();\n      }\n\n      return r(new arrayType(new exports.Uint8Array(bytes).buffer), 0);\n    };\n  }\n\n  DataView.prototype.getUint8 = makeGetter(exports.Uint8Array);\n  DataView.prototype.getInt8 = makeGetter(exports.Int8Array);\n  DataView.prototype.getUint16 = makeGetter(exports.Uint16Array);\n  DataView.prototype.getInt16 = makeGetter(exports.Int16Array);\n  DataView.prototype.getUint32 = makeGetter(exports.Uint32Array);\n  DataView.prototype.getInt32 = makeGetter(exports.Int32Array);\n  DataView.prototype.getFloat32 = makeGetter(exports.Float32Array);\n  DataView.prototype.getFloat64 = makeGetter(exports.Float64Array);\n\n  function makeSetter(arrayType) {\n    return function(byteOffset, value, littleEndian) {\n\n      byteOffset = ECMAScript.ToUint32(byteOffset);\n      if (byteOffset + arrayType.BYTES_PER_ELEMENT > this.byteLength) {\n        throw new RangeError(\"Array index out of range\");\n      }\n\n      // Get bytes\n      var typeArray = new arrayType([value]),\n          byteArray = new exports.Uint8Array(typeArray.buffer),\n          bytes = [], i, byteView;\n\n      for (i = 0; i < arrayType.BYTES_PER_ELEMENT; i += 1) {\n        bytes.push(r(byteArray, i));\n      }\n\n      // Flip if necessary\n      if (Boolean(littleEndian) === Boolean(IS_BIG_ENDIAN)) {\n        bytes.reverse();\n      }\n\n      // Write them\n      byteView = new exports.Uint8Array(this.buffer, byteOffset, arrayType.BYTES_PER_ELEMENT);\n      byteView.set(bytes);\n    };\n  }\n\n  DataView.prototype.setUint8 = makeSetter(exports.Uint8Array);\n  DataView.prototype.setInt8 = makeSetter(exports.Int8Array);\n  DataView.prototype.setUint16 = makeSetter(exports.Uint16Array);\n  DataView.prototype.setInt16 = makeSetter(exports.Int16Array);\n  DataView.prototype.setUint32 = makeSetter(exports.Uint32Array);\n  DataView.prototype.setInt32 = makeSetter(exports.Int32Array);\n  DataView.prototype.setFloat32 = makeSetter(exports.Float32Array);\n  DataView.prototype.setFloat64 = makeSetter(exports.Float64Array);\n\n  exports.DataView = exports.DataView || DataView;\n\n}());\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n"]}